<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.5">
<link rel="alternate" type="application/rss+xml" href="/news/rss.xml" title="air native extensions Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/news/atom.xml" title="air native extensions Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-188619114-3","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="air native extensions" href="/opensearch.xml"><title data-react-helmet="true">Firestore - Get data | air native extensions</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:image" content="https://docs.airnativeextensions.com/img/ane-icon-black.png"><meta data-react-helmet="true" name="twitter:image" content="https://docs.airnativeextensions.com/img/ane-icon-black.png"><meta data-react-helmet="true" property="og:url" content="https://docs.airnativeextensions.com/docs/firebase/firestore/get-data"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Firestore - Get data | air native extensions"><meta data-react-helmet="true" name="description" content="There are two ways to retrieve data stored in Cloud Firestore. Either of these methods can be used with documents, collections of documents, or the results of queries:"><meta data-react-helmet="true" property="og:description" content="There are two ways to retrieve data stored in Cloud Firestore. Either of these methods can be used with documents, collections of documents, or the results of queries:"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.airnativeextensions.com/docs/firebase/firestore/get-data"><link data-react-helmet="true" rel="alternate" href="https://docs.airnativeextensions.com/docs/firebase/firestore/get-data" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.airnativeextensions.com/docs/firebase/firestore/get-data" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.bfc8195f.css">
<link rel="preload" href="/assets/js/runtime~main.de833b1a.js" as="script">
<link rel="preload" href="/assets/js/main.3f8dd92d.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1boX">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/ane-icon-black.png" alt="AIR Native Extensions" class="themedImage_3oOy themedImage--light_3ouy navbar__logo"><img src="/img/ane-icon-white.png" alt="AIR Native Extensions" class="themedImage_3oOy themedImage--dark_3zJb navbar__logo"><b class="navbar__title">AIR Native Extensions</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a class="navbar__item navbar__link" href="/news/">News</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle toggle_2ySP react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_2iFN"> </span></div><div class="react-toggle-track-x"><span class="toggle_2iFN"> </span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="searchBox_xXbB"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_3zOJ"><button class="clean-btn backToTopButton_DkI0" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_G8MK"><div class="sidebar_1tWv"><nav class="menu thin-scrollbar menu_1Iah menuWithAnnouncementBar_3acx"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/">Home</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/firebase/">Firebase</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Setup Firebase for your application</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Core / Analytics</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Develop</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Authentication</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Realtime Database</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Cloud Firestore</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/firebase/firestore/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/firebase/firestore/add-the-extension">Add the extension</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Add and manage data</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Query data</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/firebase/firestore/get-data">Get data</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/firebase/firestore/get-realtime-updates">Get realtime updates</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/firebase/firestore/perform-simple-and-compound-queries">Perform simple and compound queries</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/firebase/firestore/order-and-limit-data">Order and limit data</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/firebase/firestore/paginate-data-with-query-cursors">Paginate data with query cursors</a></li><li class="menu__list-item"><a href="https://firebase.google.com/docs/firestore/query-data/index-overview" target="_blank" rel="noopener noreferrer" class="menu__link" tabindex="0"><span>Index types (external)<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_37dV"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="menu__list-item"><a href="https://firebase.google.com/docs/firestore/query-data/indexing" target="_blank" rel="noopener noreferrer" class="menu__link" tabindex="0"><span>Manage indexes (external)<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_37dV"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Security</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/firebase/firestore/enable-offline-data">Enable offline data</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Further reading</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Storage</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#">Quality</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Crashlytics</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Performance Monitoring</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#">Grow</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Cloud Messaging</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Remote Config</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Dynamic Links</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Migration Guides</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Other</a></li></ul></nav></div></aside><main class="docMainContainer_3Zec"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_2q91"><div class="docItemContainer_37q2"><article><div class="tocCollapsible_3moT tocMobile_2bxg"><button type="button" class="clean-btn tocCollapsibleButton_3OYu">On this page</button></div><div class="markdown"><header><h1>Firestore - Get data</h1></header><p>There are two ways to retrieve data stored in Cloud Firestore. Either of these methods can be used with documents, collections of documents, or the results of queries:</p><ul><li>Call a method to get the data.</li><li>Set a listener to receive data-change events.</li></ul><p>When you set a listener, Cloud Firestore sends your listener an initial snapshot of the data, and then another snapshot each time the document changes.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_1iPN" id="get-a-document"></a>Get a document<a class="hash-link" href="#get-a-document" title="Direct link to heading">#</a></h2><p>To retrieve the contents of a single doucment you call the <code>getDocument()</code> function on a <code>DocumentReference</code>.</p><p>As with most of the functionality in this extension you can either use success and failure listeners or event listeners to handle the responses.</p><blockquote><p>Note: If there is no document at the location referenced by the <code>DocumentReference</code>, the resulting document will be empty and calling exists on it will return false.</p></blockquote><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_1iPN" id="using-success-and-failure-listeners"></a>Using Success and Failure Listeners<a class="hash-link" href="#using-success-and-failure-listeners" title="Direct link to heading">#</a></h4><p>The following example shows how to retrieve the contents of a single document using <code>getDocument()</code> using success and failure listeners:</p><div class="codeBlockContainer_21wf"><div class="codeBlockContent_1izB actionscript"><pre tabindex="0" class="prism-code language-actionscript codeBlock_1uaJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_3_dS"><span class="token-line" style="color:#393A34"><span class="token plain">FirebaseFirestore.service.document(&quot;path&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        .getDocument()</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        .addOnSuccessListener( function( snapshot:DocumentSnapshot ):void</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (event.snapshot.exists())</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                trace( &quot;Document data: &quot; + JSON.stringify( event.snapshot.getData() ) );</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            else</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                trace( &quot;Get Document: Does not exist&quot; );</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        })</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        .addOnFailureListener( function( message:String ):void</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            trace( &quot;get document :: failed :: &quot; + message );</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        });</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_3XUZ clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_1iPN" id="using-event-listeners"></a>Using Event Listeners<a class="hash-link" href="#using-event-listeners" title="Direct link to heading">#</a></h4><p>The following example shows how to retrieve the contents of a single document using <code>getDocument()</code> using event listeners:</p><div class="codeBlockContainer_21wf"><div class="codeBlockContent_1izB actionscript"><pre tabindex="0" class="prism-code language-actionscript codeBlock_1uaJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_3_dS"><span class="token-line" style="color:#393A34"><span class="token plain">var document:DocumentReference = FirebaseFirestore.service.document( _testDocumentPath );</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span></span><span class="token-line" style="color:#393A34"><span class="token plain">document.addEventListener( DocumentReferenceEvent.GET_SUCCESS, getDocumentSuccessHandler );</span></span><span class="token-line" style="color:#393A34"><span class="token plain">document.addEventListener( DocumentReferenceEvent.GET_ERROR, getDocumentErrorHandler );</span></span><span class="token-line" style="color:#393A34"><span class="token plain">document.getDocument();</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">function getDocumentSuccessHandler( event:DocumentReferenceEvent ):void</span></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    event.currentTarget.removeEventListener( DocumentReferenceEvent.GET_SUCCESS, getDocumentSuccessHandler );</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    event.currentTarget.removeEventListener( DocumentReferenceEvent.GET_ERROR, getDocumentErrorHandler );</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (event.snapshot.exists())</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        trace( &quot;Document data: &quot; + JSON.stringify( event.snapshot.getData() ) );</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    else</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        trace( &quot;Get Document: Does not exist&quot; );</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">function getDocumentErrorHandler( event:DocumentReferenceEvent ):void</span></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    event.currentTarget.removeEventListener( DocumentReferenceEvent.GET_SUCCESS, getDocumentSuccessHandler );</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    event.currentTarget.removeEventListener( DocumentReferenceEvent.GET_ERROR, getDocumentErrorHandler );</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span></span><span class="token-line" style="color:#393A34"><span class="token plain">    trace( &quot;Get Document Error: &quot; + event.message );</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_3XUZ clean-btn">Copy</button></div></div><blockquote><p>Note: You need to ensure you remove event listeners after the result in order to allow the references
to get garbage collected at the appropriate time. Leaving event listeners attached to a query, collection
or document will result in the object not being removed from memory.</p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_1iPN" id="source-options"></a>Source Options<a class="hash-link" href="#source-options" title="Direct link to heading">#</a></h3><p>For platforms with offline support, you can set the source option to control how a get call uses the offline cache.</p><p>By default, a get call will attempt to fetch the latest document snapshot from your database. On platforms with offline support, the client library will use the offline cache if the network is unavailable or if the request times out.</p><p>You can specify the source option in a <code>getDocument()</code> call to change the default behavior. You can fetch from only the database and ignore the offline cache, or you can fetch from only the offline cache. For example:</p><div class="codeBlockContainer_21wf"><div class="codeBlockContent_1izB actionscript"><pre tabindex="0" class="prism-code language-actionscript codeBlock_1uaJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_3_dS"><span class="token-line" style="color:#393A34"><span class="token plain">FirebaseFirestore.service.document(&quot;path&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        .getDocument( Source.CACHE )</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        .addOnSuccessListener( function( snapshot:DocumentSnapshot ):void</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Document found in the offline cache and exists should be true</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (event.snapshot.exists())</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                trace( &quot;Document data: &quot; + JSON.stringify( event.snapshot.getData() ) );</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            else</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                trace( &quot;Get Document: Does not exist&quot; );</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        })</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        .addOnFailureListener( function( message:String ):void</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            trace( &quot;get document :: failed :: &quot; + message );</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        });</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_3XUZ clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_1iPN" id="get-multiple-documents-from-a-collection"></a>Get multiple documents from a collection<a class="hash-link" href="#get-multiple-documents-from-a-collection" title="Direct link to heading">#</a></h2><p>You can also retrieve multiple documents with one request by querying documents in a collection. For example, you can use <code>whereEqualTo()</code> to query for all of the documents that meet a certain condition, then use <code>query()</code> to retrieve the results.</p><p>As with most of the functionality in this extension you can either use success and failure listeners or event listeners to handle the responses.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_1iPN" id="using-success-and-failure-listeners-1"></a>Using Success and Failure Listeners<a class="hash-link" href="#using-success-and-failure-listeners-1" title="Direct link to heading">#</a></h4><p>The following example shows how to retrieve the result of the query using success and failure listeners. The listeners should be added after the <code>query()</code> call using the <code>addOnQuerySuccessHandler</code> and <code>addOnQueryFailureListener</code> functions:</p><div class="codeBlockContainer_21wf"><div class="codeBlockContent_1izB actionscript"><pre tabindex="0" class="prism-code language-actionscript codeBlock_1uaJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_3_dS"><span class="token-line" style="color:#393A34"><span class="token plain">FirebaseFirestore.service.collection(&quot;users&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        .whereEqualTo( &quot;born&quot;, 1980 )</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        .query()</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        .addOnQuerySuccessHandler( function( snapshot:QuerySnapshot ):void</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            trace( &quot;addOnQuerySuccessHandler&quot; );</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        })</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        .addOnQueryFailureListener( function( message:String ):void</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            trace( &quot;addOnQueryFailureListener: &quot; + message );</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        });</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_3XUZ clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_1iPN" id="using-event-listeners-1"></a>Using Event Listeners<a class="hash-link" href="#using-event-listeners-1" title="Direct link to heading">#</a></h4><p>The following example shows how to retrieve the result of the query using event listeners:</p><div class="codeBlockContainer_21wf"><div class="codeBlockContent_1izB actionscript"><pre tabindex="0" class="prism-code language-actionscript codeBlock_1uaJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_3_dS"><span class="token-line" style="color:#393A34"><span class="token plain">var query:Query = FirebaseFirestore.service.collection(&quot;users&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        .whereEqualTo( &quot;born&quot;, 1980 );</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">query.addEventListener( QueryEvent.SUCCESS, querySuccessHandler );</span></span><span class="token-line" style="color:#393A34"><span class="token plain">query.addEventListener( QueryEvent.ERROR, queryErrorHandler );</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">query.query();</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">function querySuccessHandler( event:QueryEvent ):void</span></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    trace( &quot;querySuccessHandler&quot; );</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    event.currentTarget.removeEventListener( QueryEvent.SUCCESS, querySuccessHandler );</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    event.currentTarget.removeEventListener( QueryEvent.ERROR, queryErrorHandler );</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">function queryErrorHandler( event:QueryEvent ):void</span></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    trace( &quot;queryErrorHandler: &quot; + event.message );</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    event.currentTarget.removeEventListener( QueryEvent.SUCCESS, querySuccessHandler );</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    event.currentTarget.removeEventListener( QueryEvent.ERROR, queryErrorHandler );</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_3XUZ clean-btn">Copy</button></div></div><blockquote><p>Note: You need to ensure you remove event listeners after the result in order to allow the references
to get garbage collected at the appropriate time. Leaving event listeners attached to a query, collection
or document will result in the object not being removed from memory.</p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_1iPN" id="get-all-documents-in-a-collection"></a>Get all documents in a collection<a class="hash-link" href="#get-all-documents-in-a-collection" title="Direct link to heading">#</a></h3><p>In addition, you can retrieve all documents in a collection by omitting the <code>whereEqualTo()</code> filter entirely and just referencing the collection.</p><div class="codeBlockContainer_21wf"><div class="codeBlockContent_1izB actionscript"><pre tabindex="0" class="prism-code language-actionscript codeBlock_1uaJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_3_dS"><span class="token-line" style="color:#393A34"><span class="token plain">FirebaseFirestore.service.collection(&quot;users&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    .query()</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    .addOnQuerySuccessHandler( function( snapshot:QuerySnapshot ):void</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        trace( &quot;addOnQuerySuccessHandler&quot; );</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    })</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    .addOnQueryFailureListener( function( message:String ):void</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        trace( &quot;addOnQueryFailureListener: &quot; + message );</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    });</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_3XUZ clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_1iPN" id="list-subcollections-of-a-document"></a>List subcollections of a document<a class="hash-link" href="#list-subcollections-of-a-document" title="Direct link to heading">#</a></h2><p>The <code>getCollections()</code> method of the Cloud Firestore server client libraries lists all subcollections of a document reference.</p><p>Retrieving a list of collections is not possible with the mobile/web client libraries. You should only look up collection names as part of administrative tasks in trusted server environments. If you find that you need this capability in the mobile/web client libraries, consider restructuring your data so that subcollection names are predictable.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/firebase/firestore/delete-data"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Delete data</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/firebase/firestore/get-realtime-updates"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Get realtime updates »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_2pwG thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#get-a-document" class="table-of-contents__link">Get a document</a><ul><li><a href="#source-options" class="table-of-contents__link">Source Options</a></li></ul></li><li><a href="#get-multiple-documents-from-a-collection" class="table-of-contents__link">Get multiple documents from a collection</a><ul><li><a href="#get-all-documents-in-a-collection" class="table-of-contents__link">Get all documents in a collection</a></li></ul></li><li><a href="#list-subcollections-of-a-document" class="table-of-contents__link">List subcollections of a document</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/tutorials/">tutorials</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/distriqt" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_37dV"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/Gamua/Adobe-Runtime-Support/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>AIR discussions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_37dV"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://forum.starling-framework.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>starling<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_37dV"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/distriqt" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>stack overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_37dV"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/news">news</a></li><li class="footer__item"><a href="https://airnativeextensions.com/privacy" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>privacy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_37dV"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://airnativeextensions.com/license" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>license<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_37dV"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright"><br><a href="https://airnativeextensions.com">airnativeextensions.com</a> copyright © 2022 <br><br><a href="https://distriqt.com"><img src="/img/logo.png" alt="distriqt"></a></div></div></div></footer></div>
<script src="/assets/js/runtime~main.de833b1a.js"></script>
<script src="/assets/js/main.3f8dd92d.js"></script>
</body>
</html>
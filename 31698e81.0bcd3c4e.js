(window.webpackJsonp=window.webpackJsonp||[]).push([[164],{220:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return s})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(2),r=n(6),o=(n(0),n(906)),i={title:"Targeting",sidebar_label:"Targeting"},s={unversionedId:"adverts/targeting",id:"adverts/targeting",isDocsHomePage:!1,title:"Targeting",description:"This guide explains how to provide targeting information to an ad request.",source:"@site/docs/adverts/targeting.md",slug:"/adverts/targeting",permalink:"/docs/adverts/targeting",version:"current",sidebar_label:"Targeting",sidebar:"adverts",previous:{title:"Native Ads",permalink:"/docs/adverts/native-ads"},next:{title:"User Messaging Platform",permalink:"/docs/adverts/user-messaging-platform"}},c=[{value:"RequestConfiguration",id:"requestconfiguration",children:[{value:"Child-directed setting",id:"child-directed-setting",children:[]},{value:"Users under the age of consent",id:"users-under-the-age-of-consent",children:[]},{value:"Ad content filtering",id:"ad-content-filtering",children:[]}]},{value:"Ad request",id:"ad-request",children:[{value:"Consent from European Users",id:"consent-from-european-users",children:[]}]}],l={rightToc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},l,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"This guide explains how to provide targeting information to an ad request."),Object(o.b)("h2",{id:"requestconfiguration"},"RequestConfiguration"),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"RequestConfiguration")," is an object that collects targeting information to be applied globally. "),Object(o.b)("p",null,"To update the request configuration retrieve the current configuration and perform any desired updates as follows:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-actionscript"}),"var requestConfiguration:RequestConfiguration = Adverts.service.getRequestConfiguration();\n\nrequestConfiguration.setTagForChildDirectedTreatment( \n        RequestConfiguration.TAG_FOR_CHILD_DIRECTED_TREATMENT_FALSE\n);\n\nAdverts.service.setRequestConfiguration( requestConfiguration );\n")),Object(o.b)("h3",{id:"child-directed-setting"},"Child-directed setting"),Object(o.b)("p",null,"For purposes of the ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"http://business.ftc.gov/privacy-and-security/children%27s-privacy"}),"Children's Online Privacy Protection Act (COPPA)"),', there is a setting called "tag for child-directed treatment". By setting this tag, you certify that this notification is accurate and you are authorized to act on behalf of the owner of the app. You understand that abuse of this setting may result in termination of your Google account.'),Object(o.b)("blockquote",null,Object(o.b)("p",{parentName:"blockquote"},"Note: It may take some time for this designation to take effect in applicable Google services.")),Object(o.b)("p",null,"As an app developer, you can indicate whether you want Google to treat your content as child-directed when you make an ad request. If you indicate that you want Google to treat your content as child-directed, we take steps to disable IBA and remarketing ads. "),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Call ",Object(o.b)("inlineCode",{parentName:"li"},"setTagForChildDirectedTreatment()")," with ",Object(o.b)("inlineCode",{parentName:"li"},"TAG_FOR_CHILD_DIRECTED_TREATMENT_TRUE")," to indicate that you want your content treated as child-directed for purposes of COPPA."),Object(o.b)("li",{parentName:"ul"},"Call ",Object(o.b)("inlineCode",{parentName:"li"},"setTagForChildDirectedTreatment()")," with ",Object(o.b)("inlineCode",{parentName:"li"},"TAG_FOR_CHILD_DIRECTED_TREATMENT_FALSE")," to indicate that you don't want your content treated as child-directed for purposes of COPPA."),Object(o.b)("li",{parentName:"ul"},"Call ",Object(o.b)("inlineCode",{parentName:"li"},"setTagForChildDirectedTreatment()")," with ",Object(o.b)("inlineCode",{parentName:"li"},"TAG_FOR_CHILD_DIRECTED_TREATMENT_UNSPECIFIED")," if you do not wish to indicate how you would like your content treated with respect to COPPA in ad requests.")),Object(o.b)("p",null,"The following example indicates that you want your content treated as child-directed for purposes of COPPA:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-actionscript"}),"var requestConfiguration:RequestConfiguration = Adverts.service.getRequestConfiguration()\n        .setTagForChildDirectedTreatment( RequestConfiguration.TAG_FOR_CHILD_DIRECTED_TREATMENT_TRUE )\n;\nAdverts.service.setRequestConfiguration( requestConfiguration );\n")),Object(o.b)("h3",{id:"users-under-the-age-of-consent"},"Users under the age of consent"),Object(o.b)("p",null,"You can mark your ad requests to receive treatment for users in the European Economic Area (EEA) under the age of consent. This feature is designed to help facilitate compliance with the ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://eur-lex.europa.eu/legal-content/EN/TXT/?uri=CELEX:32016R0679"}),"General Data Protection Regulation (GDPR)"),". Note that you may have other legal obligations under GDPR. Please review the European Union\u2019s guidance and consult with your own legal counsel. Please remember that Google's tools are designed to facilitate compliance and do not relieve any particular publisher of its obligations under the law. ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://support.google.com/admob/answer/7666366"}),"Learn more about how the GDPR affects publishers"),"."),Object(o.b)("p",null,"When using this feature, a Tag For Users under the Age of Consent in Europe (TFUA) parameter will be included in the ad request. This parameter disables personalized advertising, including remarketing, for that specific ad request. It also disables requests to third-party ad vendors, such as ad measurement pixels and third-party ad servers."),Object(o.b)("p",null,"Like child-directed settings, there is a method in ",Object(o.b)("inlineCode",{parentName:"p"},"RequestConfiguration")," for setting the TFUA parameter: ",Object(o.b)("inlineCode",{parentName:"p"},"setTagForUnderAgeOfConsent"),", with the following options:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Call ",Object(o.b)("inlineCode",{parentName:"li"},"setTagForUnderAgeOfConsent()")," with ",Object(o.b)("inlineCode",{parentName:"li"},"TAG_FOR_UNDER_AGE_OF_CONSENT_TRUE")," to indicate that you want the ad request to receive treatment for users in the European Economic Area (EEA) under the age of consent."),Object(o.b)("li",{parentName:"ul"},"Call ",Object(o.b)("inlineCode",{parentName:"li"},"setTagForUnderAgeOfConsent()")," with ",Object(o.b)("inlineCode",{parentName:"li"},"TAG_FOR_UNDER_AGE_OF_CONSENT_FALSE")," to indicate that you want the ad request to not receive treatment for users in the European Economic Area (EEA) under the age of consent."),Object(o.b)("li",{parentName:"ul"},"Call ",Object(o.b)("inlineCode",{parentName:"li"},"setTagForUnderAgeOfConsent()")," with ",Object(o.b)("inlineCode",{parentName:"li"},"TAG_FOR_UNDER_AGE_OF_CONSENT_UNSPECIFIED")," to indicate that you have not specified whether the ad request should receive treatment for users in the European Economic Area (EEA) under the age of consent.")),Object(o.b)("p",null,"The following example indicates that you want TFUA included in your ad request:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-actionscript"}),"var requestConfiguration:RequestConfiguration = Adverts.service.getRequestConfiguration()\n        .setTagForUnderAgeOfConsent( RequestConfiguration.TAG_FOR_UNDER_AGE_OF_CONSENT_TRUE )\n;\nAdverts.service.setRequestConfiguration( requestConfiguration );\n")),Object(o.b)("p",null,"The tags to enable the Child-directed setting and ",Object(o.b)("inlineCode",{parentName:"p"},"setTagForUnderAgeOfConsent")," should not both simultaneously be set to true. If they are, the child-directed setting takes precedence."),Object(o.b)("h3",{id:"ad-content-filtering"},"Ad content filtering"),Object(o.b)("p",null,"Apps can set a maximum ad content rating for their ad requests using the ",Object(o.b)("inlineCode",{parentName:"p"},"setMaxAdContentRating()")," function. AdMob ads returned have a content rating at or below that level. The possible values for this network extra are based on digital content label classifications, and should be one of the following values:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"RequestConfiguration.MAX_AD_CONTENT_RATING_G")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"RequestConfiguration.MAX_AD_CONTENT_RATING_PG")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"RequestConfiguration.MAX_AD_CONTENT_RATING_T")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"RequestConfiguration.MAX_AD_CONTENT_RATING_MA"))),Object(o.b)("p",null,"The following code configures an ",Object(o.b)("inlineCode",{parentName:"p"},"RequestConfiguration")," object to specify that ad content returned should correspond to a digital content label designation no higher than G:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-actionscript"}),"var requestConfiguration:RequestConfiguration = Adverts.service.getRequestConfiguration()\n        .setMaxAdContentRating( RequestConfiguration.MAX_AD_CONTENT_RATING_G )\n;\nAdverts.service.setRequestConfiguration( requestConfiguration );\n")),Object(o.b)("blockquote",null,Object(o.b)("p",{parentName:"blockquote"},"Note: Content rating filter settings specified via the SDK will override any settings configured using the AdMob UI.")),Object(o.b)("h2",{id:"ad-request"},"Ad request"),Object(o.b)("p",null,"The AdRequest object collects targeting information to be sent with an ad request."),Object(o.b)("h3",{id:"consent-from-european-users"},"Consent from European Users"),Object(o.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(o.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"}),Object(o.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"})))),"caution")),Object(o.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"This is legacy information, you should look into the ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"user-messaging-platform"}),"User Messaging Platform")," for the current approach that automatically applies this information"))),Object(o.b)("p",null,"Under the Google ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://www.google.com/about/company/user-consent-policy.html"}),"EU User Consent Policy"),", you must make certain disclosures to your users in the European Economic Area (EEA) and obtain their consent to use cookies or other local storage, where legally required, and to use personal data (such as AdID) to serve ads. This policy reflects the requirements of the EU ePrivacy Directive and the General Data Protection Regulation (GDPR). To support publishers in meeting their duties under this policy, Google offers a Consent SDK."),Object(o.b)("p",null,"Ads served by Google can be categorized as personalized or non-personalized, both requiring consent from users in the EEA. By default, ad requests to Google serve personalized ads, with ad selection based on the user's previously collected data. Google also supports configuring ad requests to serve non-personalized ads. ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://support.google.com/admob/answer/7676680"}),"Learn more about personalized and non-personalized ads.")),Object(o.b)("p",null,"You should ensure that somewhere in your application you ask for consent from your users to serve personalised ads. Once you have retrieved this response from your user if they have denied consent then ensure you pass it to your ",Object(o.b)("inlineCode",{parentName:"p"},"AdRequest"),"s."),Object(o.b)("p",null,"The default behavior of the Google Mobile Ads SDK is to serve personalized ads. If a user has consented to receive only non-personalized ads, you can configure an ",Object(o.b)("inlineCode",{parentName:"p"},"AdRequest")," object with the following code to specify that only non-personalized ads should be returned:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-actionscript"}),"var request:AdRequest = new AdRequestBuilder()\n        .nonPersonalisedAds( true )\n        .build();\n")),Object(o.b)("p",null,"You must add this to all your ",Object(o.b)("inlineCode",{parentName:"p"},"AdRequest"),"s."),Object(o.b)("p",null,"Further information:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"https://www.google.com/about/company/user-consent-policy.html"}),"Google EU User Consent Policy"))))}u.isMDXComponent=!0},906:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return g}));var a=n(0),r=n.n(a);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=r.a.createContext({}),u=function(e){var t=r.a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},d=function(e){var t=u(e.components);return r.a.createElement(l.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},p=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,i=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),d=u(n),p=a,g=d["".concat(i,".").concat(p)]||d[p]||b[p]||o;return n?r.a.createElement(g,s(s({ref:t},l),{},{components:n})):r.a.createElement(g,s({ref:t},l))}));function g(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=p;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:a,i[1]=s;for(var l=2;l<o;l++)i[l]=n[l];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,n)}p.displayName="MDXCreateElement"}}]);
"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[1484],{3905:(e,n,t)=>{t.d(n,{Zo:()=>u,kt:()=>f});var a=t(67294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var s=a.createContext({}),d=function(e){var n=a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},u=function(e){var n=d(e.components);return a.createElement(s.Provider,{value:n},e.children)},c="mdxType",p={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},m=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),c=d(t),m=r,f=c["".concat(s,".").concat(m)]||c[m]||p[m]||o;return t?a.createElement(f,i(i({ref:n},u),{},{components:t})):a.createElement(f,i({ref:n},u))}));function f(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var o=t.length,i=new Array(o);i[0]=m;var l={};for(var s in n)hasOwnProperty.call(n,s)&&(l[s]=n[s]);l.originalType=e,l[c]="string"==typeof e?e:r,i[1]=l;for(var d=2;d<o;d++)i[d]=t[d];return a.createElement.apply(null,i)}return a.createElement.apply(null,t)}m.displayName="MDXCreateElement"},85162:(e,n,t)=>{t.d(n,{Z:()=>i});var a=t(67294),r=t(86010);const o={tabItem:"tabItem_Ymn6"};function i(e){let{children:n,hidden:t,className:i}=e;return a.createElement("div",{role:"tabpanel",className:(0,r.Z)(o.tabItem,i),hidden:t},n)}},74866:(e,n,t)=>{t.d(n,{Z:()=>E});var a=t(87462),r=t(67294),o=t(86010),i=t(12466),l=t(16550),s=t(91980),d=t(67392),u=t(50012);function c(e){return function(e){var n,t;return null!=(n=null==(t=r.Children.map(e,(e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})))?void 0:t.filter(Boolean))?n:[]}(e).map((e=>{let{props:{value:n,label:t,attributes:a,default:r}}=e;return{value:n,label:t,attributes:a,default:r}}))}function p(e){const{values:n,children:t}=e;return(0,r.useMemo)((()=>{const e=null!=n?n:c(t);return function(e){const n=(0,d.l)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error('Docusaurus error: Duplicate values "'+n.map((e=>e.value)).join(", ")+'" found in <Tabs>. Every value needs to be unique.')}(e),e}),[n,t])}function m(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function f(e){let{queryString:n=!1,groupId:t}=e;const a=(0,l.k6)(),o=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=t?t:null}({queryString:n,groupId:t});return[(0,s._X)(o),(0,r.useCallback)((e=>{if(!o)return;const n=new URLSearchParams(a.location.search);n.set(o,e),a.replace({...a.location,search:n.toString()})}),[o,a])]}function h(e){const{defaultValue:n,queryString:t=!1,groupId:a}=e,o=p(e),[i,l]=(0,r.useState)((()=>function(e){var n;let{defaultValue:t,tabValues:a}=e;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!m({value:t,tabValues:a}))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+t+'" but none of its children has the corresponding value. Available values are: '+a.map((e=>e.value)).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");return t}const r=null!=(n=a.find((e=>e.default)))?n:a[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:n,tabValues:o}))),[s,d]=f({queryString:t,groupId:a}),[c,h]=function(e){let{groupId:n}=e;const t=function(e){return e?"docusaurus.tab."+e:null}(n),[a,o]=(0,u.Nk)(t);return[a,(0,r.useCallback)((e=>{t&&o.set(e)}),[t,o])]}({groupId:a}),g=(()=>{const e=null!=s?s:c;return m({value:e,tabValues:o})?e:null})();(0,r.useLayoutEffect)((()=>{g&&l(g)}),[g]);return{selectedValue:i,selectValue:(0,r.useCallback)((e=>{if(!m({value:e,tabValues:o}))throw new Error("Can't select invalid tab value="+e);l(e),d(e),h(e)}),[d,h,o]),tabValues:o}}var g=t(72389);const b={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function v(e){let{className:n,block:t,selectedValue:l,selectValue:s,tabValues:d}=e;const u=[],{blockElementScrollPositionUntilNextRender:c}=(0,i.o5)(),p=e=>{const n=e.currentTarget,t=u.indexOf(n),a=d[t].value;a!==l&&(c(n),s(a))},m=e=>{var n;let t=null;switch(e.key){case"Enter":p(e);break;case"ArrowRight":{var a;const n=u.indexOf(e.currentTarget)+1;t=null!=(a=u[n])?a:u[0];break}case"ArrowLeft":{var r;const n=u.indexOf(e.currentTarget)-1;t=null!=(r=u[n])?r:u[u.length-1];break}}null==(n=t)||n.focus()};return r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":t},n)},d.map((e=>{let{value:n,label:t,attributes:i}=e;return r.createElement("li",(0,a.Z)({role:"tab",tabIndex:l===n?0:-1,"aria-selected":l===n,key:n,ref:e=>u.push(e),onKeyDown:m,onClick:p},i,{className:(0,o.Z)("tabs__item",b.tabItem,null==i?void 0:i.className,{"tabs__item--active":l===n})}),null!=t?t:n)})))}function k(e){let{lazy:n,children:t,selectedValue:a}=e;const o=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=o.find((e=>e.props.value===a));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return r.createElement("div",{className:"margin-top--md"},o.map(((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==a}))))}function y(e){const n=h(e);return r.createElement("div",{className:(0,o.Z)("tabs-container",b.tabList)},r.createElement(v,(0,a.Z)({},e,n)),r.createElement(k,(0,a.Z)({},e,n)))}function E(e){const n=(0,g.Z)();return r.createElement(y,(0,a.Z)({key:String(n)},e))}},89128:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>i,default:()=>p,frontMatter:()=>o,metadata:()=>l,toc:()=>d});var a=t(87462),r=(t(67294),t(3905));t(74866),t(85162);const o={title:"Migrating to v18.0"},i=void 0,l={unversionedId:"facebookapi/migrating-to-version-18.0",id:"facebookapi/migrating-to-version-18.0",title:"Migrating to v18.0",description:"This latest release brings a number of updates to the extension particularly around the Android integration.",source:"@site/docs/facebookapi/migrating-to-version-18.0.mdx",sourceDirName:"facebookapi",slug:"/facebookapi/migrating-to-version-18.0",permalink:"/docs/facebookapi/migrating-to-version-18.0",draft:!1,tags:[],version:"current",frontMatter:{title:"Migrating to v18.0"},sidebar:"facebookapi",previous:{title:"Friend Finder Dialog",permalink:"/docs/facebookapi/gamingservices/friend-finder-dialog"},next:{title:"iOS Signing",permalink:"/docs/facebookapi/signing"}},s={},d=[{value:"Android Integration",id:"android-integration",level:2},{value:"Gradle Dependencies",id:"gradle-dependencies",level:3},{value:"Updating code",id:"updating-code",level:3},{value:"Updating the manifest",id:"updating-the-manifest",level:3},{value:"Core and Login",id:"core-and-login",level:4},{value:"Share and Gaming",id:"share-and-gaming",level:4}],u={toc:d},c="wrapper";function p(e){let{components:n,...t}=e;return(0,r.kt)(c,(0,a.Z)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"This latest release brings a number of updates to the extension particularly around the Android integration. "),(0,r.kt)("p",null,"The Android implementation has been updated to v17.0.1 and the iOS implementation has been updated to v18.0.0.\nThis should bring a range of bug fixes and improvements however the implementation remains largely unchanged.\nThe main change is around the integration of the extension into your application as we have moved to using gradle dependencies within our extensions."),(0,r.kt)("h2",{id:"android-integration"},"Android Integration"),(0,r.kt)("h3",{id:"gradle-dependencies"},"Gradle Dependencies"),(0,r.kt)("p",null,"We have moved to using gradle dependencies within our extensions which will improve dependency resolution, reduce update times and improve compatibility with other extensions."),(0,r.kt)("p",null,"This also reduces the amount of work required to manually integrate the extensions, reducing the additions to the manifest in your application descriptor."),(0,r.kt)("p",null,"We highly recommend using the ",(0,r.kt)("a",{parentName:"p",href:"https://airnativeextensions.com/docs/using-apm"},"apm")," tool to manage the integration of the extensions in your application and to generate your application descriptor:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"apm update\napm generate app-descriptor\n")),(0,r.kt)("p",null,"However, you can still integrate the manifest additions manually if you prefer. With this update we recommend starting fresh as there have been a lot of entries to be removed."),(0,r.kt)("h3",{id:"updating-code"},"Updating code"),(0,r.kt)("p",null,"There should be no changes to your code required for this update."),(0,r.kt)("h3",{id:"updating-the-manifest"},"Updating the manifest"),(0,r.kt)("p",null,"You can simplify the manifest now as well as the gradle implementation will add a significant amount of the required manifest entries for you.\nIf you use the ",(0,r.kt)("inlineCode",{parentName:"p"},"apm")," tool to generate your application descriptor you will see the manifest entries are significantly reduced and simply running the commands above will update the manifest for you."),(0,r.kt)("p",null,"If you manually update the manifest then, as mentioned above, we recommend starting fresh as there have been a lot of entries to be removed.  You no longer have to manually add all of the Facebook related manifest entries as these are now added automatically by the gradle implementation."),(0,r.kt)("p",null,"There are still some meta-data entries that you may need to add for specific features, but these are minimal."),(0,r.kt)("p",null,"Below are the minimum manifest additions required for each of the extensions."),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"Ensure you replace:"),(0,r.kt)("ul",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"APPLICATION_PACKAGE")," with your AIR application's Java package name, something like ",(0,r.kt)("inlineCode",{parentName:"li"},"air.com.distriqt.test"),". Generally this is your AIR application id prefixed by ",(0,r.kt)("inlineCode",{parentName:"li"},"air.")," unless you have specified no air flair in your build options."),(0,r.kt)("li",{parentName:"ul"},"You will need to replace the instances of ",(0,r.kt)("inlineCode",{parentName:"li"},"FACEBOOK_APP_ID"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"FACEBOOK_APP_NAME")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"FACEBOOK_CLIENT_TOKEN")," with the relevant settings from your Facebook app. See ",(0,r.kt)("a",{parentName:"li",href:"/docs/facebookapi/get-started"},"Get Started")," for details. "),(0,r.kt)("li",{parentName:"ul"},"Ensure the ",(0,r.kt)("inlineCode",{parentName:"li"},"\\u003")," remains in front of the app id and client token (this ensures the value is treated as a string correctly)."))),(0,r.kt)("h4",{id:"core-and-login"},"Core and Login"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<manifest android:installLocation="auto">\n\n    <uses-sdk android:minSdkVersion="21" android:targetSdkVersion="34"/>\n\n    <uses-permission android:name="android.permission.INTERNET"/>\n    \n    <application>\n\n        <meta-data android:name="com.facebook.sdk.ApplicationId" android:value="\\u003FACEBOOK_APP_ID"/>\n        <meta-data android:name="com.facebook.sdk.ClientToken" android:value="\\u003FACEBOOK_CLIENT_TOKEN"/>\n\n        \x3c!-- Optional meta-data configuration --\x3e\n        \x3c!-- <meta-data android:name="com.facebook.sdk.AutoInitEnabled" android:value="false"/> --\x3e\n        \x3c!-- <meta-data android:name="com.facebook.sdk.AutoLogAppEventsEnabled" android:value="false"/> --\x3e\n        \x3c!-- <meta-data android:name="com.facebook.sdk.AdvertiserIDCollectionEnabled" android:value="false"/> --\x3e\n\n</manifest>\n')),(0,r.kt)("h4",{id:"share-and-gaming"},"Share and Gaming"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<manifest android:installLocation="auto">\n\n    <uses-sdk android:minSdkVersion="21" android:targetSdkVersion="34"/>\n\n    <uses-permission android:name="android.permission.INTERNET"/>\n\n    <queries>\n        <provider android:authorities="com.facebook.katana.provider.PlatformProvider" /> \x3c!-- allows app to access Facebook app features --\x3e\n        <provider android:authorities="com.facebook.orca.provider.PlatformProvider" /> \x3c!-- allows sharing to Messenger app --\x3e\n    </queries>\n    \n    <application>\n\n        <meta-data android:name="com.facebook.sdk.ApplicationId" android:value="\\u003FACEBOOK_APP_ID"/>\n        <meta-data android:name="com.facebook.sdk.ClientToken" android:value="\\u003FACEBOOK_CLIENT_TOKEN"/>\n\n        \x3c!-- Optional meta-data configuration --\x3e\n        \x3c!-- <meta-data android:name="com.facebook.sdk.AutoInitEnabled" android:value="false"/> --\x3e\n        \x3c!-- <meta-data android:name="com.facebook.sdk.AutoLogAppEventsEnabled" android:value="false"/> --\x3e\n        \x3c!-- <meta-data android:name="com.facebook.sdk.AdvertiserIDCollectionEnabled" android:value="false"/> --\x3e\n\n        \x3c!-- Share --\x3e\n        <provider android:authorities="com.facebook.app.FacebookContentProviderFACEBOOK_APP_ID"\n            android:name="com.facebook.FacebookContentProvider"\n            android:exported="true"/>\n\n</manifest>\n')))}p.isMDXComponent=!0}}]);
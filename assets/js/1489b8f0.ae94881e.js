"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[53461],{11470:(e,n,i)=>{i.d(n,{A:()=>I});var t=i(96540),r=i(34164),a=i(17559),s=i(23104),l=i(56347),o=i(205),c=i(57485),d=i(31682),u=i(70679);function p(e){var n,i;return null!=(n=null==(i=t.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,t.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')}))?void 0:i.filter(Boolean))?n:[]}function h(e){const{values:n,children:i}=e;return(0,t.useMemo)(()=>{const e=null!=n?n:function(e){return p(e).map(e=>{let{props:{value:n,label:i,attributes:t,default:r}}=e;return{value:n,label:i,attributes:t,default:r}})}(i);return function(e){const n=(0,d.XI)(e,(e,n)=>e.value===n.value);if(n.length>0)throw new Error('Docusaurus error: Duplicate values "'+n.map(e=>e.value).join(", ")+'" found in <Tabs>. Every value needs to be unique.')}(e),e},[n,i])}function v(e){let{value:n,tabValues:i}=e;return i.some(e=>e.value===n)}function g(e){let{queryString:n=!1,groupId:i}=e;const r=(0,l.W6)(),a=function(e){let{queryString:n=!1,groupId:i}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!i)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=i?i:null}({queryString:n,groupId:i});return[(0,c.aZ)(a),(0,t.useCallback)(e=>{if(!a)return;const n=new URLSearchParams(r.location.search);n.set(a,e),r.replace(Object.assign({},r.location,{search:n.toString()}))},[a,r])]}function m(e){const{defaultValue:n,queryString:i=!1,groupId:r}=e,a=h(e),[s,l]=(0,t.useState)(()=>function(e){var n;let{defaultValue:i,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(i){if(!v({value:i,tabValues:t}))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+i+'" but none of its children has the corresponding value. Available values are: '+t.map(e=>e.value).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");return i}const r=null!=(n=t.find(e=>e.default))?n:t[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:n,tabValues:a})),[c,d]=g({queryString:i,groupId:r}),[p,m]=function(e){let{groupId:n}=e;const i=function(e){return e?"docusaurus.tab."+e:null}(n),[r,a]=(0,u.Dv)(i);return[r,(0,t.useCallback)(e=>{i&&a.set(e)},[i,a])]}({groupId:r}),b=(()=>{const e=null!=c?c:p;return v({value:e,tabValues:a})?e:null})();(0,o.A)(()=>{b&&l(b)},[b]);return{selectedValue:s,selectValue:(0,t.useCallback)(e=>{if(!v({value:e,tabValues:a}))throw new Error("Can't select invalid tab value="+e);l(e),d(e),m(e)},[d,m,a]),tabValues:a}}var b=i(92303);const y={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var f=i(74848);function x(e){let{className:n,block:i,selectedValue:t,selectValue:a,tabValues:l}=e;const o=[],{blockElementScrollPositionUntilNextRender:c}=(0,s.a_)(),d=e=>{const n=e.currentTarget,i=o.indexOf(n),r=l[i].value;r!==t&&(c(n),a(r))},u=e=>{var n;let i=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{var t;const n=o.indexOf(e.currentTarget)+1;i=null!=(t=o[n])?t:o[0];break}case"ArrowLeft":{var r;const n=o.indexOf(e.currentTarget)-1;i=null!=(r=o[n])?r:o[o.length-1];break}}null==(n=i)||n.focus()};return(0,f.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":i},n),children:l.map(e=>{let{value:n,label:i,attributes:a}=e;return(0,f.jsx)("li",Object.assign({role:"tab",tabIndex:t===n?0:-1,"aria-selected":t===n,ref:e=>{o.push(e)},onKeyDown:u,onClick:d},a,{className:(0,r.A)("tabs__item",y.tabItem,null==a?void 0:a.className,{"tabs__item--active":t===n}),children:null!=i?i:n}),n)})})}function j(e){let{lazy:n,children:i,selectedValue:a}=e;const s=(Array.isArray(i)?i:[i]).filter(Boolean);if(n){const e=s.find(e=>e.props.value===a);return e?(0,t.cloneElement)(e,{className:(0,r.A)("margin-top--md",e.props.className)}):null}return(0,f.jsx)("div",{className:"margin-top--md",children:s.map((e,n)=>(0,t.cloneElement)(e,{key:n,hidden:e.props.value!==a}))})}function w(e){const n=m(e);return(0,f.jsxs)("div",{className:(0,r.A)(a.G.tabs.container,"tabs-container",y.tabList),children:[(0,f.jsx)(x,Object.assign({},n,e)),(0,f.jsx)(j,Object.assign({},n,e))]})}function I(e){const n=(0,b.A)();return(0,f.jsx)(w,Object.assign({},e,{children:p(e.children)}),String(n))}},16476:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/ios_subscription_management-306ce97030c09c9bccec3d9c1442a9e7.png"},17207:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/ios_product_overlay-edf0fe0c14413d1f194dee9904c218df.png"},19365:(e,n,i)=>{i.d(n,{A:()=>s});i(96540);var t=i(34164);const r={tabItem:"tabItem_Ymn6"};var a=i(74848);function s(e){let{children:n,hidden:i,className:s}=e;return(0,a.jsx)("div",{role:"tabpanel",className:(0,t.A)(r.tabItem,s),hidden:i,children:n})}},21363:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>u});const t=JSON.parse('{"id":"inappbilling/dialogs","title":"UI Dialogs","description":"There are a number of dialogs that can be displayed to the user to allow them to manage their purchases and subscriptions and also to display information about products and other applications.","source":"@site/docs/inappbilling/dialogs.mdx","sourceDirName":"inappbilling","slug":"/inappbilling/dialogs","permalink":"/docs/inappbilling/dialogs","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"UI Dialogs"},"sidebar":"inappbilling","previous":{"title":"Introductory Prices","permalink":"/docs/inappbilling/introductory-prices"},"next":{"title":"Testing","permalink":"/docs/inappbilling/testing"}}');var r=i(74848),a=i(28453),s=i(11470),l=i(19365);const o={title:"UI Dialogs"},c=void 0,d={},u=[{value:"Subscription Management",id:"subscription-management",level:2},{value:"Product View",id:"product-view",level:2},{value:"Product (Application) Overlay",id:"product-application-overlay",level:2},{value:"Show overlay",id:"show-overlay",level:3},{value:"Events",id:"events",level:3},{value:"Dismiss overlay",id:"dismiss-overlay",level:3}];function p(e){const n={admonition:"admonition",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"There are a number of dialogs that can be displayed to the user to allow them to manage their purchases and subscriptions and also to display information about products and other applications."}),"\n",(0,r.jsx)(n.h2,{id:"subscription-management",children:"Subscription Management"}),"\n",(0,r.jsx)(n.p,{children:"If you use subscriptions in your application you should include a link on a settings or preferences screen that allows users to manage their subscriptions."}),"\n",(0,r.jsx)(n.p,{children:"The Subscription Management dialog allows the user to manage their subscriptions, including viewing their current subscriptions, cancelling subscriptions, and renewing expiring subscriptions."}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"iOS AppStore"}),(0,r.jsx)(n.th,{children:"Play Billing"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.img,{src:i(16476).A+"",width:"370",height:"800"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.img,{src:i(48024).A+"",width:"388",height:"800"})})]})})]}),"\n",(0,r.jsxs)(n.p,{children:["To display the subscription management dialog, you can call the ",(0,r.jsx)(n.code,{children:"showSubscriptionManagement()"})," method."]}),"\n",(0,r.jsxs)(s.A,{groupId:"framework",defaultValue:"air",values:[{label:"AIR",value:"air"},{label:"Unity",value:"unity"}],children:[(0,r.jsx)(l.A,{value:"air",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-actionscript",children:"if (InAppBilling.service.isShowManageSubscriptionsSupported)\n{\n    InAppBilling.service.showManageSubscriptions();\n}\n"})})}),(0,r.jsx)(l.A,{value:"unity",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-csharp",children:"if (InAppBilling.Instance.isShowManageSubscriptionsSupported)\n{\n    InAppBilling.Instance.ShowManageSubscriptions();\n}\n"})})})]}),"\n",(0,r.jsxs)(n.p,{children:["If you know the product of the subscription you want to manage, you can pass the product object to the ",(0,r.jsx)(n.code,{children:"showSubscriptionManagement()"})," method to directly open the subscription management dialog for that product."]}),"\n",(0,r.jsxs)(s.A,{groupId:"framework",defaultValue:"air",values:[{label:"AIR",value:"air"},{label:"Unity",value:"unity"}],children:[(0,r.jsx)(l.A,{value:"air",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-actionscript",children:"var product:Product = ...; // the product you want to manage\nif (InAppBilling.service.isShowManageSubscriptionsSupported)\n{\n    InAppBilling.service.showManageSubscriptions( product );\n}\n"})})}),(0,r.jsx)(l.A,{value:"unity",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-csharp",children:"Product product = ...; // the product you want to manage\nif (InAppBilling.Instance.isShowManageSubscriptionsSupported)\n{\n    InAppBilling.Instance.ShowManageSubscriptions( product );\n}\n"})})})]}),"\n",(0,r.jsx)(n.p,{children:"Where subscription groups are supported (iOS AppStore) the dialog will display all subscriptions in the group, otherwise it will only display the subscription for the product you passed to the method."}),"\n",(0,r.jsxs)(n.admonition,{title:"Supported Platforms",type:"note",children:[(0,r.jsx)(n.p,{children:"The subscription management dialog is supported on both iOS and Android using the following services:"}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"iOS StoreKit"}),"\n",(0,r.jsx)(n.li,{children:"Google Play Billing"}),"\n"]}),(0,r.jsxs)(n.p,{children:["You can check if the subscription management dialog is supported by calling the ",(0,r.jsx)(n.code,{children:"isShowManageSubscriptionsSupported"})," method before attempting to show the dialog."]})]}),"\n",(0,r.jsx)(n.h2,{id:"product-view",children:"Product View"}),"\n",(0,r.jsx)(n.p,{children:"The product view dialog presents information about a product or application.\nIt can be used to provide information about products with in your application or to promote other applications that you own or that you have a partnership with.\nThis may redirect the user to the billing service store to view the product details, or it may display a custom view with information about the product."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:i(98852).A+"",width:"370",height:"800"})}),"\n",(0,r.jsx)(n.p,{children:"To display the product view, you will need to provide the ID of the product or application you wish to display."}),"\n",(0,r.jsxs)(n.p,{children:["The first parameter to the ",(0,r.jsx)(n.code,{children:"showProductView()"})," method is the identifier of the application or product you want to show in the product view:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Under Android this is the package name of the application, eg ",(0,r.jsx)(n.code,{children:"air.com.distriqt.test"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Under iOS this is the App Store ID of the app or product you want to show (",(0,r.jsx)(n.code,{children:"SKStoreProductParameterITunesItemIdentifier"})," normally a number). You can find this ID in App Store Connect or by looking at the app's App Store URL. To find a product\u2019s iTunes identifier, go to linkmaker.itunes.apple.com and search for the product, then locate the iTunes identifier in the link URL. For example, the iTunes identifier for the iBooks app is 364709193."]}),"\n"]}),"\n",(0,r.jsxs)(s.A,{groupId:"framework",defaultValue:"air",values:[{label:"AIR",value:"air"},{label:"Unity",value:"unity"}],children:[(0,r.jsx)(l.A,{value:"air",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-actionscript",children:"if (InAppBilling.service.isProductViewSupported)\n{\n    var success:Boolean = InAppBilling.service.showProductView( identifier );\n}\n"})})}),(0,r.jsx)(l.A,{value:"unity",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-csharp",children:"if (InAppBilling.Instance.isProductViewSupported)\n{\n    bool success = InAppBilling.Instance.ShowProductView( identifier );\n}\n"})})})]}),"\n",(0,r.jsx)(n.p,{children:"The product view will dispatch several events to indicate the result of the operation:"}),"\n",(0,r.jsxs)(s.A,{groupId:"framework",defaultValue:"air",values:[{label:"AIR",value:"air"},{label:"Unity",value:"unity"}],children:[(0,r.jsx)(l.A,{value:"air",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-actionscript",children:"InAppBilling.service.addEventListener( ProductViewEvent.LOADED, productView_loadedHandler );\nInAppBilling.service.addEventListener( ProductViewEvent.DISPLAYED, productView_displayedHandler );\nInAppBilling.service.addEventListener( ProductViewEvent.FAILED, productView_failedHandler );\nInAppBilling.service.addEventListener( ProductViewEvent.DISMISSED, productView_dismissedHandler );\n"})})}),(0,r.jsx)(l.A,{value:"unity",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-csharp",children:"InAppBilling.Instance.Events.OnProductViewDisplayed += Instance_OnProductViewDisplayed;\nInAppBilling.Instance.Events.OnProductViewFailed += Instance_OnProductViewFailed;\nInAppBilling.Instance.Events.OnProductViewDismissed += Instance_OnProductViewDismissed;\nInAppBilling.Instance.Events.OnProductViewLoaded += Instance_OnProductViewLoaded;\n"})})})]}),"\n",(0,r.jsxs)(n.admonition,{title:"Supported Platforms",type:"note",children:[(0,r.jsx)(n.p,{children:"The product view is supported on both iOS and Android using the following services:"}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"iOS StoreKit"}),"\n",(0,r.jsx)(n.li,{children:"Google Play Billing"}),"\n",(0,r.jsx)(n.li,{children:"Huawei In-App Purchases"}),"\n"]}),(0,r.jsx)(n.p,{children:"The operation of the method will differ depending on the service used."}),(0,r.jsxs)(n.p,{children:["You can check if the product view is supported by calling the ",(0,r.jsx)(n.code,{children:"isProductViewSupported"})," method before attempting to show the view."]})]}),"\n",(0,r.jsx)(n.h2,{id:"product-application-overlay",children:"Product (Application) Overlay"}),"\n",(0,r.jsx)(n.p,{children:"The product overlay is a non-intrusive promotional banner that encourages users to download or open another application. It can be used to promote other applications that you own or applications that you have a partnership with.\nIt is similar to the product view, but it is displayed as an overlay on top of the current application, rather than opening a new view."}),"\n",(0,r.jsx)(n.h3,{id:"show-overlay",children:"Show overlay"}),"\n",(0,r.jsx)(n.p,{children:"To display the product overlay, you will need to provide the application ID of the product you wish to display."}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"applicationId"})," parameter to the ",(0,r.jsx)(n.code,{children:"showProductOverlay"})," method is the identifier of the application you want to show in the product overlay:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Under Android this is the package name of the application, eg ",(0,r.jsx)(n.code,{children:"air.com.distriqt.test"}),"."]}),"\n",(0,r.jsx)(n.li,{children:"Under iOS this is the App Store ID of the app you want to show (normally a number). You can find this ID in App Information or by looking at the url in App Store Connect."}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["The second parameter ",(0,r.jsx)(n.code,{children:"position"})," is the position of the overlay on the screen, which can be either ",(0,r.jsx)(n.code,{children:"raised"})," or ",(0,r.jsx)(n.code,{children:"bottom"})," (default is ",(0,r.jsx)(n.code,{children:"bottom"}),").\nThis will determine where the overlay is displayed on the screen as a raised overlay or as a bottom overlay."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:i(17207).A+"",width:"370",height:"800"})}),"\n",(0,r.jsxs)(s.A,{groupId:"framework",defaultValue:"air",values:[{label:"AIR",value:"air"},{label:"Unity",value:"unity"}],children:[(0,r.jsx)(l.A,{value:"air",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-actionscript",children:"if (InAppBilling.service.isProductOverlaySupported)\n{\n    var success:Boolean = InAppBilling.service.showProductOverlay( applicationId );\n}\n"})})}),(0,r.jsx)(l.A,{value:"unity",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-csharp",children:"if (InAppBilling.Instance.isProductOverlaySupported)\n{\n    bool success = InAppBilling.Instance.ShowProductOverlay( applicationId );\n}\n"})})})]}),"\n",(0,r.jsx)(n.h3,{id:"events",children:"Events"}),"\n",(0,r.jsx)(n.p,{children:"The product overlay will dispatch several events to indicate the result of the operation:"}),"\n",(0,r.jsxs)(s.A,{groupId:"framework",defaultValue:"air",values:[{label:"AIR",value:"air"},{label:"Unity",value:"unity"}],children:[(0,r.jsx)(l.A,{value:"air",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-actionscript",children:"InAppBilling.service.addEventListener( ProductOverlayEvent.LOADED, productOverlay_loadedHandler );\nInAppBilling.service.addEventListener( ProductOverlayEvent.DISPLAYED, productOverlay_displayedHandler );\nInAppBilling.service.addEventListener( ProductOverlayEvent.FAILED, productOverlay_failedHandler );\nInAppBilling.service.addEventListener( ProductOverlayEvent.DISMISSED, productOverlay_dismissedHandler );\n"})})}),(0,r.jsx)(l.A,{value:"unity",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-csharp",children:"InAppBilling.Instance.Events.OnProductOverlayDisplayed += Instance_OnProductOverlayDisplayed;\nInAppBilling.Instance.Events.OnProductOverlayFailed += Instance_OnProductOverlayFailed;\nInAppBilling.Instance.Events.OnProductOverlayDismissed += Instance_OnProductOverlayDismissed;\nInAppBilling.Instance.Events.OnProductOverlayLoaded += Instance_OnProductOverlayLoaded;\n"})})})]}),"\n",(0,r.jsxs)(n.admonition,{title:"Supported Platforms",type:"note",children:[(0,r.jsx)(n.p,{children:"The product overlay is only supported on iOS."}),(0,r.jsxs)(n.p,{children:["You can check if the product overlay is supported by calling the ",(0,r.jsx)(n.code,{children:"isProductOverlaySupported"})," method before attempting to show the overlay."]})]}),"\n",(0,r.jsx)(n.h3,{id:"dismiss-overlay",children:"Dismiss overlay"}),"\n",(0,r.jsxs)(n.p,{children:["You can dismiss the product overlay at any time by calling the ",(0,r.jsx)(n.code,{children:"dismissProductOverlay()"})," method."]}),"\n",(0,r.jsxs)(s.A,{groupId:"framework",defaultValue:"air",values:[{label:"AIR",value:"air"},{label:"Unity",value:"unity"}],children:[(0,r.jsx)(l.A,{value:"air",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-actionscript",children:"InAppBilling.service.dismissProductOverlay();\n"})})}),(0,r.jsx)(l.A,{value:"unity",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-csharp",children:"InAppBilling.Instance.DismissProductOverlay();\n"})})})]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(p,{...e})}):p(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>s,x:()=>l});var t=i(96540);const r={},a=t.createContext(r);function s(e){const n=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),t.createElement(a.Provider,{value:n},e.children)}},48024:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/playbilling_subscription_management-b27dad64083bcdc6fe09e8a81c941946.png"},98852:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/ios_product_view-2ccbf96a306331b614a7a36768386f54.png"}}]);
(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[26302],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return d},kt:function(){return m}});var i=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=i.createContext({}),p=function(e){var t=i.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},d=function(e){var t=p(e.components);return i.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},c=i.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),c=p(n),m=r,g=c["".concat(l,".").concat(m)]||c[m]||u[m]||o;return n?i.createElement(g,a(a({ref:t},d),{},{components:n})):i.createElement(g,a({ref:t},d))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,a=new Array(o);a[0]=c;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,a[1]=s;for(var p=2;p<o;p++)a[p]=n[p];return i.createElement.apply(null,a)}return i.createElement.apply(null,n)}c.displayName="MDXCreateElement"},59901:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return a},metadata:function(){return s},toc:function(){return l},default:function(){return d}});var i=n(22122),r=n(19756),o=(n(67294),n(3905)),a={title:"Google Maps",sidebar_label:"Google Maps"},s={unversionedId:"nativemaps/google-maps",id:"nativemaps/google-maps",isDocsHomePage:!1,title:"Google Maps",description:"Add Your Application to the Developer Console",source:"@site/docs/nativemaps/google-maps.md",sourceDirName:"nativemaps",slug:"/nativemaps/google-maps",permalink:"/docs/nativemaps/google-maps",version:"current",sidebar_label:"Google Maps",frontMatter:{title:"Google Maps",sidebar_label:"Google Maps"},sidebar:"nativemaps",previous:{title:"Apple Maps",permalink:"/docs/nativemaps/apple-maps"},next:{title:"Add the Extension",permalink:"/docs/nativemaps/add-the-extension"}},l=[{value:"Add Your Application to the Developer Console",id:"add-your-application-to-the-developer-console",children:[]},{value:"Restricting the API Key",id:"restricting-the-api-key",children:[]},{value:"Manifest Additions",id:"manifest-additions",children:[]}],p={toc:l};function d(e){var t=e.components,n=(0,r.Z)(e,["components"]);return(0,o.kt)("wrapper",(0,i.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"add-your-application-to-the-developer-console"},"Add Your Application to the Developer Console"),(0,o.kt)("p",null,"Your application needs an API key to access the Google Maps servers.\nThe type of key you need is an API key with restriction for Android apps.\nThe key is free. You can use it with any of your applications that call the\nGoogle Maps Android API, and it supports an unlimited number of users."),(0,o.kt)("p",null,"The Google Play Developer Console is where you enable the various Google APIs for your application."),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://console.developers.google.com"},"https://console.developers.google.com")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Select your project for your application or create a new project"),(0,o.kt)("li",{parentName:"ul"},"Enable the API",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Select Library: A list of available APIs will be shown"),(0,o.kt)("li",{parentName:"ul"},'Select "Google Maps Android API" '),(0,o.kt)("li",{parentName:"ul"},"Click Enable"))),(0,o.kt)("li",{parentName:"ul"},"Create Credentials",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Select Credentials"),(0,o.kt)("li",{parentName:"ul"},'Click "Create credentials" and select "API key"'),(0,o.kt)("li",{parentName:"ul"},"Copy the generated API key and use it to replace ",(0,o.kt)("inlineCode",{parentName:"li"},"YOUR_API_KEY")," in your manifest additions below")))),(0,o.kt)("h2",{id:"restricting-the-api-key"},"Restricting the API Key"),(0,o.kt)("p",null,"At this point your key can be used in any application which is great for testing.\nHowever Google suggests that you restrict your key to your application so that you\ncan limit the requests to this API to your application. This requires limiting the key\nto the application id and the SHA-1 fingerprint of your signing certificate."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Select the API key in Credentials"),(0,o.kt)("li",{parentName:"ul"},'Select "Android apps" in the Key restriction section',(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},'Select "Add package name and fingerprint"'),(0,o.kt)("li",{parentName:"ul"},"Enter your package name eg: ",(0,o.kt)("inlineCode",{parentName:"li"},"air.com.distriqt.test")," (Note the ",(0,o.kt)("inlineCode",{parentName:"li"},"air.")," prefix)"),(0,o.kt)("li",{parentName:"ul"},"Add the SHA-1 fingerprint of your certificate")))),(0,o.kt)("p",null,"You'll need the SHA1 fingerprint of your signing certificate here. This is the certificate you use to sign your application."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"keytool -exportcert -keystore [YOUR_CERTIFICATE_PATH] -storepass [YOUR_CERT_PASSWORD]  -list -v -storetype PKCS12\n")),(0,o.kt)("p",null,"If you wish to test debug builds you must use the debug certificate used in Flash Builder and enter this fingerprint here.\nYou should update it when beta testing to your own certificate.\nThe following command retrieves the SHA1 signature for the debug certificate used in Flash Builder (on OSX/macOS):"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"keytool -exportcert -keystore /Applications/Adobe\\ Flash\\ Builder\\ 4.7/eclipse/plugins/com.adobe.flexide.multiplatform.android_4.7.0.349722/resources/debug-certificate-android.p12 -storepass debug  -list -v -storetype PKCS12\n")),(0,o.kt)("p",null,"Read more about restricting the API key ",(0,o.kt)("a",{parentName:"p",href:"https://developers.google.com/maps/documentation/android-api/signup#restrict-key"},"here")),(0,o.kt)("h2",{id:"manifest-additions"},"Manifest Additions"),(0,o.kt)("p",null,"You need to add the following to the ",(0,o.kt)("inlineCode",{parentName:"p"},"android")," node in your application descriptor. "),(0,o.kt)("p",null,"Make sure you replace ",(0,o.kt)("inlineCode",{parentName:"p"},"YOUR_PACKAGE_NAME")," with your application's package name eg ",(0,o.kt)("inlineCode",{parentName:"p"},"air.com.distriqt.test"),"\nand ",(0,o.kt)("inlineCode",{parentName:"p"},"YOUR_API_KEY")," with your Google Maps API key from above."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-xml"},'<manifest android:installLocation="auto">\n    <uses-sdk android:minSdkVersion="12" android:targetSdkVersion="24" />\n\n    <uses-permission android:name="android.permission.INTERNET"/>\n    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"/>\n    <uses-permission android:name="android.permission.READ_PHONE_STATE"/>\n    <uses-permission android:name="android.permission.DISABLE_KEYGUARD"/>\n    <uses-permission android:name="android.permission.WAKE_LOCK"/>\n    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/>\n    <uses-permission android:name="android.permission.ACCESS_WIFI_STATE"/>\n\n    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION"/>\n    <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION"/>\n    \n    <uses-permission android:name="com.google.android.providers.gsf.permission.READ_GSERVICES"/>\n\n    \x3c!-- Replace \'YOUR_PACKAGE_NAME\' here with your application package eg: \'air.your.app.id\'  --\x3e\n    <uses-permission android:name="YOUR_PACKAGE_NAME.permission.MAPS_RECEIVE" android:protectionLevel="signature"/>\n\n    <uses-feature android:glEsVersion="0x00020000" android:required="true"/>\n    \n    <application>\n        \x3c!-- Replace "YOUR_API_KEY" with your Android Google Maps API Key --\x3e\n        <meta-data android:name="com.google.android.geo.API_KEY" android:value="YOUR_API_KEY" />\n        <meta-data android:name="com.google.android.gms.version" android:value="@integer/google_play_services_version" />\n\n        <activity android:name="com.distriqt.extension.nativemaps.permissions.AuthorisationActivity" android:theme="@android:style/Theme.Translucent.NoTitleBar" />\n    </application>\n\n</manifest>\n')))}d.isMDXComponent=!0}}]);
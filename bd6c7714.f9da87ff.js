(window.webpackJsonp=window.webpackJsonp||[]).push([[583],{638:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return s})),n.d(t,"metadata",(function(){return c})),n.d(t,"rightToc",(function(){return o})),n.d(t,"default",(function(){return u}));var a=n(2),r=n(6),i=(n(0),n(854)),s={title:"Tags",sidebar_label:"Tags"},c={unversionedId:"pushnotifications/tags",id:"pushnotifications/tags",isDocsHomePage:!1,title:"Tags",description:"Tags are used by some services to assign variables to a user. This can then be used by the service to selective send notifications or to substitute variables in a notification to provide highly customised interactions with your users.",source:"@site/docs/pushnotifications/tags.md",slug:"/pushnotifications/tags",permalink:"/docs/pushnotifications/tags",version:"current",sidebar_label:"Tags",sidebar:"pushnotifications",previous:{title:"Topics",permalink:"/docs/pushnotifications/topics"},next:{title:"User Consent",permalink:"/docs/pushnotifications/user-consent"}},o=[{value:"Support",id:"support",children:[]},{value:"Send Tags",id:"send-tags",children:[]},{value:"Get Tags",id:"get-tags",children:[]},{value:"Delete Tags",id:"delete-tags",children:[]}],l={rightToc:o};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(a.a)({},l,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,"Tags are used by some services to assign variables to a user. This can then be used by the service to selective send notifications or to substitute variables in a notification to provide highly customised interactions with your users."),Object(i.b)("p",null,"For example, you could send a notification with your user's name and current stage they are on in your game:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{}),"Hello Josh! We just improved our controls, come back and see if you can beat level 10!\n")),Object(i.b)("p",null,"by setting tags such as:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{}),'name: "Josh"\ncurrent_stage: "10"\n')),Object(i.b)("h2",{id:"support"},"Support"),Object(i.b)("p",null,"Once you have setup your service you can query ",Object(i.b)("inlineCode",{parentName:"p"},"canSendTags")," to find out whether the current service supports tags. This allows you to react to cases where the user has push notifications but no tag support (eg with APNS)."),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-actionscript"}),"if (PushNotifications.service.canSendTags)\n{\n    // Can subscribe to topics\n}\n")),Object(i.b)("h2",{id:"send-tags"},"Send Tags"),Object(i.b)("p",null,"To assign a tag value to a user call the ",Object(i.b)("inlineCode",{parentName:"p"},"sendTag")," function with the tag name and the value to assign for the current user:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-actionscript"}),'PushNotifications.service.sendTag( "name", "Josh" );\n')),Object(i.b)("p",null,"You can send multiple tags at the same time by sending an object:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-actionscript"}),'PushNotificaitons.service.sendTags( \n    {\n        name: "Josh",\n        current_stage: "10"\n    }\n);\n')),Object(i.b)("h2",{id:"get-tags"},"Get Tags"),Object(i.b)("p",null,"To retrieve a list of tags that have been set on the user call the ",Object(i.b)("inlineCode",{parentName:"p"},"getTags")," function."),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-actionscript"}),"PushNotifications.service.getTags();\n")),Object(i.b)("p",null,"This function will return ",Object(i.b)("inlineCode",{parentName:"p"},"true")," if the retrieval was started successfully and will subsequently dispatch a ",Object(i.b)("inlineCode",{parentName:"p"},"TagEvent.GET_TAGS_COMPLETE")," when the tags have been retrieved from the service."),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-actionscript"}),"PushNotifications.service.addEventListener( TagEvent.GET_TAGS_COMPLETE, getTags_completeHandler );\nPushNotifications.service.getTags();                \n\nfunction getTags_completeHandler( event:TagEvent ):void\n{\n    trace( JSON.stringify( event.tags ) );\n}\n")),Object(i.b)("p",null,"The event will have a ",Object(i.b)("inlineCode",{parentName:"p"},"tags")," object property which will contain all the tag key/value pairs."),Object(i.b)("h2",{id:"delete-tags"},"Delete Tags"),Object(i.b)("p",null,"To delete a tag call the ",Object(i.b)("inlineCode",{parentName:"p"},"deleteTag")," function with the name of the tag to delete:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-actionscript"}),'PushNotifications.service.deleteTag( "current_level" );\n')),Object(i.b)("p",null,"You can also delete multiple tags simultaneously using the ",Object(i.b)("inlineCode",{parentName:"p"},"deleteTags")," function:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-actionscript"}),'PushNotifications.service.deleteTags( [ "name", "current_level" ] );\n')))}u.isMDXComponent=!0},854:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return g}));var a=n(0),r=n.n(a);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=r.a.createContext({}),u=function(e){var t=r.a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},p=function(e){var t=u(e.components);return r.a.createElement(l.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},d=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,l=o(e,["components","mdxType","originalType","parentName"]),p=u(n),d=a,g=p["".concat(s,".").concat(d)]||p[d]||b[d]||i;return n?r.a.createElement(g,c(c({ref:t},l),{},{components:n})):r.a.createElement(g,c({ref:t},l))}));function g(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,s=new Array(i);s[0]=d;var c={};for(var o in t)hasOwnProperty.call(t,o)&&(c[o]=t[o]);c.originalType=e,c.mdxType="string"==typeof e?e:a,s[1]=c;for(var l=2;l<i;l++)s[l]=n[l];return r.a.createElement.apply(null,s)}return r.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"}}]);
"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[69931],{28453:(e,n,t)=>{t.d(n,{R:()=>d,x:()=>l});var i=t(96540);const s={},r=i.createContext(s);function d(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),i.createElement(r.Provider,{value:n},e.children)}},59754:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>d,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"adverts/migrating-to-version-13","title":"Migrating to version 13","description":"Version 13 brings the latest AdMob SDK which includes some significant changes to the SDK. This update includes:","source":"@site/docs/adverts/migrating-to-version-13.md","sourceDirName":"adverts","slug":"/adverts/migrating-to-version-13","permalink":"/docs/adverts/migrating-to-version-13","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Migrating to version 13","sidebar_label":"Migrating to version 13"},"sidebar":"adverts","previous":{"title":"Migrating to version 13.6","permalink":"/docs/adverts/migrating-to-version-13.6"},"next":{"title":"Migrating to version 12","permalink":"/docs/adverts/migrating-to-version-12"}}');var s=t(74848),r=t(28453);const d={title:"Migrating to version 13",sidebar_label:"Migrating to version 13"},l=void 0,a={},o=[{value:"App Open Ads",id:"app-open-ads",level:2},{value:"Event Changes",id:"event-changes",level:2},{value:"Left Application Events",id:"left-application-events",level:3},{value:"<code>FullScreenContentEvent</code>",id:"fullscreencontentevent",level:3},{value:"RequestConfiguration",id:"requestconfiguration",level:2}];function c(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"Version 13 brings the latest AdMob SDK which includes some significant changes to the SDK. This update includes:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Android v20+"}),"\n",(0,s.jsx)(n.li,{children:"iOS v8+"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"app-open-ads",children:"App Open Ads"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"app-open-ads",children:"App Open Ads"})," have been added with this release"]}),"\n",(0,s.jsx)(n.h2,{id:"event-changes",children:"Event Changes"}),"\n",(0,s.jsx)(n.h3,{id:"left-application-events",children:"Left Application Events"}),"\n",(0,s.jsxs)(n.p,{children:["All ",(0,s.jsx)(n.code,{children:"LEFT_APPLICATION"})," events have been removed and are no longer dispatched. This includes:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"RewardedVideoAdEvent.LEFT_APPLICATION"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"InterstitialAdEvent.LEFT_APPLICATION"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"AdViewEvent.LEFT_APPLICATION"})}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"We suggest using the Application extension state events to handle background deactivate events instead."}),"\n",(0,s.jsx)(n.h3,{id:"fullscreencontentevent",children:(0,s.jsx)(n.code,{children:"FullScreenContentEvent"})}),"\n",(0,s.jsxs)(n.p,{children:["All the fullscreen ads (Interstitials, RewardedVideoAd, AppOpenAds) now dispatch ",(0,s.jsx)(n.code,{children:"FullScreenContentEvent"}),"s when:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["they are shown: ",(0,s.jsx)(n.code,{children:"FullScreenContentEvent.SHOW"})]}),"\n",(0,s.jsxs)(n.li,{children:["they fail to show: ",(0,s.jsx)(n.code,{children:"FullScreenContentEvent.FAILED_TO_SHOW"})]}),"\n",(0,s.jsxs)(n.li,{children:["they are dismissed: ",(0,s.jsx)(n.code,{children:"FullScreenContentEvent.DISMISSED"})]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["These events replace the equivalent events that were defined in the ",(0,s.jsx)(n.code,{children:"InterstitialAdEvent"}),", and ",(0,s.jsx)(n.code,{children:"RewardedVideoAdEvent"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"So you need to replace the following with their new equivalents:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"InterstitialAdEvent.OPENED"})," -> ",(0,s.jsx)(n.code,{children:"FullScreenContentEvent.SHOW"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"InterstitialAdEvent.CLOSED"})," -> ",(0,s.jsx)(n.code,{children:"FullScreenContentEvent.DISMISSED"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"RewardedVideoAdEvent.OPENED"})," -> ",(0,s.jsx)(n.code,{children:"FullScreenContentEvent.SHOW"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"RewardedVideoAdEvent.CLOSED"})," -> ",(0,s.jsx)(n.code,{children:"FullScreenContentEvent.DISMISSED"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"eg for an interstitial, the following code:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-actionscript",children:'var interstitial:InterstitialAd = Adverts.service.interstitials.createInterstitialAd();\ninterstitial.setAdUnitId( "AD_UNIT_ID" );\n\ninterstitial.addEventListener( InterstitialAdEvent.LOADED, interstitial_loadedHandler );\ninterstitial.addEventListener( InterstitialAdEvent.ERROR, interstitial_errorHandler );\ninterstitial.addEventListener( InterstitialAdEvent.OPENED, interstitial_openedHandler );\ninterstitial.addEventListener( InterstitialAdEvent.CLOSED, interstitial_closedHandler );\n\n// ...\n\nfunction interstitial_openedHandler( event:InterstitialAdEvent ):void\n{\n        trace( "interstitial shown" );\n}\n\nfunction interstitial_closedHandler( event:InterstitialAdEvent ):void\n{\n        trace( "interstitial dismissed" );\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"becomes:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-actionscript",children:'var interstitial:InterstitialAd = Adverts.service.interstitials.createInterstitialAd();\ninterstitial.setAdUnitId( "AD_UNIT_ID" );\n\ninterstitial.addEventListener( InterstitialAdEvent.LOADED, interstitial_loadedHandler );\ninterstitial.addEventListener( InterstitialAdEvent.ERROR, interstitial_errorHandler );\ninterstitial.addEventListener( FullScreenContentEvent.SHOW, interstitial_showHandler );\ninterstitial.addEventListener( FullScreenContentEvent.DISMISSED, interstitial_dismissedHandler );\n\n// ...\n\nfunction interstitial_showHandler( event:FullScreenContentEvent ):void\n{\n        trace( "interstitial shown" );\n}\n\nfunction interstitial_dismissedHandler( event:FullScreenContentEvent ):void\n{\n        trace( "interstitial dismissed" );\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["We also suggest adding the listener for the ",(0,s.jsx)(n.code,{children:"FullScreenContentEvent.FAILED_TO_SHOW"})," event, handling any errors that are specific to displaying the fullscreen adverts. This should be done similarly to the load error events eg ",(0,s.jsx)(n.code,{children:"InterstitialAdEvent.ERROR"})]}),"\n",(0,s.jsx)(n.h2,{id:"requestconfiguration",children:"RequestConfiguration"}),"\n",(0,s.jsxs)(n.p,{children:['AdMob has moved some of the request options to a general "Request Configuration" API. This includes child directed treatments, targetting under age and max content ratings, along with the device ids used for testing. These options used to be set in the ',(0,s.jsx)(n.code,{children:"AdRequestBuilder"})," but are now set globally through a ",(0,s.jsx)(n.code,{children:"RequestConfiguration"})," object passed to ",(0,s.jsx)(n.code,{children:"Adverts.service.setRequestConfiguration()"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"In the past you may have used:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-actionscript",children:'var builder:AdRequestBuilder = new AdRequestBuilder()\n        .tagForChildDirectedTreatment( false )\n        .tagForUnderAgeOfConsent( false )\n        .maxAdContentRating( "G" )\n;\n'})}),"\n",(0,s.jsx)(n.p,{children:"You should change these settings to be in a central location (after initialisation) using the following:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-actionscript",children:'var config:RequestConfiguration = new RequestConfiguration()\n        .setTagForChildDirectedTreatment( RequestConfiguration.TAG_FOR_CHILD_DIRECTED_TREATMENT_FALSE )\n        .setTagForUnderAgeOfConsent( RequestConfiguration.TAG_FOR_UNDER_AGE_OF_CONSENT_FALSE )\n        .setMaxAdContentRating( RequestConfiguration.MAX_AD_CONTENT_RATING_G )\n        .setTestDeviceIds( ["XXXSSSAAA"] )\n;\n\nAdverts.service.setRequestConfiguration( config );\n'})}),"\n",(0,s.jsx)(n.p,{children:"Then when requesting an ad just construct a simple builder:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-actionscript",children:"var builder:AdRequestBuilder = new AdRequestBuilder();\n"})}),"\n",(0,s.jsxs)(n.p,{children:["More information in the ",(0,s.jsx)(n.a,{href:"targeting",children:"Targeting"})," section."]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}}}]);
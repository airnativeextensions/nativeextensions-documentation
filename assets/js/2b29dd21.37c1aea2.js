"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[79171],{28453:(e,r,i)=>{i.d(r,{R:()=>o,x:()=>s});var n=i(96540);const t={},a=n.createContext(t);function o(e){const r=n.useContext(a);return n.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function s(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),n.createElement(a.Provider,{value:r},e.children)}},87759:(e,r,i)=>{i.r(r),i.d(r,{assets:()=>d,contentTitle:()=>s,default:()=>u,frontMatter:()=>o,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"firebase/firestore/order-and-limit-data","title":"Firestore - Order and limit data","description":"Cloud Firestore provides powerful query functionality for specifying which documents you want to retrieve from a collection. These queries can also be used with either query() or addSnapshotListener(), as described in Get Data.","source":"@site/docs/firebase/firestore/order-and-limit-data.md","sourceDirName":"firebase/firestore","slug":"/firebase/firestore/order-and-limit-data","permalink":"/docs/firebase/firestore/order-and-limit-data","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Firestore - Order and limit data","sidebar_label":"Order and limit data"},"sidebar":"firebase","previous":{"title":"Perform simple and compound queries","permalink":"/docs/firebase/firestore/perform-simple-and-compound-queries"},"next":{"title":"Paginate data with query cursors","permalink":"/docs/firebase/firestore/paginate-data-with-query-cursors"}}');var t=i(74848),a=i(28453);const o={title:"Firestore - Order and limit data",sidebar_label:"Order and limit data"},s=void 0,d={},c=[{value:"Order and limit data",id:"order-and-limit-data",level:2},{value:"Default order",id:"default-order",level:3}];function l(e){const r={a:"a",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(r.p,{children:["Cloud Firestore provides powerful query functionality for specifying which documents you want to retrieve from a collection. These queries can also be used with either ",(0,t.jsx)(r.code,{children:"query()"})," or ",(0,t.jsx)(r.code,{children:"addSnapshotListener()"}),", as described in ",(0,t.jsx)(r.a,{href:"/docs/firebase/firestore/get-data",children:"Get Data"}),"."]}),"\n",(0,t.jsx)(r.h2,{id:"order-and-limit-data",children:"Order and limit data"}),"\n",(0,t.jsxs)(r.p,{children:["You can specify the sort order for your data using ",(0,t.jsx)(r.code,{children:"orderBy()"}),", and you can limit the number of documents retrieved using ",(0,t.jsx)(r.code,{children:"limit()"}),"."]}),"\n",(0,t.jsx)(r.p,{children:"For example, you could query for the first 3 cities alphabetically with:"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-actionscript",children:'var query:Query = citiesRef\n                    .orderBy( "name" )\n                    .limit( 3 );\n'})}),"\n",(0,t.jsx)(r.p,{children:"You could also sort in descending order to get the last 3 cities:"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-actionscript",children:'var query:Query = citiesRef\n                    .orderBy( "name", QueryDirection.DESCENDING )\n                    .limit( 3 );\n'})}),"\n",(0,t.jsx)(r.p,{children:"You can also order by multiple fields. For example, if you wanted to order by state, and within each state order by population in descending order:"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-actionscript",children:'var query:Query = citiesRef\n                    .orderBy( "state" )\n                    .orderBy( "population", QueryDirection.DESCENDING );\n'})}),"\n",(0,t.jsxs)(r.p,{children:["You can combine ",(0,t.jsx)(r.code,{children:"where()"})," filters with ",(0,t.jsx)(r.code,{children:"orderBy()"})," and ",(0,t.jsx)(r.code,{children:"limit()"}),"."]}),"\n",(0,t.jsx)(r.p,{children:"In the following example, the queries define a population threshold, sort by population in ascending order, and return only the first few results that exceed the threshold:"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-actionscript",children:'citiesRef\n    .whereGreaterThan( "population", 100000 )\n    .orderBy( "population" )\n    .limit( 2 );\n'})}),"\n",(0,t.jsxs)(r.p,{children:["However, if you have a filter with a range comparison (",(0,t.jsx)(r.code,{children:"<"}),", ",(0,t.jsx)(r.code,{children:"<="}),", ",(0,t.jsx)(r.code,{children:">"}),", ",(0,t.jsx)(r.code,{children:">="}),"), your first ordering must be on the same field:"]}),"\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.strong,{children:"Valid"}),": Range filter and orderBy on the same field"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-actionscript",children:'citiesRef\n    .whereGreaterThan( "population", 100000 )\n    .orderBy( "population" );\n'})}),"\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.strong,{children:"Invalid"}),": Range filter and first orderBy on different fields"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-actionscript",children:'citiesRef\n    .whereGreaterThan( "population", 100000 )\n    .orderBy( "country" );\n'})}),"\n",(0,t.jsx)(r.h3,{id:"default-order",children:"Default order"}),"\n",(0,t.jsx)(r.p,{children:"By default, a query retrieves all documents that satisfy the query in ascending order by document ID."}),"\n",(0,t.jsxs)(r.p,{children:["You can alter this by using the predefined field path value: ",(0,t.jsx)(r.code,{children:"FieldPath.documentId()"})," and passing it to the ",(0,t.jsx)(r.code,{children:"orderBy()"})," method. For example:"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-actionscript",children:"var query:Query = citiesRef\n                    .orderBy( FieldPath.documentId(), QueryDirection.DESCENDING );\n"})})]})}function u(e={}){const{wrapper:r}={...(0,a.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}}}]);
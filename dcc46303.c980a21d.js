(window.webpackJsonp=window.webpackJsonp||[]).push([[617],{672:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return r})),t.d(n,"metadata",(function(){return c})),t.d(n,"rightToc",(function(){return l})),t.d(n,"default",(function(){return s}));var i=t(2),o=t(6),a=(t(0),t(775)),r={title:"Account Kit - Add the Extension",sidebar_label:"Account Kit - Add the Extension"},c={unversionedId:"facebookapi/account-kit---add-the-extension",id:"facebookapi/account-kit---add-the-extension",isDocsHomePage:!1,title:"Account Kit - Add the Extension",description:"Account Kit has been discontinued and has been removed",source:"@site/docs/facebookapi/account-kit---add-the-extension.md",slug:"/facebookapi/account-kit---add-the-extension",permalink:"/docs/facebookapi/account-kit---add-the-extension",version:"current",sidebar_label:"Account Kit - Add the Extension"},l=[{value:"Android Manifest Additions",id:"android-manifest-additions",children:[{value:"Phone Permissions",id:"phone-permissions",children:[]},{value:"Email Permissions",id:"email-permissions",children:[]}]},{value:"iOS Info Additions",id:"ios-info-additions",children:[]}],d={rightToc:l};function s(e){var n=e.components,t=Object(o.a)(e,["components"]);return Object(a.b)("wrapper",Object(i.a)({},d,t,{components:n,mdxType:"MDXLayout"}),Object(a.b)("blockquote",null,Object(a.b)("p",{parentName:"blockquote"},Object(a.b)("strong",{parentName:"p"},"Account Kit has been discontinued and has been removed")),Object(a.b)("p",{parentName:"blockquote"},"Account Kit was deprecated on March 9, 2020. For more information, see ",Object(a.b)("a",Object(i.a)({parentName:"p"},{href:"https://developers.facebook.com/blog/post/2019/09/09/account-kit-services-no-longer-available-starting-march"}),"Account Kit services no longer available starting in March"),". ")),Object(a.b)("h2",{id:"android-manifest-additions"},"Android Manifest Additions"),Object(a.b)("p",null,"If you are using Account Kit then you will need to add some additional information here, including "),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"meta-data tags"),Object(a.b)("li",{parentName:"ul"},"activities")),Object(a.b)("p",null,"You will need to replace ",Object(a.b)("inlineCode",{parentName:"p"},"[YOUR_FACEBOOK_APP_NAME]"),", ",Object(a.b)("inlineCode",{parentName:"p"},"[YOUR_ACCOUNT_KIT_CLIENT_TOKEN]"),"and ",Object(a.b)("inlineCode",{parentName:"p"},"[YOUR_FACEBOOK_APP_ID]")," in the\nbelow with the relevant details for your application. "),Object(a.b)("pre",null,Object(a.b)("code",Object(i.a)({parentName:"pre"},{className:"language-xml"}),'<meta-data android:name="com.facebook.accountkit.ApplicationName" android:value="[YOUR_FACEBOOK_APP_NAME]" />\n<meta-data android:name="com.facebook.accountkit.ClientToken" android:value="[YOUR_ACCOUNT_KIT_CLIENT_TOKEN]" />\n\n<activity android:name="com.facebook.accountkit.ui.AccountKitActivity" android:theme="@style/AppLoginTheme" android:launchMode="singleTop" android:windowSoftInputMode="adjustResize" />\n\n<activity android:name="com.facebook.accountkit.ui.AccountKitEmailRedirectActivity" android:exported="true" android:noHistory="true">\n    <intent-filter>\n        <action android:name="android.intent.action.VIEW" />\n        <category android:name="android.intent.category.DEFAULT" />\n        <category android:name="android.intent.category.BROWSABLE" />\n        <data android:scheme="ak[YOUR_FACEBOOK_APP_ID]" />\n    </intent-filter>\n</activity>\n')),Object(a.b)("p",null,"These should be added within the ",Object(a.b)("inlineCode",{parentName:"p"},"application")," node."),Object(a.b)("h3",{id:"phone-permissions"},"Phone Permissions"),Object(a.b)("p",null,"Facebook recommends requesting the following permissions for SMS:"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},"RECEIVE_SMS")," - auto-fill SMS confirmation code"),Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},"READ_PHONE_STATE")," - auto-read device's phone number")),Object(a.b)("h4",{id:"auto-fill-confirmation-code-from-received-sms"},"Auto-fill confirmation code from received SMS"),Object(a.b)("p",null,"If people grant the ",Object(a.b)("inlineCode",{parentName:"p"},"RECEIVE_SMS")," permission, the Account Kit SDK automatically fills in the confirmation code sent to the device. People still need to manually submit the code to continue the login process."),Object(a.b)("p",null,"Add the following permission to your manifest additions to allow the SDK to auto-fill the confirmation code from the SMS:"),Object(a.b)("pre",null,Object(a.b)("code",Object(i.a)({parentName:"pre"},{className:"language-xml"}),'<uses-permission android:name="android.permission.RECEIVE_SMS" />\n')),Object(a.b)("h4",{id:"read-phone-number-on-device"},"Read Phone Number on Device"),Object(a.b)("p",null,"If people grant the ",Object(a.b)("inlineCode",{parentName:"p"},"READ_PHONE_STATE")," permission, the SDK can automatically fill in the device\u2019s phone number. People still need to manually submit their phone number to continue the login process"),Object(a.b)("p",null,"Add the following permission to your manifest additions to allow the SDK to auto-fill the device's phone number:"),Object(a.b)("pre",null,Object(a.b)("code",Object(i.a)({parentName:"pre"},{className:"language-xml"}),'<uses-permission android:name="android.permission.READ_PHONE_STATE" />\n')),Object(a.b)("h3",{id:"email-permissions"},"Email Permissions"),Object(a.b)("p",null,"Facebook recommends requesting the following permissions:"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},"GET_ACCOUNTS")," - provide drop-down list of device emails")),Object(a.b)("p",null,"Certain features of the Account Kit SDK are only available when specific Android Permissions are granted to your app. If people grant the ",Object(a.b)("inlineCode",{parentName:"p"},"GET_ACCOUNTS")," permission, the SDK allows them to select the emails available on the device."),Object(a.b)("p",null,"Add the following permission to your manifest additions to allow the SDK to populate a drop-down of emails:"),Object(a.b)("pre",null,Object(a.b)("code",Object(i.a)({parentName:"pre"},{className:"language-xml"}),'<uses-permission android:name="android.permission.GET_ACCOUNTS" />\n')),Object(a.b)("h2",{id:"ios-info-additions"},"iOS Info Additions"),Object(a.b)("p",null,"If you are using Account Kit then you will need to add some additional information\nadded to the Info Additions on top of the base Facebook API additions:  "),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"An additional url scheme with the ",Object(a.b)("inlineCode",{parentName:"li"},"ak")," prefix"),Object(a.b)("li",{parentName:"ul"},"The ",Object(a.b)("inlineCode",{parentName:"li"},"AccountKitClientToken")," key from your Account Kit configuration")),Object(a.b)("p",null,"Your info additions should end up looking like the following:"),Object(a.b)("pre",null,Object(a.b)("code",Object(i.a)({parentName:"pre"},{className:"language-xml"}),"<key>CFBundleURLTypes</key>\n<array>\n    <dict>\n        <key>CFBundleURLSchemes</key>\n        <array> \n            \x3c!-- Don't remove the 'fb' prefix --\x3e\n            <string>fb[YOUR_FACEBOOK_APP_ID]</string>\n            \x3c!-- Account Kit Addition --\x3e\n            <string>ak[YOUR_FACEBOOK_APP_ID]</string>\n        </array>\n    </dict>\n</array>\n<key>FacebookAppID</key>\n<string>[YOUR_FACEBOOK_APP_ID]</string>\n<key>FacebookDisplayName</key>\n<string>[YOUR_FACEBOOK_APP_NAME]</string>\n<key>AccountKitClientToken</key>\n<string>[YOUR_ACCOUNT_KIT_CLIENT_TOKEN]</string>\n")))}s.isMDXComponent=!0},775:function(e,n,t){"use strict";t.d(n,"a",(function(){return u})),t.d(n,"b",(function(){return m}));var i=t(0),o=t.n(i);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,i,o=function(e,n){if(null==e)return{};var t,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)t=a[i],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)t=a[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var d=o.a.createContext({}),s=function(e){var n=o.a.useContext(d),t=n;return e&&(t="function"==typeof e?e(n):c(c({},n),e)),t},u=function(e){var n=s(e.components);return o.a.createElement(d.Provider,{value:n},e.children)},b={inlineCode:"code",wrapper:function(e){var n=e.children;return o.a.createElement(o.a.Fragment,{},n)}},p=o.a.forwardRef((function(e,n){var t=e.components,i=e.mdxType,a=e.originalType,r=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),u=s(t),p=i,m=u["".concat(r,".").concat(p)]||u[p]||b[p]||a;return t?o.a.createElement(m,c(c({ref:n},d),{},{components:t})):o.a.createElement(m,c({ref:n},d))}));function m(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var a=t.length,r=new Array(a);r[0]=p;var c={};for(var l in n)hasOwnProperty.call(n,l)&&(c[l]=n[l]);c.originalType=e,c.mdxType="string"==typeof e?e:i,r[1]=c;for(var d=2;d<a;d++)r[d]=t[d];return o.a.createElement.apply(null,r)}return o.a.createElement.apply(null,t)}p.displayName="MDXCreateElement"}}]);
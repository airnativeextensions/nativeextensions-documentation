(window.webpackJsonp=window.webpackJsonp||[]).push([[429],{485:function(e,a,t){"use strict";t.r(a),t.d(a,"frontMatter",(function(){return i})),t.d(a,"metadata",(function(){return p})),t.d(a,"rightToc",(function(){return l})),t.d(a,"default",(function(){return c}));var n=t(2),r=(t(0),t(812));const i={title:"huawei.Testing Huawei AppGallery Purchases",sidebar_label:"huawei.Testing Huawei AppGallery Purchases"},p={unversionedId:"inappbilling/huawei.testing-huawei-appgallery-purchases",id:"inappbilling/huawei.testing-huawei-appgallery-purchases",isDocsHomePage:!1,title:"huawei.Testing Huawei AppGallery Purchases",description:"Huawei AppGallery In-App Purchases",source:"@site/docs/inappbilling/huawei.testing-huawei-appgallery-purchases.md",slug:"/inappbilling/huawei.testing-huawei-appgallery-purchases",permalink:"/docs/inappbilling/huawei.testing-huawei-appgallery-purchases",version:"current",sidebar_label:"huawei.Testing Huawei AppGallery Purchases",sidebar:"inappbilling",previous:{title:"amazon.Testing Amazon In-App Purchasing",permalink:"/docs/inappbilling/amazon.testing-amazon-in-app-purchasing"},next:{title:"Server Side Verification",permalink:"/docs/inappbilling/server-side-verification"}},l=[{value:"Huawei AppGallery In-App Purchases",id:"huawei-appgallery-in-app-purchases",children:[]},{value:"Set Installer Package",id:"set-installer-package",children:[]}],o={rightToc:l};function c({components:e,...a}){return Object(r.b)("wrapper",Object(n.a)({},o,a,{components:e,mdxType:"MDXLayout"}),Object(r.b)("h2",{id:"huawei-appgallery-in-app-purchases"},"Huawei AppGallery In-App Purchases"),Object(r.b)("p",null,Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://developer.huawei.com/consumer/en/doc/development/HMS-Guides/iap-sandbox-testing-v4"}),"https://developer.huawei.com/consumer/en/doc/development/HMS-Guides/iap-sandbox-testing-v4")),Object(r.b)("h2",{id:"set-installer-package"},"Set Installer Package"),Object(r.b)("p",null,"In order to correctly detect that the app was installed via the Huawei AppGallery you must set the installer package when installing your debug application. This is done normally by the App Gallery. "),Object(r.b)("p",null,"When installing your application you will need to use the following commands using the ",Object(r.b)("inlineCode",{parentName:"p"},"adb")," terminal command:"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{}),'adb push YOURAPP.apk /data/local/tmp/app.apk\nadb shell pm install -i "com.huawei.appmarket" -r /data/local/tmp/app.apk\nadb shell rm /data/local/tmp/app.apk\n')),Object(r.b)("p",null,"Change ",Object(r.b)("inlineCode",{parentName:"p"},"YOURAPP.apk")," to be the path to your application. This command will set the installer package name to be the Huawei AppGallery's package name ",Object(r.b)("inlineCode",{parentName:"p"},"com.huawei.appmarket"),"."),Object(r.b)("p",null,"If you don't set this and rely on the default detection then you will find debugging may default to the Google Play Billing implementation."))}c.isMDXComponent=!0},812:function(e,a,t){"use strict";t.d(a,"a",(function(){return s})),t.d(a,"b",(function(){return h}));var n=t(0),r=t.n(n);function i(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function p(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function l(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?p(Object(t),!0).forEach((function(a){i(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function o(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var c=r.a.createContext({}),u=function(e){var a=r.a.useContext(c),t=a;return e&&(t="function"==typeof e?e(a):l(l({},a),e)),t},s=function(e){var a=u(e.components);return r.a.createElement(c.Provider,{value:a},e.children)},d={inlineCode:"code",wrapper:function(e){var a=e.children;return r.a.createElement(r.a.Fragment,{},a)}},b=r.a.forwardRef((function(e,a){var t=e.components,n=e.mdxType,i=e.originalType,p=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),s=u(t),b=n,h=s["".concat(p,".").concat(b)]||s[b]||d[b]||i;return t?r.a.createElement(h,l(l({ref:a},c),{},{components:t})):r.a.createElement(h,l({ref:a},c))}));function h(e,a){var t=arguments,n=a&&a.mdxType;if("string"==typeof e||n){var i=t.length,p=new Array(i);p[0]=b;var l={};for(var o in a)hasOwnProperty.call(a,o)&&(l[o]=a[o]);l.originalType=e,l.mdxType="string"==typeof e?e:n,p[1]=l;for(var c=2;c<i;c++)p[c]=t[c];return r.a.createElement.apply(null,p)}return r.a.createElement.apply(null,t)}b.displayName="MDXCreateElement"}}]);
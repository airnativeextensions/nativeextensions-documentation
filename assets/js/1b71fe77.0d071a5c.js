"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[42553],{3905:function(e,n,t){t.d(n,{Zo:function(){return p},kt:function(){return m}});var i=t(67294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,i,a=function(e,n){if(null==e)return{};var t,i,a={},o=Object.keys(e);for(i=0;i<o.length;i++)t=o[i],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)t=o[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var l=i.createContext({}),d=function(e){var n=i.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):r(r({},n),e)),t},p=function(e){var n=d(e.components);return i.createElement(l.Provider,{value:n},e.children)},c={inlineCode:"code",wrapper:function(e){var n=e.children;return i.createElement(i.Fragment,{},n)}},u=i.forwardRef((function(e,n){var t=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=d(t),m=a,h=u["".concat(l,".").concat(m)]||u[m]||c[m]||o;return t?i.createElement(h,r(r({ref:n},p),{},{components:t})):i.createElement(h,r({ref:n},p))}));function m(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var o=t.length,r=new Array(o);r[0]=u;var s={};for(var l in n)hasOwnProperty.call(n,l)&&(s[l]=n[l]);s.originalType=e,s.mdxType="string"==typeof e?e:a,r[1]=s;for(var d=2;d<o;d++)r[d]=t[d];return i.createElement.apply(null,r)}return i.createElement.apply(null,t)}u.displayName="MDXCreateElement"},16867:function(e,n,t){t.r(n),t.d(n,{assets:function(){return p},contentTitle:function(){return l},default:function(){return m},frontMatter:function(){return s},metadata:function(){return d},toc:function(){return c}});var i=t(83117),a=t(80102),o=(t(67294),t(3905)),r=["components"],s={title:"Invites - Add the extension",sidebar_label:"Add the extension"},l=void 0,d={unversionedId:"firebase/invites/add-the-extension",id:"firebase/invites/add-the-extension",title:"Invites - Add the extension",description:"DEPRECATED",source:"@site/docs/firebase/invites/add-the-extension.md",sourceDirName:"firebase/invites",slug:"/firebase/invites/add-the-extension",permalink:"/docs/firebase/invites/add-the-extension",draft:!1,tags:[],version:"current",frontMatter:{title:"Invites - Add the extension",sidebar_label:"Add the extension"}},p={},c=[{value:"Required Extensions",id:"required-extensions",level:2},{value:"Firebase Invites",id:"firebase-invites",level:3},{value:"Extension IDs",id:"extension-ids",level:2},{value:"Google Play Services",id:"google-play-services",level:3},{value:"Google Identity",id:"google-identity",level:3},{value:"Android Manifest Additions",id:"android-manifest-additions",level:2},{value:"iOS",id:"ios",level:2},{value:"Developer Console",id:"developer-console",level:3},{value:"Info Additions and Entitlements",id:"info-additions-and-entitlements",level:3}],u={toc:c};function m(e){var n=e.components,s=(0,a.Z)(e,r);return(0,o.kt)("wrapper",(0,i.Z)({},u,s,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},(0,o.kt)("strong",{parentName:"p"},"DEPRECATED")),(0,o.kt)("p",{parentName:"blockquote"},"Please note that the Invites functionality has been removed from the latest Firebase SDK.\nYou should update your applications to use dynamic links directly in combination with your own share functionality.\nYou can use the ",(0,o.kt)("a",{parentName:"p",href:"https://airnativeextensions.com/extension/com.distriqt.Share"},"Share ANE")," as a starting point."),(0,o.kt)("p",{parentName:"blockquote"},"This documentation is only for legacy reference.")),(0,o.kt)("h2",{id:"required-extensions"},"Required Extensions"),(0,o.kt)("p",null,"You should have been through the setup of the Firebase Core before attempting to proceed with Invites."),(0,o.kt)("p",null,"Make sure you have added all the extensions required for the Firebase Core extension as outlined ",(0,o.kt)("a",{parentName:"p",href:"/docs/firebase/core/add-the-extensions"},"here"),"."),(0,o.kt)("p",null,"The Invites extension is not compatible with the Dynamic Links extension. You should use one or the other.\nInvites is built on top of the Firebase dynamic links functionality so the invites extension includes all the dynamic link functionality as well as the invites functionality."),(0,o.kt)("h3",{id:"firebase-invites"},"Firebase Invites"),(0,o.kt)("p",null,"The only required additional ANE is the Invites ANE located in this repository:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"com.distriqt.firebase.Invites")," : ",(0,o.kt)("a",{parentName:"li",href:"https://github.com/distriqt/ANE-Firebase"},"https://github.com/distriqt/ANE-Firebase"))),(0,o.kt)("p",null,"This ANE contains all the required libraries for the main Firebase Invites functionality."),(0,o.kt)("p",null,"You cannot use the Dynamic Links ANE with this ANE. Instead the functionality of the Dynamic Links ANE is replicated in this ANE."),(0,o.kt)("p",null,"See the notes on ",(0,o.kt)("a",{parentName:"p",href:"/docs/firebase/invites/dynamic-links"},"dynamic links"),"."),(0,o.kt)("h2",{id:"extension-ids"},"Extension IDs"),(0,o.kt)("p",null,"The following should be added to your ",(0,o.kt)("inlineCode",{parentName:"p"},"extensions")," node in your application descriptor to identify all the required ANEs in your application:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-xml"},"<extensions>\n    <extensionID>com.distriqt.Firebase</extensionID>\n    <extensionID>com.distriqt.firebase.Invites</extensionID>\n    \n    <extensionID>com.distriqt.Core</extensionID>\n\n    <extensionID>com.distriqt.playservices.Base</extensionID>\n    <extensionID>com.distriqt.playservices.AdsIdentifier</extensionID>\n\n    <extensionID>com.google.protobuflite</extensionID>\n    <extensionID>com.google.firebase.core</extensionID>\n\n    <extensionID>androidx.core</extensionID>\n    \n    <extensionID>com.distriqt.CustomResources</extensionID>\n</extensions>\n")),(0,o.kt)("hr",null),(0,o.kt)("h3",{id:"google-play-services"},"Google Play Services"),(0,o.kt)("p",null,"This ANE requires usage of certain aspects of the Google Play Services client library.\nThe client library is available as a series of ANEs that you add into your applications packaging options.\nEach separate ANE provides a component from the Play Services client library and are used by different ANEs.\nThese client libraries aren't packaged with this ANE as they are used by multiple ANEs and separating them\nwill avoid conflicts, allowing you to use multiple ANEs in the one application."),(0,o.kt)("p",null,"This ANE requires the following Google Play Services in addition to the ones required by the ",(0,o.kt)("a",{parentName:"p",href:"/docs/firebase/core/add-the-extensions#add-the-extension"},"Firebase Core"),":"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/distriqt/ANE-GooglePlayServices/raw/master/lib/com.distriqt.playservices.AppInvite.ane"},(0,o.kt)("inlineCode",{parentName:"a"},"com.distriqt.playservices.AppInvite.ane")))),(0,o.kt)("p",null,"You must include the above native extensions in your application along with this extension,\nand you need to ensure they are packaged with your application."),(0,o.kt)("p",null,"You can access the Google Play Services client library extensions here: ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/distriqt/ANE-GooglePlayServices"},"https://github.com/distriqt/ANE-GooglePlayServices"),"."),(0,o.kt)("hr",null),(0,o.kt)("h3",{id:"google-identity"},"Google Identity"),(0,o.kt)("p",null,"On iOS, Firebase Invites requires you to login your users using their Google Identity. "),(0,o.kt)("p",null,"This means you will need to have integrated the ",(0,o.kt)("a",{parentName:"p",href:"https://airnativeextensions.com/extension/com.distriqt.GoogleIdentity"},"Google Identity ANE")," in your application in order to support iOS."),(0,o.kt)("p",null,"Android does not require this. "),(0,o.kt)("p",null,"Without the Google Identity ANE this extension will not work on iOS. "),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"android-manifest-additions"},"Android Manifest Additions"),(0,o.kt)("p",null,"As with plain deep links, you must add an intent filter to the activity that handles deep links for your app.\nThe intent filter should catch deep links of your domain, since the Dynamic Link will redirect to your domain\nif your app is installed. This is required for your app to receive the Dynamic Link data after it is installed\nfrom the Play Store. In AndroidManifest.xml:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-xml"},'<activity>\n    <intent-filter>\n        <action android:name="android.intent.action.MAIN"></action>\n        <category android:name="android.intent.category.LAUNCHER"></category>\n    </intent-filter>\n    <intent-filter>\n        <action android:name="android.intent.action.VIEW"/>\n        <category android:name="android.intent.category.DEFAULT"/>\n        <category android:name="android.intent.category.BROWSABLE"/>\n\n        <data android:scheme="http" android:host="airnativeextensions.com" />\n        <data android:scheme="https" android:host="airnativeextensions.com" />\n        <data android:scheme="distriqt" android:host="appinvite" />\n    </intent-filter>\n</activity>\n')),(0,o.kt)("p",null,"This intent filter should be added directly after the ",(0,o.kt)("inlineCode",{parentName:"p"},"<application>")," tag in your manifest additions.\n(Note: This is not the main ",(0,o.kt)("inlineCode",{parentName:"p"},"<application>")," tag in your AIR application descriptor but the one inside\nyour manifest additions!) "),(0,o.kt)("p",null,"When users open a link to the scheme and host you specify, your app will start an activity to handle the link."),(0,o.kt)("p",null,"For more details on these fields and how to handle other types of App Links you can\nread the official Android documentation on ",(0,o.kt)("a",{parentName:"p",href:"https://developer.android.com/training/app-links/index.html"},"Handling App Links")),(0,o.kt)("p",null,"You will also need to add the following activity:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-xml"},'<activity\n    android:name="com.google.android.gms.appinvite.PreviewActivity"\n    android:exported="true"\n    android:theme="@style/Theme.AppInvite.Preview" >\n    <intent-filter>\n        <action android:name="com.google.android.gms.appinvite.ACTION_PREVIEW" />\n\n        <category android:name="android.intent.category.DEFAULT" />\n    </intent-filter>\n</activity>\n')),(0,o.kt)("p",null,"For example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-xml"},'<android>\n    <manifestAdditions><![CDATA[\n        <manifest android:installLocation="auto">\n            <uses-permission android:name="android.permission.INTERNET"/>\n            \n            \x3c!-- OTHER PERMISSIONS / REQUIREMENTS --\x3e\n\n            <application>\n                <activity>\n                    <intent-filter>\n                        <action android:name="android.intent.action.MAIN"></action>\n                        <category android:name="android.intent.category.LAUNCHER"></category>\n                    </intent-filter>\n                    <intent-filter>\n                        <action android:name="android.intent.action.VIEW"/>\n                        <category android:name="android.intent.category.DEFAULT"/>\n                        <category android:name="android.intent.category.BROWSABLE"/>\n\n                        <data android:scheme="http" android:host="airnativeextensions.com" />\n                        <data android:scheme="https" android:host="airnativeextensions.com" />\n                        <data android:scheme="distriqt" android:host="appinvite" />\n                    </intent-filter>\n                </activity>\n\n\n                <activity\n                    android:name="com.google.android.gms.appinvite.PreviewActivity"\n                    android:exported="true"\n                    android:theme="@style/Theme.AppInvite.Preview" >\n                    <intent-filter>\n                        <action android:name="com.google.android.gms.appinvite.ACTION_PREVIEW" />\n\n                        <category android:name="android.intent.category.DEFAULT" />\n                    </intent-filter>\n                </activity>\n            \n\n                \x3c!-- OTHER ADDITIONS --\x3e\n\n\n            </application>\n        </manifest>\n    ]]></manifestAdditions>\n</android>\n')),(0,o.kt)("h2",{id:"ios"},"iOS"),(0,o.kt)("p",null,"Ensure that your app's App Store ID and your Apple Developer Team ID is specified in your app's settings. To view and edit your app's settings, go to your Firebase project's Settings page and select your iOS app."),(0,o.kt)("p",null,"You can confirm that your Firebase project is properly configured to use Dynamic Links in your iOS app by opening the following URL (replacing ",(0,o.kt)("inlineCode",{parentName:"p"},"app_code")," with your app code):"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"https://app_code.app.goo.gl/apple-app-site-association\n")),(0,o.kt)("p",null,"If your app is connected, the apple-app-site-association file contains a reference to your app's App Store ID and bundle ID. For example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'{"applinks":{"apps":[],"details":[{"appID":"1234567890.com.example.ios","paths":["/*"]}]}}\n')),(0,o.kt)("p",null,"If the details field is empty, double-check that you specified your Team ID."),(0,o.kt)("h3",{id:"developer-console"},"Developer Console"),(0,o.kt)("p",null,'Ensure your application identifier in the iOS developer member center has enabled "Associated Domains".\nEnabling Associated Domains allows an app to be associated with a specified domain for specified services\nsuch as accessing Safari saved passwords and activity continuation.'),(0,o.kt)("p",null,"To do this, log into the member center and open your ",(0,o.kt)("a",{parentName:"p",href:"https://developer.apple.com/account/ios/identifier/bundle"},"App IDs")),(0,o.kt)("p",null,'Select your App ID and select "Edit". You need to enable the "Associated Domains" service as below:'),(0,o.kt)("p",null,(0,o.kt)("img",{src:t(26588).Z,width:"734",height:"525"})),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Note: You will need to regenerate and download your provisioning profiles after making this change. ")),(0,o.kt)("h3",{id:"info-additions-and-entitlements"},"Info Additions and Entitlements"),(0,o.kt)("p",null,"You will firstly need to add any custom url scheme to your info additions, by adding\nthe following and replacing ",(0,o.kt)("inlineCode",{parentName:"p"},"APP_SCHEME")," with your applications custom url scheme:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-xml"},"<key>CFBundleURLTypes</key>\n<array>\n    <dict>\n        <key>CFBundleURLSchemes</key>\n        <array>\n            <string>APP_SCHEME</string>\n        </array>\n    </dict>\n</array>\n")),(0,o.kt)("p",null,"You need to add the associated domain to your iOS Entitlements section, replacing\n",(0,o.kt)("inlineCode",{parentName:"p"},"APP_CODE")," below with your Dynamic Links domain."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-xml"},"<key>com.apple.developer.associated-domains</key>\n<array>\n    <string>applinks:APP_CODE.app.goo.gl</string>\n</array>\n")),(0,o.kt)("p",null,"For example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-xml"},"<iPhone>\n    <InfoAdditions><![CDATA[\n\n        <key>CFBundleURLTypes</key>\n        <array>\n            <dict>\n                <key>CFBundleURLSchemes</key>\n                <array>\n                    <string>distriqt</string>\n                </array>\n            </dict>\n        </array>\n\n    ]]></InfoAdditions>\n    <requestedDisplayResolution>high</requestedDisplayResolution>\n    <Entitlements><![CDATA[\n        \n        <key>com.apple.developer.associated-domains</key>\n        <array>\n            <string>applinks:abc123.app.goo.gl</string>\n        </array>\n\n    ]]></Entitlements>\n</iPhone>\n")))}m.isMDXComponent=!0},26588:function(e,n,t){n.Z=t.p+"assets/images/dynamiclinks-ios-associateddomains-d9ef0710131e5506f4a91e17beafc36f.png"}}]);
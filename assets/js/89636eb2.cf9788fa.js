"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[94813],{3905:(e,n,t)=>{t.d(n,{Zo:()=>s,kt:()=>f});var a=t(67294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var u=a.createContext({}),c=function(e){var n=a.useContext(u),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},s=function(e){var n=c(e.components);return a.createElement(u.Provider,{value:n},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},m=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,o=e.originalType,u=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),p=c(t),m=r,f=p["".concat(u,".").concat(m)]||p[m]||d[m]||o;return t?a.createElement(f,i(i({ref:n},s),{},{components:t})):a.createElement(f,i({ref:n},s))}));function f(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var o=t.length,i=new Array(o);i[0]=m;var l={};for(var u in n)hasOwnProperty.call(n,u)&&(l[u]=n[u]);l.originalType=e,l[p]="string"==typeof e?e:r,i[1]=l;for(var c=2;c<o;c++)i[c]=t[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,t)}m.displayName="MDXCreateElement"},85162:(e,n,t)=>{t.d(n,{Z:()=>i});var a=t(67294),r=t(86010);const o={tabItem:"tabItem_Ymn6"};function i(e){let{children:n,hidden:t,className:i}=e;return a.createElement("div",{role:"tabpanel",className:(0,r.Z)(o.tabItem,i),hidden:t},n)}},74866:(e,n,t)=>{t.d(n,{Z:()=>w});var a=t(87462),r=t(67294),o=t(86010),i=t(12466),l=t(16550),u=t(91980),c=t(67392),s=t(50012);function p(e){return function(e){var n,t;return null!=(n=null==(t=r.Children.map(e,(e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})))?void 0:t.filter(Boolean))?n:[]}(e).map((e=>{let{props:{value:n,label:t,attributes:a,default:r}}=e;return{value:n,label:t,attributes:a,default:r}}))}function d(e){const{values:n,children:t}=e;return(0,r.useMemo)((()=>{const e=null!=n?n:p(t);return function(e){const n=(0,c.l)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error('Docusaurus error: Duplicate values "'+n.map((e=>e.value)).join(", ")+'" found in <Tabs>. Every value needs to be unique.')}(e),e}),[n,t])}function m(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function f(e){let{queryString:n=!1,groupId:t}=e;const a=(0,l.k6)(),o=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=t?t:null}({queryString:n,groupId:t});return[(0,u._X)(o),(0,r.useCallback)((e=>{if(!o)return;const n=new URLSearchParams(a.location.search);n.set(o,e),a.replace({...a.location,search:n.toString()})}),[o,a])]}function y(e){const{defaultValue:n,queryString:t=!1,groupId:a}=e,o=d(e),[i,l]=(0,r.useState)((()=>function(e){var n;let{defaultValue:t,tabValues:a}=e;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!m({value:t,tabValues:a}))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+t+'" but none of its children has the corresponding value. Available values are: '+a.map((e=>e.value)).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");return t}const r=null!=(n=a.find((e=>e.default)))?n:a[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:n,tabValues:o}))),[u,c]=f({queryString:t,groupId:a}),[p,y]=function(e){let{groupId:n}=e;const t=function(e){return e?"docusaurus.tab."+e:null}(n),[a,o]=(0,s.Nk)(t);return[a,(0,r.useCallback)((e=>{t&&o.set(e)}),[t,o])]}({groupId:a}),b=(()=>{const e=null!=u?u:p;return m({value:e,tabValues:o})?e:null})();(0,r.useLayoutEffect)((()=>{b&&l(b)}),[b]);return{selectedValue:i,selectValue:(0,r.useCallback)((e=>{if(!m({value:e,tabValues:o}))throw new Error("Can't select invalid tab value="+e);l(e),c(e),y(e)}),[c,y,o]),tabValues:o}}var b=t(72389);const g={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function h(e){let{className:n,block:t,selectedValue:l,selectValue:u,tabValues:c}=e;const s=[],{blockElementScrollPositionUntilNextRender:p}=(0,i.o5)(),d=e=>{const n=e.currentTarget,t=s.indexOf(n),a=c[t].value;a!==l&&(p(n),u(a))},m=e=>{var n;let t=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{var a;const n=s.indexOf(e.currentTarget)+1;t=null!=(a=s[n])?a:s[0];break}case"ArrowLeft":{var r;const n=s.indexOf(e.currentTarget)-1;t=null!=(r=s[n])?r:s[s.length-1];break}}null==(n=t)||n.focus()};return r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":t},n)},c.map((e=>{let{value:n,label:t,attributes:i}=e;return r.createElement("li",(0,a.Z)({role:"tab",tabIndex:l===n?0:-1,"aria-selected":l===n,key:n,ref:e=>s.push(e),onKeyDown:m,onClick:d},i,{className:(0,o.Z)("tabs__item",g.tabItem,null==i?void 0:i.className,{"tabs__item--active":l===n})}),null!=t?t:n)})))}function k(e){let{lazy:n,children:t,selectedValue:a}=e;const o=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=o.find((e=>e.props.value===a));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return r.createElement("div",{className:"margin-top--md"},o.map(((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==a}))))}function v(e){const n=y(e);return r.createElement("div",{className:(0,o.Z)("tabs-container",g.tabList)},r.createElement(h,(0,a.Z)({},e,n)),r.createElement(k,(0,a.Z)({},e,n)))}function w(e){const n=(0,b.Z)();return r.createElement(v,(0,a.Z)({key:String(n)},e))}},21373:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>u,default:()=>f,frontMatter:()=>l,metadata:()=>c,toc:()=>p});var a=t(87462),r=(t(67294),t(3905)),o=t(74866),i=t(85162);const l={title:"Support Incoming Links",sidebar_label:"Support Incoming Links"},u=void 0,c={unversionedId:"facebookapi/core/app-links/support",id:"facebookapi/core/app-links/support",title:"Support Incoming Links",description:"When people tap the Open / Play button on the invite or the Is Ready installation notification,",source:"@site/docs/facebookapi/core/app-links/support.mdx",sourceDirName:"facebookapi/core/app-links",slug:"/facebookapi/core/app-links/support",permalink:"/docs/facebookapi/core/app-links/support",draft:!1,tags:[],version:"current",frontMatter:{title:"Support Incoming Links",sidebar_label:"Support Incoming Links"},sidebar:"facebookapi",previous:{title:"Overview",permalink:"/docs/facebookapi/core/app-links/overview"},next:{title:"Handling Incoming Links",permalink:"/docs/facebookapi/core/app-links/handling-incoming-links"}},s={},p=[{value:"Android",id:"android",level:2},{value:"iOS",id:"ios",level:2}],d={toc:p},m="wrapper";function f(e){let{components:n,...t}=e;return(0,r.kt)(m,(0,a.Z)({},d,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"When people tap the Open / Play button on the invite or the Is Ready installation notification,\nthey will be taken to your app. The URL defined in the App Link will be passed in. "),(0,r.kt)("p",null,"In order to support incoming links you need to add some additions to your application descriptor,\nthat will ensure your application receives the links correctly."),(0,r.kt)("h2",{id:"android"},"Android"),(0,r.kt)("p",null,"To respond to opening links for your custom URL scheme, add an intent-filter for that specific URL. For example in the following we will add an intent-filter to accept ",(0,r.kt)("inlineCode",{parentName:"p"},"distriqttestapp://")," urls. "),(0,r.kt)(o.Z,{groupId:"packagemanager",defaultValue:"apm",values:[{label:"APM",value:"apm"},{label:"Manual",value:"manual"}],mdxType:"Tabs"},(0,r.kt)(i.Z,{value:"apm",mdxType:"TabItem"},(0,r.kt)("p",null,"Firstly add a custom Android configuration file by running:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"apm generate config android\n")),(0,r.kt)("p",null,"Edit the ",(0,r.kt)("inlineCode",{parentName:"p"},"config/android/AndroidManifest.xml")," file that was generated to resemble the following, adding the ",(0,r.kt)("inlineCode",{parentName:"p"},"activity"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0" encoding="utf-8"?>\n<manifest xmlns:android="http://schemas.android.com/apk/res/android" xmlns:tools="http://schemas.android.com/tools">\n\n    <application>\n\n        <activity>\n            <intent-filter>\n                <action android:name="android.intent.action.MAIN" />\n                <category android:name="android.intent.category.LAUNCHER" />\n            </intent-filter>\n\n            \x3c!-- This intent filter is for your custom url --\x3e\n            <intent-filter android:autoVerify="true">\n                <action android:name="android.intent.action.VIEW" />\n                <category android:name="android.intent.category.DEFAULT" />\n                <category android:name="android.intent.category.BROWSABLE" />\n\n                \x3c!-- Accepts URIs "distriqttestapp://" --\x3e\n                <data android:scheme="distriqttestapp" />\n            </intent-filter>\n\n        </activity>\n\n    </application>\n\n</manifest>\n')),(0,r.kt)("p",null,"Once you have added this configuration run the steps to update / generate your ",(0,r.kt)("a",{parentName:"p",href:"/docs/facebookapi/core/add-the-extension#application-descriptor"},"application descriptor"),".")),(0,r.kt)(i.Z,{value:"manual",mdxType:"TabItem"},(0,r.kt)("p",null,"This should be added within the ",(0,r.kt)("inlineCode",{parentName:"p"},"application")," node of your manifest additions."),(0,r.kt)("p",null,"For example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<manifest android:installLocation="auto" >\n\n    \x3c!-- YOUR PERMISSIONS --\x3e\n\n    <application \n        android:appComponentFactory="androidx.core.app.CoreComponentFactory" \n        android:hardwareAccelerated="true" >\n\n        \x3c!-- HERE --\x3e\n        <activity>\n            <intent-filter>\n                <action android:name="android.intent.action.MAIN" />\n                <category android:name="android.intent.category.LAUNCHER" />\n            </intent-filter>\n            <intent-filter android:autoVerify="true">\n                <action android:name="android.intent.action.VIEW" />\n                <category android:name="android.intent.category.DEFAULT" />\n                <category android:name="android.intent.category.BROWSABLE" />\n                <data android:scheme="distriqttestapp" />\n            </intent-filter>\n        </activity>\n\n\n        \x3c!-- OTHER APPLICATION ADDITIONS --\x3e\n\n    </application>\n</manifest>\n')))),(0,r.kt)("h2",{id:"ios"},"iOS"),(0,r.kt)("p",null,"You'll need to add a custom url that you will use to open your application. In the following\nyou would be able to open the application using the ",(0,r.kt)("inlineCode",{parentName:"p"},"distriqttestapp://")," url."),(0,r.kt)(o.Z,{groupId:"packagemanager",defaultValue:"apm",values:[{label:"APM",value:"apm"},{label:"Manual",value:"manual"}],mdxType:"Tabs"},(0,r.kt)(i.Z,{value:"apm",mdxType:"TabItem"},(0,r.kt)("p",null,"Firstly add a custom iOS configuration file by running:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"apm generate config ios\n")),(0,r.kt)("p",null,"Edit the ",(0,r.kt)("inlineCode",{parentName:"p"},"config/ios/InfoAdditions.xml")," file that was generated to resemble the following:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<plist version="1.0">\n    <dict>\n\n            <key>CFBundleURLTypes</key>\n            <array>\n                <dict>\n                    <key>CFBundleURLSchemes</key>\n                    <array>\n                        <string>distriqttestapp</string>\n                    </array>\n                </dict>\n            </array>\n\n    </dict>\n</plist>\n')),(0,r.kt)("p",null,"Once you have added this configuration run the steps to update / generate your ",(0,r.kt)("a",{parentName:"p",href:"/docs/facebookapi/core/add-the-extension#application-descriptor"},"application descriptor"),".")),(0,r.kt)(i.Z,{value:"manual",mdxType:"TabItem"},(0,r.kt)("p",null,"Add an additional ",(0,r.kt)("inlineCode",{parentName:"p"},"CFBundleURLSchemes")," value to the ",(0,r.kt)("inlineCode",{parentName:"p"},"InfoAdditions")," in your application descriptor. It can be placed alongside your facebook scheme you added when adding the extension:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},"<key>CFBundleURLTypes</key>\n<array>\n    <dict>\n        <key>CFBundleURLSchemes</key>\n        <array>\n            <string>fbXXXXXXXXXX</string>\n            <string>distriqttestapp</string>\n        </array>\n    </dict>\n</array>\n")))))}f.isMDXComponent=!0}}]);
"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[82558],{28453:(t,e,n)=>{n.d(e,{R:()=>i,x:()=>o});var a=n(96540);const s={},c=a.createContext(s);function i(t){const e=a.useContext(c);return a.useMemo(function(){return"function"==typeof t?t(e):{...e,...t}},[e,t])}function o(t){let e;return e=t.disableParentContext?"function"==typeof t.components?t.components(s):t.components||s:i(t.components),a.createElement(c.Provider,{value:e},t.children)}},77758:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>r,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"contacts/retrieving-the-contact-list","title":"Retrieving the Contact List","description":"There are several ways to access the contact list. As the list is quite large and detailed a full","source":"@site/docs/contacts/retrieving-the-contact-list.md","sourceDirName":"contacts","slug":"/contacts/retrieving-the-contact-list","permalink":"/docs/contacts/retrieving-the-contact-list","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Retrieving the Contact List","sidebar_label":"Retrieving the Contact List"},"sidebar":"contacts","previous":{"title":"Request Authorisation","permalink":"/docs/contacts/request-authorisation"},"next":{"title":"Contact Images","permalink":"/docs/contacts/contact-images"}}');var s=n(74848),c=n(28453);const i={title:"Retrieving the Contact List",sidebar_label:"Retrieving the Contact List"},o=void 0,r={},d=[{value:"Extended List",id:"extended-list",level:2},{value:"Modified Contacts",id:"modified-contacts",level:2},{value:"JSON",id:"json",level:2},{value:"Modified Since as JSON",id:"modified-since-as-json",level:3}];function l(t){const e={blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,c.R)(),...t.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.p,{children:"There are several ways to access the contact list. As the list is quite large and detailed a full\n(extended) contact list request returning all of the available contacts and details on each can be\nquite slow, so while we have provided this functionality we do not suggest using it."}),"\n",(0,s.jsx)(e.p,{children:"Instead our suggested method is to retrieve the basic contact list, which only retrieves a subset\nof the contact details, which you can then query individually for the full details."}),"\n",(0,s.jsx)(e.p,{children:"The example below shows retrieving the list of contacts and then querying one for detailed information."}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-actionscript",children:'// Before here we have already requested access and performed initialisation\n\nContacts.service.addEventListener( ContactsEvent.GET_CONTACTS, contacts_getContactsHandler );\nContacts.service.addEventListener( ContactsEvent.GET_CONTACTS_ERROR, contacts_getContactsErrorHandler );\n\nContacts.service.getContactListAsync();\n\n...\n\nprivate function contacts_getContactsHandler( event:ContactsEvent ):void\n{\n\t// event.data is an Array of Contact objects only with basic details\n\n\tvar randomIndex:int = Math.floor( Math.random() * contacts.length );\n\tvar randomContact:Contact = contacts[ randomIndex ];\n\t\n\tvar contactWithDetails:Contact = Contacts.service.getContactDetails( randomContact.contactId );\n\t\t\n}\n\nprivate function contacts_getContactsErrorHandler( event:ContactsEvent ):void\n{\n\ttrace( "ERROR::" + event.message );\n}\n'})}),"\n",(0,s.jsx)(e.h2,{id:"extended-list",children:"Extended List"}),"\n",(0,s.jsxs)(e.p,{children:["If you wish, you can load the extended contact list using the ",(0,s.jsx)(e.code,{children:"getContactListExtendedAsync"})," function.\nThis loads all of the contacts and all their details (and if specified all their images)."]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-actionscript",children:'Contacts.service.addEventListener( ContactsEvent.GET_CONTACTS_EXTENDED, contacts_getContactsExtendedHandler );\nContacts.service.addEventListener( ContactsEvent.GET_CONTACTS_ERROR, contacts_getContactsErrorHandler );\n\nContacts.service.getContactListExtendedAsync();\n\n...\n\nprivate function contacts_getContactsExtendedHandler( event:ContactsEvent ):void\n{\n\ttrace( "getContactListExtendedAsync(): Retrieved " + event.data.length + " contacts" );\n}\n\nprivate function contacts_getContactsErrorHandler( event:ContactsEvent ):void\n{\n\ttrace( "ERROR::" + event.message );\n}\n'})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"Note: While all attempts have been made to reduce the load of this call there are still situations\nwhich will take a while to return so we suggest using this method with care. A large contact list\nwill not be a quick query and the conversion to AS3 objects may take a noticable time."}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"modified-contacts",children:"Modified Contacts"}),"\n",(0,s.jsx)(e.p,{children:"You can retrieve a list of contacts that have been modified by the user since a particular date.\nThis is particularly useful if you are attempting to maintain some sort of synchronisation between\nseveral data sources."}),"\n",(0,s.jsxs)(e.p,{children:["To do this, simply provide the date from which you wish to retrieve the modified contacts to the\n",(0,s.jsx)(e.code,{children:"getContactListModifiedSince"})," function, as below:"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-actionscript",children:"Contacts.service.addEventListener( ContactsEvent.GET_CONTACTS_MODIFIED, contacts_getContactsModifiedHandler );\n\nvar success:Boolean = Contacts.service.getContactListModifiedSince( new Date( 2015, 9, 1 ) );\n\n...\n\nprivate function contacts_getContactsModifiedHandler( event:ContactsEvent ):void\n{\n\t// event.data will contain an array of Contact objects that have been modified\n}\n"})}),"\n",(0,s.jsx)(e.h2,{id:"json",children:"JSON"}),"\n",(0,s.jsxs)(e.p,{children:["Retrieving the contact list as JSON, this method retrieves the extended contact list again however\nit will be faster than ",(0,s.jsx)(e.code,{children:"getContactListExtendedAsync"})," as we aren't creating a ",(0,s.jsx)(e.code,{children:"Contact"})," object for each\ncontact. Instead we are just returning a json formatted string."]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-actionscript",children:"Contacts.service.addEventListener( ContactsJSONEvent.GET_CONTACTS_JSON, contacts_getContactsJSONHandler );\n\t\t\t\t\t\nContacts.service.getContactListAsJSON();\n\n...\n\nprivate function contacts_getContactsJSONHandler( event:ContactsJSONEvent ):void\n{\n\ttrace( event.json );\n}\n"})}),"\n",(0,s.jsx)(e.h3,{id:"modified-since-as-json",children:"Modified Since as JSON"}),"\n",(0,s.jsx)(e.p,{children:"Similarly you can retrieve the modified since list as JSON"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-actionscript",children:"Contacts.service.addEventListener( ContactsJSONEvent.GET_CONTACTS_MODIFIED_JSON, contacts_getContactsModifiedJSONHandler );\n\nvar success:Boolean = Contacts.service.getContactListModifiedSinceAsJSON( new Date( 2015, 9, 1 ) );\n\n...\n\nprivate function contacts_getContactsModifiedJSONHandler( event:ContactsJSONEvent ):void\n{\n\ttrace( event.json );\n}\n"})})]})}function h(t={}){const{wrapper:e}={...(0,c.R)(),...t.components};return e?(0,s.jsx)(e,{...t,children:(0,s.jsx)(l,{...t})}):l(t)}}}]);
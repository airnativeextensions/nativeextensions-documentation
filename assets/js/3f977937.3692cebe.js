(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[35973],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return c},kt:function(){return v}});var i=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=i.createContext({}),d=function(e){var t=i.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},c=function(e){var t=d(e.components);return i.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},u=i.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,l=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),u=d(n),v=r,m=u["".concat(l,".").concat(v)]||u[v]||p[v]||a;return n?i.createElement(m,s(s({ref:t},c),{},{components:n})):i.createElement(m,s({ref:t},c))}));function v(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,s=new Array(a);s[0]=u;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o.mdxType="string"==typeof e?e:r,s[1]=o;for(var d=2;d<a;d++)s[d]=n[d];return i.createElement.apply(null,s)}return i.createElement.apply(null,n)}u.displayName="MDXCreateElement"},50237:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return s},metadata:function(){return o},toc:function(){return l},default:function(){return c}});var i=n(22122),r=n(19756),a=(n(67294),n(3905)),s={title:"Migrating from version 4",sidebar_label:"Migrating from version 4"},o={unversionedId:"adverts/migrating-from-version-4",id:"adverts/migrating-from-version-4",isDocsHomePage:!1,title:"Migrating from version 4",description:"Version 5 completely changes the way adverts are displayed, including more control over the ad units that are displayed. Migration is simple as laid out below.",source:"@site/docs/adverts/migrating-from-version-4.md",sourceDirName:"adverts",slug:"/adverts/migrating-from-version-4",permalink:"/docs/adverts/migrating-from-version-4",version:"current",sidebar_label:"Migrating from version 4",frontMatter:{title:"Migrating from version 4",sidebar_label:"Migrating from version 4"},sidebar:"adverts",previous:{title:"Migrating to version 10",permalink:"/docs/adverts/migrating-to-version-10"},next:{title:"Migrating to AndroidX",permalink:"/docs/adverts/migrating-to-androidx"}},l=[{value:"Initialise",id:"initialise",children:[]},{value:"Displaying an Banner Advert",id:"displaying-an-banner-advert",children:[]},{value:"Events",id:"events",children:[]},{value:"Hiding an Advert",id:"hiding-an-advert",children:[]},{value:"Refreshing/Updating an advert",id:"refreshingupdating-an-advert",children:[]},{value:"Loading",id:"loading",children:[]},{value:"Displaying an Interstitial",id:"displaying-an-interstitial",children:[]}],d={toc:l};function c(e){var t=e.components,n=(0,r.Z)(e,["components"]);return(0,a.kt)("wrapper",(0,i.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Version 5 completely changes the way adverts are displayed, including more control over the ad units that are displayed. Migration is simple as laid out below. "),(0,a.kt)("p",null,"The major difference is that you now will create an ",(0,a.kt)("inlineCode",{parentName:"p"},"AdView")," or an ",(0,a.kt)("inlineCode",{parentName:"p"},"InterstitialAd")," instance and use this to configure, load and display your adverts. Whereas you used to only have access to a single advert with one ad unit id, you can now create multiple and use as required. This means that you will need to hold onto an instance of your ",(0,a.kt)("inlineCode",{parentName:"p"},"AdView")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"InterstitialAd")," to set properties, listen for events, load, and display your advert."),(0,a.kt)("h1",{id:"banners"},"Banners"),(0,a.kt)("h2",{id:"initialise"},"Initialise"),(0,a.kt)("p",null,"With v5.0 you specify the unit id on the advert view. So you no longer have to set the unit id on the initialisePlatform functions."),(0,a.kt)("p",null,"This means the follow version 4 code,"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-actionscript"},"Adverts.service.initialisePlatform( AdvertPlatform.PLATFORM_ADMOB, AD_UNIT_ID );\n")),(0,a.kt)("p",null,"becomes:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-actionscript"},"Adverts.service.initialisePlatform( AdvertPlatform.PLATFORM_ADMOB );\n\nvar adView:AdView = Adverts.service.createAdView();\nadView.setAdSize( AdSize.SMART_BANNER );\nadView.setAdUnitId( AD_UNIT_ID );\n")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Note: You must set an AdSize and a unit id on an AdView before attempting to load or display the ad.")),(0,a.kt)("h2",{id:"displaying-an-banner-advert"},"Displaying an Banner Advert"),(0,a.kt)("p",null,"Previously to display an advert:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-actionscript"},"var position:AdvertPosition = new AdvertPosition();\nposition.verticalAlign   = AdvertPosition.ALIGN_BOTTOM;\nposition.horizontalAlign = AdvertPosition.ALIGN_CENTER;\n\nAdverts.service.showAdvert( position );\n")),(0,a.kt)("p",null,"This now becomes:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-actionscript"},"var adView:AdView = Adverts.service.createAdView();\nadView.setAdUnitId( AD_UNIT_ID );\nadView.setAdSize( AdSize.SMART_BANNER );\nadView.setViewParams( new AdViewParamsBuilder()\n        .setVerticalAlign( AdViewParams.ALIGN_BOTTOM )\n        .setHorizontalAlign( AdViewParams.ALIGN_CENTER )\n        .build()\n);\nadView.load( new AdRequestBuilder().build() );\nadView.show();\n")),(0,a.kt)("p",null,"There is a bit more to the code now, however we believe this gives you much more functionality to control the way adverts are displayed in your application."),(0,a.kt)("h2",{id:"events"},"Events"),(0,a.kt)("p",null,"Listening for events is much more specified now. The following:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-actionscript"},'Adverts.service.addEventListener( AdvertEvent.RECEIVED_AD, adverts_receivedAdHandler );\nprivate function adverts_receivedAdHandler( event:AdvertEvent ):void\n{\n    trace( "received an advertisement" );\n}\n')),(0,a.kt)("p",null,"becomes:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-actionscript"},"adView.addEventListener( AdViewEvent.LOADED, loadedHandler );\n\nfunction loadedHandler( event:AdViewEvent ):void\n{\n    // Ad loaded and ready to be displayed\n}\n")),(0,a.kt)("p",null,"You can listen for many more events on the ",(0,a.kt)("inlineCode",{parentName:"p"},"AdView")," now as well."),(0,a.kt)("h2",{id:"hiding-an-advert"},"Hiding an Advert"),(0,a.kt)("p",null,"Hiding an advert is a simple change, the following:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-actionscript"},"Adverts.service.hideAdvert();\n")),(0,a.kt)("p",null,"becomes:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-actionscript"},"adView.hide();\n")),(0,a.kt)("h2",{id:"refreshingupdating-an-advert"},"Refreshing/Updating an advert"),(0,a.kt)("p",null,"If you wish to manually refresh the advert you can call the refresh function.\nThis will make the advert update with a new ad request."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-actionscript"},"Adverts.service.refresh();\n")),(0,a.kt)("p",null,"This now changes to a new load request:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-actionscript"},"adView.load( new AdRequestBuilder().build() );\n")),(0,a.kt)("h1",{id:"interstitials"},"Interstitials"),(0,a.kt)("p",null,"Interstitials are still provided through the ",(0,a.kt)("inlineCode",{parentName:"p"},"Adverts.service.interstitials")," singleton, however the process is now similar to the ",(0,a.kt)("inlineCode",{parentName:"p"},"AdView")," process above. "),(0,a.kt)("h2",{id:"loading"},"Loading"),(0,a.kt)("p",null,"Previously to load an interstitial you called ",(0,a.kt)("inlineCode",{parentName:"p"},"load")," on the ",(0,a.kt)("inlineCode",{parentName:"p"},"Interstitials")," class, however now you need to create an instance of an ",(0,a.kt)("inlineCode",{parentName:"p"},"InterstitialAd")," and then call ",(0,a.kt)("inlineCode",{parentName:"p"},"load")," on that instance."),(0,a.kt)("p",null,"So"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-actionscript"},"Adverts.service.interstitials.addEventListener( InterstitialEvent.LOADED, loadedHandler );\nAdverts.service.interstitials.addEventListener( InterstitialEvent.ERROR, errorHandler );\n\nAdverts.service.interstitials.load( AD_UNIT_ID );\n")),(0,a.kt)("p",null,"becomes:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-actionscript"},"var interstitial:InterstitialAd = Adverts.service.interstitials.createInterstitialAd();\n\ninterstitial.setAdUnitId( AD_UNIT_ID );\ninterstitial.addEventListener( InterstitialAdEvent.LOADED, loadedHandler );\ninterstitial.addEventListener( InterstitialAdEvent.ERROR, errorHandler );\ninterstitial.load( new AdRequestBuilder().build() );\n")),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"interstitial")," instance should be held onto and reused in your application."),(0,a.kt)("h2",{id:"displaying-an-interstitial"},"Displaying an Interstitial"),(0,a.kt)("p",null,"Previously to display an interstitial:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-actionscript"},"Adverts.service.interstitials.addEventListener( InterstitialEvent.DISMISSED, dismissedHandler );\n\nif (Adverts.service.interstitials.isReady())\n{\n    Adverts.service.interstitials.show();\n}\n")),(0,a.kt)("p",null,"This now becomes:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-actionscript"},"interstitial.addEventListener( InterstitialAdEvent.CLOSED, closedHandler );\n\nif (interstitial.isLoaded())\n{\n    interstitial.show();\n}\n")),(0,a.kt)("h1",{id:"advertising-identifier"},"Advertising Identifier"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"uniqueId")," function has been deprecated. If you need access to the device unique id (vendorForIdentifier etc)\nplease use the ",(0,a.kt)("inlineCode",{parentName:"p"},"com.distriqt.Application")," ANE."),(0,a.kt)("p",null,"This will now only return the advertisting identifier, however we have improved its functionality to retrieve more information about the advertising identifier."),(0,a.kt)("p",null,"Previously:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-actionscript"},"var advertisingId:String = Adverts.service.uniqueId( Adverts.ADVERTISING );\n")),(0,a.kt)("p",null,"Becomes:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-actionscript"},"Adverts.service.addEventListener( AdvertisingIdEvent.ADVERTISING_ID, advertisingIdHandler );\nAdverts.service.getAdvertisingId();\n\nfunction advertisingIdHandler( event:AdvertisingIdEvent ):void\n{\n    var advertisingId:String = info.advertisingId;\n}\n")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"The asynchronous nature of the new implementation resolves issues with the previous implementation sometimes returning incorrect values.")))}c.isMDXComponent=!0}}]);
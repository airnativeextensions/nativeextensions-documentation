"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[26168],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return d}});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),c=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=c(e.components);return r.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),h=c(n),d=a,f=h["".concat(s,".").concat(d)]||h[d]||u[d]||o;return n?r.createElement(f,i(i({ref:t},p),{},{components:n})):r.createElement(f,i({ref:t},p))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=h;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,i[1]=l;for(var c=2;c<o;c++)i[c]=n[c];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}h.displayName="MDXCreateElement"},95245:function(e,t,n){n.r(t),n.d(t,{assets:function(){return p},contentTitle:function(){return s},default:function(){return d},frontMatter:function(){return l},metadata:function(){return c},toc:function(){return u}});var r=n(87462),a=n(63366),o=(n(67294),n(3905)),i=["components"],l={title:"Sharing - Share API",sidebar_label:"Sharing - Share API"},s=void 0,c={unversionedId:"facebookapi-legacy/sharing---share-api",id:"facebookapi-legacy/sharing---share-api",title:"Sharing - Share API",description:"This is the legacy extension documentation. Find the new documentation here",source:"@site/docs/facebookapi-legacy/sharing---share-api.md",sourceDirName:"facebookapi-legacy",slug:"/facebookapi-legacy/sharing---share-api",permalink:"/docs/facebookapi-legacy/sharing---share-api",draft:!1,tags:[],version:"current",frontMatter:{title:"Sharing - Share API",sidebar_label:"Sharing - Share API"},sidebar:"facebookapi-legacy",previous:{title:"Sharing - Open Graph Stories",permalink:"/docs/facebookapi-legacy/sharing---open-graph-stories"},next:{title:"App Links - Overview",permalink:"/docs/facebookapi-legacy/app-links---overview"}},p={},u=[{value:"Share API",id:"share-api",level:2},{value:"Creating Content",id:"creating-content",level:3},{value:"Share",id:"share",level:3}],h={toc:u};function d(e){var t=e.components,n=(0,a.Z)(e,i);return(0,o.kt)("wrapper",(0,r.Z)({},h,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("admonition",{type:"caution"},(0,o.kt)("p",{parentName:"admonition"},"This is the legacy extension documentation. Find the new documentation ",(0,o.kt)("a",{parentName:"p",href:"../facebookapi/"},"here"))),(0,o.kt)("h2",{id:"share-api"},"Share API"),(0,o.kt)("p",null,"The Share API allows you to perform similar things to the Share Dialog however instead of using the Facebook dialogs you can create your own interface for sharing,and post directly with this API. You will need to:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Build a custom interface "),(0,o.kt)("li",{parentName:"ul"},"Add Facebook Login to your app"),(0,o.kt)("li",{parentName:"ul"},"Request the publish_actions permission"),(0,o.kt)("li",{parentName:"ul"},"Create your content to post using one of the content builders"),(0,o.kt)("li",{parentName:"ul"},"Post to the API")),(0,o.kt)("h3",{id:"creating-content"},"Creating Content"),(0,o.kt)("p",null,"Create content as you do for the Share and Message Dialogs using the builders, as outlined in the ",(0,o.kt)("a",{parentName:"p",href:"sharing---content"},"Share Content")," section."),(0,o.kt)("p",null,"For example, to create a link to share:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-actionscript"},'var builder:ShareLinkContentBuilder = new ShareLinkContentBuilder()\n    .setContentTitle("FacebookAPI ANE")\n    .setContentDescription("This link was shared using the distriqt FacebookAPI ANE" )\n    .setContentUrl("https://airnativeextensions.com/extension/com.distriqt.FacebookAPI");\n')),(0,o.kt)("h3",{id:"share"},"Share"),(0,o.kt)("p",null,"Once you have created your content you post this to Facebook by using the ",(0,o.kt)("inlineCode",{parentName:"p"},"ShareAPI"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"share")," function:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-actionscript"},"var success:Boolean = FacebookAPI.service.shareAPI.share( builder.build() );\n")),(0,o.kt)("p",null,"This may return ",(0,o.kt)("inlineCode",{parentName:"p"},"false")," if the content isn't valid or cannot be shared via the ShareAPI."),(0,o.kt)("p",null,"If started successfully the ShareAPI will dispatch an event when the post is complete, similar to the ShareDialog process."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"ShareAPIEvent.COMPLETED"),": when the share was successfully completed"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"ShareAPIEvent.CANCELLLED"),": when the share was cancelled"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"ShareAPIEvent.ERROR"),": when an error occurred during the process")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-actionscript"},"FacebookAPI.service.shareAPI.addEventListener( ShareAPIEvent.COMPLETED, shareAPIEventHandler );\nFacebookAPI.service.shareAPI.addEventListener( ShareAPIEvent.CANCELLED, shareAPIEventHandler );\nFacebookAPI.service.shareAPI.addEventListener( ShareAPIEvent.ERROR, shareAPIEventHandler );\n")),(0,o.kt)("p",null,"And then your event handler:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-actionscript"},'function shareAPIEventHandler( event:ShareAPIEvent ):void \n{\n    // If successful event.postId will contain the post identifier\n    if (event.postId != null) \n    {\n        trace( "postId="+event.postId);\n    }\n}\n')))}d.isMDXComponent=!0}}]);
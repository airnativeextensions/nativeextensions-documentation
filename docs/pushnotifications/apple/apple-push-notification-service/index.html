<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-pushnotifications/apple/apple-push-notification-service" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Setup | air native extensions</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.airnativeextensions.com/img/ane-icon-black.png"><meta data-rh="true" name="twitter:image" content="https://docs.airnativeextensions.com/img/ane-icon-black.png"><meta data-rh="true" property="og:url" content="https://docs.airnativeextensions.com/docs/pushnotifications/apple/apple-push-notification-service"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Setup | air native extensions"><meta data-rh="true" name="description" content="Apple Push Notification Service (APNS) is the push notification system for use on"><meta data-rh="true" property="og:description" content="Apple Push Notification Service (APNS) is the push notification system for use on"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.airnativeextensions.com/docs/pushnotifications/apple/apple-push-notification-service"><link data-rh="true" rel="alternate" href="https://docs.airnativeextensions.com/docs/pushnotifications/apple/apple-push-notification-service" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.airnativeextensions.com/docs/pushnotifications/apple/apple-push-notification-service" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://WGX2M70X7C-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Setup","item":"https://docs.airnativeextensions.com/docs/pushnotifications/apple/apple-push-notification-service"}]}</script><link rel="alternate" type="application/rss+xml" href="/news/rss.xml" title="air native extensions RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/news/atom.xml" title="air native extensions Atom Feed">
<link rel="alternate" type="application/json" href="/news/feed.json" title="air native extensions JSON Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-188619114-3","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>



<link rel="search" type="application/opensearchdescription+xml" title="air native extensions" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.6b540ccd.css">
<script src="/assets/js/runtime~main.ebcc37e7.js" defer="defer"></script>
<script src="/assets/js/main.5be57eb1.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/ane-icon-black.png"><link rel="preload" as="image" href="/img/ane-icon-white.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/ane-icon-black.png" alt="AIR Native Extensions" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/ane-icon-white.png" alt="AIR Native Extensions" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">AIR Native Extensions</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a class="navbar__item navbar__link" href="/news/">News</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Meta+k)" aria-keyshortcuts="Meta+k"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 24 24" aria-hidden="true"><circle cx="11" cy="11" r="8" stroke="currentColor" fill="none" stroke-width="1.4"></circle><path d="m21 21-4.3-4.3" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/"><span title="Home" class="linkLabel_WmDU">Home</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/pushnotifications/"><span title="PushNotifications" class="linkLabel_WmDU">PushNotifications</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/pushnotifications/add-the-extension"><span title="Add the Extension" class="linkLabel_WmDU">Add the Extension</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/pushnotifications/apple/add-the-extension"><span title="Notification services" class="categoryLinkLabel_W154">Notification services</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docs/pushnotifications/apple/add-the-extension"><span title="Apple Push Notification Service" class="categoryLinkLabel_W154">Apple Push Notification Service</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pushnotifications/apple/add-the-extension"><span title="Add the extension" class="linkLabel_WmDU">Add the extension</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/pushnotifications/apple/apple-push-notification-service"><span title="Setup" class="linkLabel_WmDU">Setup</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/pushnotifications/firebase/add-the-extension"><span title="Firebase Messaging" class="categoryLinkLabel_W154">Firebase Messaging</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/pushnotifications/onesignal/add-the-extension"><span title="One Signal" class="categoryLinkLabel_W154">One Signal</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/pushnotifications/windows/add-the-extension"><span title="Windows" class="categoryLinkLabel_W154">Windows</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pushnotifications/azure/azure-notifications"><span title="Azure Notifications" class="linkLabel_WmDU">Azure Notifications</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pushnotifications/pushy/"><span title="Pushy" class="linkLabel_WmDU">Pushy</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/pushnotifications/setup-your-service"><span title="Setup, authorisation, and registration" class="categoryLinkLabel_W154">Setup, authorisation, and registration</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/pushnotifications/receiving-notifications"><span title="Notifications" class="categoryLinkLabel_W154">Notifications</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/pushnotifications/set-badge-number"><span title="Other features" class="categoryLinkLabel_W154">Other features</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/pushnotifications/apple/ios-apns-payload"><span title="Payloads" class="categoryLinkLabel_W154">Payloads</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/pushnotifications/apple/ios-apns-message"><span title="Sending Messages" class="categoryLinkLabel_W154">Sending Messages</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/pushnotifications/migrating-to-v16.0"><span title="Troubleshooting" class="categoryLinkLabel_W154">Troubleshooting</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/pushnotifications/changelog"><span title="Other" class="categoryLinkLabel_W154">Other</span></a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Notification services</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Apple Push Notification Service</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Setup</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Setup</h1></header>
<p>Apple Push Notification Service (APNS) is the push notification system for use on
iOS with iPhones, iPads and other such iOS devices.</p>
<p>The system is quite complex and has a lot of different components as you can see
in the diagram below.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/pushnotifications-tutorial-apns-f04624b845d50e0624d49fc3b45ef2a1.png" width="603" height="457" class="img_ev3q"></p>
<p>When the device finally receives the notification, the notification will be displayed
to the user (depending on the options specified in the notification, more about these
later). The user can then respond to the notification as they see fit, dismissing it
or opening your application.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/pushnotifications-tutorial-apns-remote_notif_simple-eb2c5f4d37a88b7a9680b9ad9f66a2fe.png" width="1212" height="202" class="img_ev3q"></p>
<p>Your server will be required to implement a solution to gather device tokens and to
send the notification to the APNS server with the required devices specified. This
solution will not be part of this tutorial but we will show you everything up to and
including sending a test notification.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="requirements">Requirements<a href="#requirements" class="hash-link" aria-label="Direct link to Requirements" title="Direct link to Requirements" translate="no">​</a></h2>
<p>Before we start, it’s important to check that you have all of the following:</p>
<ul>
<li class="">An iOS device (they do not work in the simulator)</li>
<li class="">An iOS Developer program membership</li>
<li class="">A server connected to the internet, ideally that can run background processes
(for testing this can simply be a local installation of Apache + PHP)</li>
<li class="">Access to a macOS machine.</li>
</ul>
<p>It is important that you have all of these organised before starting the APNS setup.
It is potentially possible to do parts of this without an macOS machine but we won’t be showing that in this tutorial.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="apns-data-packet">APNS Data Packet<a href="#apns-data-packet" class="hash-link" aria-label="Direct link to APNS Data Packet" title="Direct link to APNS Data Packet" translate="no">​</a></h2>
<p>Firstly it is important to understand that at the very base of the APNS implementation is a very simple JSON packet. They are intended to be small, delivering only the simplest amount of information.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">	&quot;aps&quot;:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">	{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">		&quot;alert&quot;: &quot;A notification message&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">		&quot;sound&quot;: &quot;default&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">	}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>The notification packet can contain a range of information that will determine what happens on the phone when the packet is received.</p>
<p>Details on the notification payload are best described in the <em>“Local and Push Notification Programming Guide”</em>
as part of the iOS Developer Library Documentation.</p>
<p>You can find this <a href="https://developer.apple.com/library/content/documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/CreatingtheNotificationPayload.html" target="_blank" rel="noopener noreferrer" class="">here</a>.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="caveats-and-characteristics">Caveats and Characteristics<a href="#caveats-and-characteristics" class="hash-link" aria-label="Direct link to Caveats and Characteristics" title="Direct link to Caveats and Characteristics" translate="no">​</a></h2>
<p>Firstly and foremost, push notifications are not reliable and the APNS server does
not guarantee delivery of a notification that your server sends it. The delivery
time will also vary from a few seconds up to half an hour.</p>
<p>Additionally a device may not be able to receive a notification, for instance it
may be on a network that blocks the ports used for push notification communication.
Or it could be as simple as the device is switched off.</p>
<p>Push notifications will become expensive if you don’t prepare for it. You must take
care that your application when deployed to lots of users doesn’t quickly use your
notification quotas. Be aware of what notifications are being sent to your
applications and be prepared to pay if you don’t.</p>
<p>You must take these into consideration when designing your notifications system.</p>
<p>Lastly, you must abide by the Apple App Store Review Guidelines for Push Notifications.
They are all fairly reasonable but it’s always important to check before you design
your application requirements.</p>
<ul>
<li class=""><a href="https://developer.apple.com/app-store/review/guidelines/" target="_blank" rel="noopener noreferrer" class="">Review Guidelines</a></li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="certificates">Certificates<a href="#certificates" class="hash-link" aria-label="Direct link to Certificates" title="Direct link to Certificates" translate="no">​</a></h2>
<p>This is the painful part of the APNS setup, gathering all the required provisioning
profiles and certificates. Get a cup of coffee and take your time through the process
and you won’t end up pulling your hair out.</p>
<p>There are two different provisioning profiles associated with an application,
the <strong>development</strong> and the <strong>distribution</strong> (or production) profiles.
Similarly there are two types of certificates for your application server to use
to communicate with the APNS server:</p>
<ul>
<li class="">Development - for use when you’re running your application in debug mode and signed with the developer profile. With this certificate you can talk to the APNS sandbox environment to test your application.</li>
<li class="">Production - for use when you are distributing your application either as an ad-hoc application or through the AppStore.</li>
</ul>
<p>If you use the wrong certificate then the push notification will fail and your
application won’t receive the notification. The process for creating these certificates
is very similar for both cases so we’ll just concentrate on the development profiles
and certificates.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="certificate-signing-request-csr">Certificate Signing Request (CSR)<a href="#certificate-signing-request-csr" class="hash-link" aria-label="Direct link to Certificate Signing Request (CSR)" title="Direct link to Certificate Signing Request (CSR)" translate="no">​</a></h3>
<p>This process is very similar to when you first created your developer account in the
iOS developer program. These certificates are based off the classic form of
public-private key cryptography, but don’t worry you don’t need to know anything
about them to make this work. Just be aware that you will be creating certificates
and exchanging them between the apple servers and yourself.</p>
<p>Most importantly you will create a certificate that is to be used to communicate from
your server to the APNS servers. This is different and separate from your developer
certificates you use to sign your applications. It is however “private” and you should
not share the certificate with anyone not related to the development of these
push notifications.</p>
<p>To create these certificates you create a <strong>“Certificate Signing Request” (CSR)</strong> and
send the CSR to a certificate issuing authority, in this case the APNS section of the
iOS developer portal. The authority then issues you with a certificate that you can
use to secure your communications.</p>
<p>On OSX you will create your CSR by using the <strong>Keychain Access</strong> application.
You will find this in the following location:</p>
<p><code>Applications / Utilities / Keychain Access</code></p>
<p>Choose the option under the main application menu (as shown in the screenshot below):</p>
<p><code>Keychain Access / Certificate Assistant / Request a Certificate From a Certificate Authority...</code></p>
<p><img decoding="async" loading="lazy" src="/assets/images/pushnotifications-tutorial-csr1-5570fa59e18fa166e0b5b6ab17ca0bc2.png" width="791" height="327" class="img_ev3q"></p>
<p>You should then be presented with a window asking for some details about the certificate request.</p>
<p>Here you should enter your email address, it’s recommended you use the same email as
you use to sign up for the developer program but this is not essential, and a common
name for your certificate. The common name just needs to be something descriptive to
allow you to easily identify the certificate.</p>
<p>Make sure you’ve checked the Saved to disk option and then click Continue. Save the
file somewhere convenient, you will need it again soon. We suggest you change the name
of the file to something like <code>ApplicationPushNotifications.certSigningRequest</code>.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/pushnotifications-tutorial-csr2-67c2182a49ac34c778c4d4daac430f49.png" width="654" height="472" class="img_ev3q"></p>
<p>Next we need to export the private key as a p12 file. To do this return to the Keychain
Access program and open the keys category. You should be able to see a public and a
private key with the Common name you used in the previous step. You can also use the
search in the top left to locate them.</p>
<p>We export this certificate by right clicking on the private key and selecting export.</p>
<p>You will need to enter a passphrase, which will be used to protect your private key.
You should enter something that is secure but also that you can easily recall. Normal
rules with passwords apply here!</p>
<p><img decoding="async" loading="lazy" src="/assets/images/pushnotifications-tutorial-csr3-6984fdfe83a83aa6a007d73c2dd01cb0.png" width="1047" height="666" class="img_ev3q"></p>
<p>Now we move on to the provisioning in the iOS portal.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="ios-provisioning-portal">iOS Provisioning Portal<a href="#ios-provisioning-portal" class="hash-link" aria-label="Direct link to iOS Provisioning Portal" title="Direct link to iOS Provisioning Portal" translate="no">​</a></h3>
<p>Now you will need to log into your iOS Provisioning Portal with your iOS developer Apple ID:</p>
<ul>
<li class=""><a href="https://developer.apple.com/account/ios/profile/profileList.action" target="_blank" rel="noopener noreferrer" class="">https://developer.apple.com/account/ios/profile/profileList.action</a></li>
</ul>
<p>Here we are going to make a new application ID and use the CSR to create an SSL certificate
for your application server communications.</p>
<p>You can update an existing application ID to include push notifications, as long as you
follow the steps after creating the application ID to enable push notifications in your
application and make sure you download the provisioning profile for the application again!
It will have changed and won’t work if you don’t update your profile.</p>
<p>To make a new application ID, go to the App IDs section on the left and click the New App ID button.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/pushnotifications-tutorial-profile1-e9696778529364d10d9f338d2d0d10fd.png" width="1003" height="439" class="img_ev3q"></p>
<p>You will then be presented with the “Create App ID” form. Enter your application details, for example:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Description:               Distriqt Test Application</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Bundle Identifier:         com.distriqt.test</span><br></span></code></pre></div></div>
<p>Take note of the <strong>Bundle Seed ID (App ID Prefix)</strong> and the <strong>Bundle Identifier (App ID Suffix)</strong>.
We will need these later.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/pushnotifications-tutorial-profile2-1d4181af9aa9bf6366cb16ec882c522b.png" width="1006" height="808" class="img_ev3q"></p>
<p>After you have created the application it will appear in your App ID list, with something like the following beside it. Note that Push Notifications are listed as “Configurable”, both for development and production.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/pushnotifications-tutorial-profile3-c0d3b6fd88aee14988f0a577458f3bf4.png" width="563" height="147" class="img_ev3q"></p>
<p>Click Configure. You should then be presented with the Configure App ID page. Look for the section as shown below and click the checkbox to enable the App ID for Apple Push Notification service. This should activate the Configure actions on the right. Click the button beside the Development Push SSL Certificate. (You can come back to this same place to configure the production certificate at a later date).</p>
<p><img decoding="async" loading="lazy" src="/assets/images/pushnotifications-tutorial-profile4-d283160387c3c426b09516f2ae827633.png" width="800" height="201" class="img_ev3q"></p>
<p>This will now ask you to upload the CSR file we created earlier. This is the ApplicationPushNotifications.certSigningRequest file not the p12 file. Choose the file and click Generate.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/pushnotifications-tutorial-profile5-1f91b37effff30195b3ca12755621432.png" width="774" height="774" class="img_ev3q"></p>
<p>Your certificate should now get generated and after a while you&#x27;ll get a message saying &quot;Your APNs SSL Certificate has been generated. Please continue to the next step&quot;.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/pushnotifications-tutorial-profile6-227da6560b055322d74eebb518adf7e1.png" width="662" height="608" class="img_ev3q"></p>
<p>You will now get to download the SSL certificate. Click download and save the certificate somewhere safe. It should be called aps_development.cer. We suggest you rename it to something matching the application that it’s associated with.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/pushnotifications-tutorial-profile7-ea964f6a3237596bbcd6b9f08d2bc8cf.png" width="648" height="592" class="img_ev3q"></p>
<p>You should now see the Status for the Development Push SSL Certificate is green and labelled as Enabled.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/pushnotifications-tutorial-profile8-eb5e536a16e9ad60eb190b5d51e7666d.png" width="787" height="192" class="img_ev3q"></p>
<p>You should see the expiration date of the certificate listed. It is very important that you note this date and make sure you return and update the certificate before the date is reached. Otherwise you will experience a period where notifications will not work in your application!</p>
<p>Lastly while we’re still in the Provisioning Portal lets create a provisioning profile for the application. Go to the Provisioning section and on the Development tab, click New Profile.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/pushnotifications-tutorial-profile9-f9958c259b55c6adc033e91472906320.png" width="991" height="641" class="img_ev3q"></p>
<p>Give the profile a name and select the App ID you’ve just created, along with any devices you wish to test on. Make sure you select your developer certificate from the Certificates section. Click Submit and the profile will be generated.</p>
<p>This is no different from any other provisioning profile, all we are doing is making sure we retrieve the profile after the application has been setup for push notifications.</p>
<p>You may need to refresh the page if the profile still is in the Pending state.</p>
<p>Click the Download action and save the provisioning profile file along with all your other development files. You won’t need to use this file on your application server, you simply have to use this to develop your application.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="using-the-certificate">Using the Certificate<a href="#using-the-certificate" class="hash-link" aria-label="Direct link to Using the Certificate" title="Direct link to Using the Certificate" translate="no">​</a></h3>
<p>You should have 3 files saved somewhere at this point (ignoring the mobile provisioning file):</p>
<ul>
<li class="">the Certificate Signing Request (CSR)</li>
<li class="">the private key - exported as a <code>p12</code> file</li>
<li class="">the SSL certificate downloaded from the iOS provisioning portal (<code>aps_development.cer</code>)</li>
</ul>
<p>These files are very important in the communication between your application server
and the APNS servers. It’s suggested you keep them in a safe place. You can throw
the CSR away if you wish but we’ve always kept them. If you need to renew the
certificates at a later date you can use the same CSR and skip a few of the
earlier steps.</p>
<p>What we need to do now is convert the certificate and private key into a format that
we can use easily.</p>
<p>Our test notification example for APNS uses PHP so we will convert them into a
single file in the PEM format. We will use this PEM file later when we are sending
test notifications but here we will show you how to create it.</p>
<p>We will be using the OpenSSL tools for this. Place the <code>p12</code> and <code>cer</code> files into a
directory and open a Terminal window in that directory. We are going to create <code>pem</code>
files from each of the <code>p12</code> and <code>cer</code> files and then combine them into a single file.</p>
<p>Convert the <code>cer</code> file to <code>pem</code>:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">openssl x509 -in aps_developer_identity.cer -inform der -out YOUR_CERTIFICATE.pem</span><br></span></code></pre></div></div>
<p>Convert the <code>p12</code> file into a <code>pem</code> file.</p>
<p>It will ask you for the password to the private key. This is the password you used
when you exported the key from your Keychain. It should then ask you for a new
“PEM pass phrase”, this is a separate password to the PEM file you are creating so
again use something secure. You must enter a passphrase. If you don’t your private
key may not get included correctly in the final PEM.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">openssl pkcs12 -nocerts -out YOUR_PRIVATE_KEY.pem -in YOUR_PRIVATE_KEY.p12</span><br></span></code></pre></div></div>
<p>Finally, combine the two files:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">cat YOUR_CERTIFICATE.pem YOUR_PRIVATE_KEY.pem &gt; ck.pem</span><br></span></code></pre></div></div>
<p>This <code>ck.pem</code> file is what we will use in the php script later so keep this file handy.</p>
<p>You can test the connection to the APNS sandbox (sandbox as we created the development
certificate through this process) at this point if you wish with the following command:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">openssl s_client -connect gateway.sandbox.push.apple.com:2195 -cert YOUR_CERTIFICATE.pem -key YOUR_PRIVATE_KEY.pem</span><br></span></code></pre></div></div>
<p>This should connect to the server and dump out a whole heap of information about
the process. Eventually after the successful connection you should be able to
type a few characters and the server should disconnect.</p></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/pushnotifications/apple/add-the-extension"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Add the extension</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/pushnotifications/firebase/add-the-extension"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Add the extension</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#requirements" class="table-of-contents__link toc-highlight">Requirements</a></li><li><a href="#apns-data-packet" class="table-of-contents__link toc-highlight">APNS Data Packet</a></li><li><a href="#caveats-and-characteristics" class="table-of-contents__link toc-highlight">Caveats and Characteristics</a></li><li><a href="#certificates" class="table-of-contents__link toc-highlight">Certificates</a><ul><li><a href="#certificate-signing-request-csr" class="table-of-contents__link toc-highlight">Certificate Signing Request (CSR)</a></li><li><a href="#ios-provisioning-portal" class="table-of-contents__link toc-highlight">iOS Provisioning Portal</a></li><li><a href="#using-the-certificate" class="table-of-contents__link toc-highlight">Using the Certificate</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/tutorials/">tutorials</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/distriqt" target="_blank" rel="noopener noreferrer" class="footer__link-item">twitter<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/Gamua/Adobe-Runtime-Support/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">AIR discussions<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://forum.starling-framework.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">starling<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/distriqt" target="_blank" rel="noopener noreferrer" class="footer__link-item">stack overflow<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/news">news</a></li><li class="footer__item"><a href="https://airnativeextensions.com/privacy" target="_blank" rel="noopener noreferrer" class="footer__link-item">privacy<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://airnativeextensions.com/license" target="_blank" rel="noopener noreferrer" class="footer__link-item">license<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright"><br><a href="https://airnativeextensions.com">airnativeextensions.com</a> copyright © 2026 <br><br><a href="https://distriqt.com"><img src="/img/logo.png" alt="distriqt"></a></div></div></div></footer></div>
</body>
</html>
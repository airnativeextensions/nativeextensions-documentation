"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[2118],{11470:(e,n,t)=>{t.d(n,{A:()=>I});var a=t(96540),l=t(34164),s=t(17559),r=t(23104),i=t(56347),u=t(205),o=t(57485),c=t(31682),p=t(70679);function d(e){var n,t;return null!=(n=null==(t=a.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,a.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')}))?void 0:t.filter(Boolean))?n:[]}function h(e){const{values:n,children:t}=e;return(0,a.useMemo)(()=>{const e=null!=n?n:function(e){return d(e).map(e=>{let{props:{value:n,label:t,attributes:a,default:l}}=e;return{value:n,label:t,attributes:a,default:l}})}(t);return function(e){const n=(0,c.XI)(e,(e,n)=>e.value===n.value);if(n.length>0)throw new Error('Docusaurus error: Duplicate values "'+n.map(e=>e.value).join(", ")+'" found in <Tabs>. Every value needs to be unique.')}(e),e},[n,t])}function v(e){let{value:n,tabValues:t}=e;return t.some(e=>e.value===n)}function f(e){let{queryString:n=!1,groupId:t}=e;const l=(0,i.W6)(),s=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=t?t:null}({queryString:n,groupId:t});return[(0,o.aZ)(s),(0,a.useCallback)(e=>{if(!s)return;const n=new URLSearchParams(l.location.search);n.set(s,e),l.replace(Object.assign({},l.location,{search:n.toString()}))},[s,l])]}function g(e){const{defaultValue:n,queryString:t=!1,groupId:l}=e,s=h(e),[r,i]=(0,a.useState)(()=>function(e){var n;let{defaultValue:t,tabValues:a}=e;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!v({value:t,tabValues:a}))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+t+'" but none of its children has the corresponding value. Available values are: '+a.map(e=>e.value).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");return t}const l=null!=(n=a.find(e=>e.default))?n:a[0];if(!l)throw new Error("Unexpected error: 0 tabValues");return l.value}({defaultValue:n,tabValues:s})),[o,c]=f({queryString:t,groupId:l}),[d,g]=function(e){let{groupId:n}=e;const t=function(e){return e?"docusaurus.tab."+e:null}(n),[l,s]=(0,p.Dv)(t);return[l,(0,a.useCallback)(e=>{t&&s.set(e)},[t,s])]}({groupId:l}),m=(()=>{const e=null!=o?o:d;return v({value:e,tabValues:s})?e:null})();(0,u.A)(()=>{m&&i(m)},[m]);return{selectedValue:r,selectValue:(0,a.useCallback)(e=>{if(!v({value:e,tabValues:s}))throw new Error("Can't select invalid tab value="+e);i(e),c(e),g(e)},[c,g,s]),tabValues:s}}var m=t(92303);const x={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var j=t(74848);function y(e){let{className:n,block:t,selectedValue:a,selectValue:s,tabValues:i}=e;const u=[],{blockElementScrollPositionUntilNextRender:o}=(0,r.a_)(),c=e=>{const n=e.currentTarget,t=u.indexOf(n),l=i[t].value;l!==a&&(o(n),s(l))},p=e=>{var n;let t=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{var a;const n=u.indexOf(e.currentTarget)+1;t=null!=(a=u[n])?a:u[0];break}case"ArrowLeft":{var l;const n=u.indexOf(e.currentTarget)-1;t=null!=(l=u[n])?l:u[u.length-1];break}}null==(n=t)||n.focus()};return(0,j.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.A)("tabs",{"tabs--block":t},n),children:i.map(e=>{let{value:n,label:t,attributes:s}=e;return(0,j.jsx)("li",Object.assign({role:"tab",tabIndex:a===n?0:-1,"aria-selected":a===n,ref:e=>{u.push(e)},onKeyDown:p,onClick:c},s,{className:(0,l.A)("tabs__item",x.tabItem,null==s?void 0:s.className,{"tabs__item--active":a===n}),children:null!=t?t:n}),n)})})}function A(e){let{lazy:n,children:t,selectedValue:s}=e;const r=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=r.find(e=>e.props.value===s);return e?(0,a.cloneElement)(e,{className:(0,l.A)("margin-top--md",e.props.className)}):null}return(0,j.jsx)("div",{className:"margin-top--md",children:r.map((e,n)=>(0,a.cloneElement)(e,{key:n,hidden:e.props.value!==s}))})}function b(e){const n=g(e);return(0,j.jsxs)("div",{className:(0,l.A)(s.G.tabs.container,"tabs-container",x.tabList),children:[(0,j.jsx)(y,Object.assign({},n,e)),(0,j.jsx)(A,Object.assign({},n,e))]})}function I(e){const n=(0,m.A)();return(0,j.jsx)(b,Object.assign({},e,{children:d(e.children)}),String(n))}},19365:(e,n,t)=>{t.d(n,{A:()=>r});t(96540);var a=t(34164);const l={tabItem:"tabItem_Ymn6"};var s=t(74848);function r(e){let{children:n,hidden:t,className:r}=e;return(0,s.jsx)("div",{role:"tabpanel",className:(0,a.A)(l.tabItem,r),hidden:t,children:n})}},28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>i});var a=t(96540);const l={},s=a.createContext(l);function r(e){const n=a.useContext(s);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),a.createElement(s.Provider,{value:n},e.children)}},97720:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>u,metadata:()=>a,toc:()=>p});const a=JSON.parse('{"id":"appgroupdefaults/usage","title":"Usage","description":"Setup","source":"@site/docs/appgroupdefaults/usage.mdx","sourceDirName":"appgroupdefaults","slug":"/appgroupdefaults/usage","permalink":"/docs/appgroupdefaults/usage","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Usage","sidebar_label":"Usage"},"sidebar":"appgroupdefaults","previous":{"title":"Unity","permalink":"/docs/appgroupdefaults/add-the-plugin"},"next":{"title":"Migrating to v4.3","permalink":"/docs/appgroupdefaults/migrating-to-v4.3"}}');var l=t(74848),s=t(28453),r=t(11470),i=t(19365);const u={title:"Usage",sidebar_label:"Usage"},o=void 0,c={},p=[{value:"Setup",id:"setup",level:2},{value:"Get Values",id:"get-values",level:2},{value:"Set Values",id:"set-values",level:2},{value:"Listing Keys",id:"listing-keys",level:2},{value:"Removing a Value",id:"removing-a-value",level:2},{value:"Removing All Values",id:"removing-all-values",level:2},{value:"Example",id:"example",level:2}];function d(e){const n={code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h2,{id:"setup",children:"Setup"}),"\n",(0,l.jsx)(n.p,{children:"To correctly configure the extension you will need to inform it about your group and a salt value to use for encryption."}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"The salt value is only applicable to Android however the group is used on both."}),"\n",(0,l.jsx)(n.li,{children:"The salt can be any string you require and is used to setup the file encryption algorithm."}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["For the group, you should use the identifier of your AppGroup setup in the iOS member center. (With Unity this is the same value as you entered into the ",(0,l.jsx)(n.code,{children:"AppGroupDefaultsConfig"})," file as the ",(0,l.jsx)(n.code,{children:"groupIdentifier"}),")."]}),"\n",(0,l.jsx)(n.p,{children:"This is used to identify the correct group to use on iOS and similarly on Android it's used as the name of the file containing the preferences."}),"\n",(0,l.jsxs)(r.A,{groupId:"framework",defaultValue:"air",values:[{label:"AIR",value:"air"},{label:"Unity",value:"unity"}],children:[(0,l.jsx)(i.A,{value:"air",children:(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-actionscript",children:'AppGroupDefaults.service.setup( \n\t"12345678", \n\t"group.com.distriqt.test", \n\tAppGroupDefaults.TYPE_CONTENTPROVIDER \n);\n'})})}),(0,l.jsx)(i.A,{value:"unity",children:(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-csharp",children:'AppGroupDefaults.Instance.Setup( \n\t"12345678", \n\t"group.com.distriqt.test", \n\tAppGroupDefaults.TYPE_CONTENTPROVIDER \n);\n'})})})]}),"\n",(0,l.jsx)(n.p,{children:"The setup call can take a short amount of time to initialise the encryption algorithms so you should wait for the initialised event before attempting to read or write values."}),"\n",(0,l.jsxs)(n.p,{children:["With AIR you listen for the ",(0,l.jsx)(n.code,{children:"AppGroupDefaultsEvent.INITIALISED"})," event and with Unity add a listener to the ",(0,l.jsx)(n.code,{children:"OnInitialised"})," event."]}),"\n",(0,l.jsxs)(r.A,{groupId:"framework",defaultValue:"air",values:[{label:"AIR",value:"air"},{label:"Unity",value:"unity"}],children:[(0,l.jsx)(i.A,{value:"air",children:(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-actionscript",children:'AppGroupDefaults.service.addEventListener( AppGroupDefaultsEvent.INITIALISED, initialisedHandler );\nAppGroupDefaults.service.setup( \n\t"12345678", \n\t"group.com.distriqt.test",\n\tAppGroupDefaults.TYPE_FILE \n);\n\t\t\t\t\t\nfunction initialisedHandler( event:AppGroupDefaultsEvent ):void\n{\n\t// Access data here\n}\n'})})}),(0,l.jsx)(i.A,{value:"unity",children:(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-csharp",children:'AppGroupDefaults.Instance.OnInitialised += Instance_OnInitialised;\nAppGroupDefaults.Instance.Setup(\n\t"12345678", // salt\n\t"group.com.distriqt.test", // app group identifier\n\tAppGroupDefaults.TYPE_CONTENTPROVIDER // Android type\n);\n\nvoid Instance_OnInitialised(distriqt.plugins.appgroupdefaults.events.AppGroupDefaultsEvent e)\n{\n\t// Access data here\n}\n'})})})]}),"\n",(0,l.jsx)(n.h2,{id:"get-values",children:"Get Values"}),"\n",(0,l.jsxs)(n.p,{children:["Retrieving a value is as simple as calling ",(0,l.jsx)(n.code,{children:"getValue()"})," with the key of interest."]}),"\n",(0,l.jsxs)(r.A,{groupId:"framework",defaultValue:"air",values:[{label:"AIR",value:"air"},{label:"Unity",value:"unity"}],children:[(0,l.jsx)(i.A,{value:"air",children:(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-actionscript",children:'trace( "value = " + AppGroupDefaults.service.getValue( "some_key" ) );\n'})})}),(0,l.jsx)(i.A,{value:"unity",children:(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-csharp",children:'Debug.Log("value = " + AppGroupDefaults.Instance.GetValue( "some_key" ));\n'})})})]}),"\n",(0,l.jsxs)(n.p,{children:["This will return ",(0,l.jsx)(n.code,{children:"null"})," if the key hasn't been set before or if you haven't called ",(0,l.jsx)(n.code,{children:"setup"})," beforehand."]}),"\n",(0,l.jsx)(n.h2,{id:"set-values",children:"Set Values"}),"\n",(0,l.jsxs)(n.p,{children:["Setting a value is likewise as simple, calling the ",(0,l.jsx)(n.code,{children:"setValue"})," function."]}),"\n",(0,l.jsxs)(r.A,{groupId:"framework",defaultValue:"air",values:[{label:"AIR",value:"air"},{label:"Unity",value:"unity"}],children:[(0,l.jsx)(i.A,{value:"air",children:(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-actionscript",children:'var success:Boolean = AppGroupDefaults.service.setValue( "some_key", "some_value" );\n'})})}),(0,l.jsx)(i.A,{value:"unity",children:(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-csharp",children:'bool success = AppGroupDefaults.Instance.SetValue("some_key", "some_value");\n'})})})]}),"\n",(0,l.jsxs)(n.p,{children:["This will return ",(0,l.jsx)(n.code,{children:"true"})," if the value was set correctly and ",(0,l.jsx)(n.code,{children:"false"})," if there was an issue, most likely\nthat the ",(0,l.jsx)(n.code,{children:"setup"})," function hasn't been called, or if the ",(0,l.jsx)(n.code,{children:"isSupported"})," flag is ",(0,l.jsx)(n.code,{children:"false"}),"."]}),"\n",(0,l.jsx)(n.h2,{id:"listing-keys",children:"Listing Keys"}),"\n",(0,l.jsxs)(n.p,{children:["You can use the ",(0,l.jsx)(n.code,{children:"getKeys"})," function to retrieve an Array of all the current keys\nset in the defaults."]}),"\n",(0,l.jsx)(n.p,{children:"This allows you to list all settings currently stored in the defaults."}),"\n",(0,l.jsxs)(r.A,{groupId:"framework",defaultValue:"air",values:[{label:"AIR",value:"air"},{label:"Unity",value:"unity"}],children:[(0,l.jsx)(i.A,{value:"air",children:(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-actionscript",children:'var keys:Array = AppGroupDefaults.service.getKeys();\nfor each (var key:String in keys)\n{\n\tvar value:String = AppGroupDefaults.service.getValue( key );\n\ttrace( key + " = " + value );\n}\n'})})}),(0,l.jsx)(i.A,{value:"unity",children:(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-csharp",children:'string[] keys = AppGroupDefaults.Instance.GetKeys();\nforeach (string key in keys)\n{\n\tstring value = AppGroupDefaults.Instance.GetValue(key);\n\tDebug.Log(key + " = " + value);\n}\n'})})})]}),"\n",(0,l.jsx)(n.h2,{id:"removing-a-value",children:"Removing a Value"}),"\n",(0,l.jsxs)(n.p,{children:["If you wish to clear a value and remove it from the defaults, simply call the ",(0,l.jsx)(n.code,{children:"remove"})," function with the key of interest."]}),"\n",(0,l.jsxs)(r.A,{groupId:"framework",defaultValue:"air",values:[{label:"AIR",value:"air"},{label:"Unity",value:"unity"}],children:[(0,l.jsx)(i.A,{value:"air",children:(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-actionscript",children:'AppGroupDefaults.service.remove( "some_key" );\n'})})}),(0,l.jsx)(i.A,{value:"unity",children:(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-csharp",children:'AppGroupDefaults.Instance.Remove("some_key");\n'})})})]}),"\n",(0,l.jsx)(n.h2,{id:"removing-all-values",children:"Removing All Values"}),"\n",(0,l.jsxs)(n.p,{children:["If you wish to remove all values from the defaults, simply call the ",(0,l.jsx)(n.code,{children:"removeAll"})," function:"]}),"\n",(0,l.jsxs)(r.A,{groupId:"framework",defaultValue:"air",values:[{label:"AIR",value:"air"},{label:"Unity",value:"unity"}],children:[(0,l.jsx)(i.A,{value:"air",children:(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-actionscript",children:"AppGroupDefaults.service.removeAll();\n"})})}),(0,l.jsx)(i.A,{value:"unity",children:(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-csharp",children:"AppGroupDefaults.Instance.RemoveAll();\n"})})})]}),"\n",(0,l.jsx)(n.h2,{id:"example",children:"Example"}),"\n",(0,l.jsxs)(r.A,{groupId:"framework",defaultValue:"air",values:[{label:"AIR",value:"air"},{label:"Unity",value:"unity"}],children:[(0,l.jsxs)(i.A,{value:"air",children:[(0,l.jsxs)(n.p,{children:["The following example shows the core concepts, i.e. the setup process, listening to the ",(0,l.jsx)(n.code,{children:"AppGroupDefaultsEvent.INITIALISED"})," event,\nand getting and setting values."]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-actionscript",children:'if (AppGroupDefaults.isSupported)\n{\n\tAppGroupDefaults.service.addEventListener( AppGroupDefaultsEvent.INITIALISED, initialisedHandler );\n\tAppGroupDefaults.service.setup( \n\t\t"12345678", \n\t\t"group.com.distriqt.test",\n\t\tAppGroupDefaults.TYPE_FILE \n\t);\n\t\t\t\t\t\t\n\n}\n\nfunction initialisedHandler( event:AppGroupDefaultsEvent ):void\n{\n\tvar someValue:String = AppGroupDefaults.service.getValue( "some_key" );\n\n    AppGroupDefaults.service.setValue("anotherKey", "Sample text from AIR!");\n}\n'})})]}),(0,l.jsxs)(i.A,{value:"unity",children:[(0,l.jsxs)(n.p,{children:["The following example shows the core concepts, i.e. the setup process, listening to the ",(0,l.jsx)(n.code,{children:"OnInitialised"})," event,\nand getting and setting values."]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-csharp",children:'if (AppGroupDefaults.isSupported)\n{\n\tAppGroupDefaults.Instance.OnInitialised += Instance_OnInitialised;\n\n\tAppGroupDefaults.Instance.Setup(\n\t\t"12345678", // salt\n\t\t"group.com.distriqt.test", // app group identifier\n\t\tAppGroupDefaults.TYPE_CONTENTPROVIDER // Android type\n\t);\n}\n\n\nprivate void Instance_OnInitialised(AppGroupDefaultsEvent e)\n{\n\tDebug.Log("OnInitialised");\n\n\tstring someValue = AppGroupDefaults.Instance.GetValue("someKey");\n\n    AppGroupDefaults.Instance.SetValue("anotherKey", "Sample text from Unity!");\n\n}\n'})})]})]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}}}]);
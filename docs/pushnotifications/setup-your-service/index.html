<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.0">
<link rel="alternate" type="application/rss+xml" href="/news/rss.xml" title="air native extensions Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/news/atom.xml" title="air native extensions Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-188619114-3","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="air native extensions" href="/opensearch.xml"><title data-react-helmet="true">Setup your Service | air native extensions</title><meta data-react-helmet="true" property="og:url" content="https://docs.airnativeextensions.com/docs/pushnotifications/setup-your-service"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Setup your Service | air native extensions"><meta data-react-helmet="true" name="description" content="When you are setting up your Service there are a few additional options you can set"><meta data-react-helmet="true" property="og:description" content="When you are setting up your Service there are a few additional options you can set"><meta data-react-helmet="true" property="og:image" content="https://docs.airnativeextensions.com/img/ane-icon-black.png"><meta data-react-helmet="true" name="twitter:image" content="https://docs.airnativeextensions.com/img/ane-icon-black.png"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.airnativeextensions.com/docs/pushnotifications/setup-your-service"><link data-react-helmet="true" rel="alternate" href="https://docs.airnativeextensions.com/docs/pushnotifications/setup-your-service" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.airnativeextensions.com/docs/pushnotifications/setup-your-service" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.80aeca58.css">
<link rel="preload" href="/assets/js/runtime~main.bb94af76.js" as="script">
<link rel="preload" href="/assets/js/main.edb21c4d.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/ane-icon-black.png" alt="AIR Native Extensions" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/ane-icon-white.png" alt="AIR Native Extensions" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">AIR Native Extensions</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a class="navbar__item navbar__link" href="/news/">News</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT"> </span></div><div class="react-toggle-track-x"><span class="toggle_71bT"> </span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/ane-icon-black.png" alt="AIR Native Extensions" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/ane-icon-white.png" alt="AIR Native Extensions" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">AIR Native Extensions</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/news/">News</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/">Home</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/pushnotifications/">PushNotifications</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/pushnotifications/add-the-extension">Add the Extension</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Notification services</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/pushnotifications/apple/apple-push-notification-service">Apple Push Notification Service</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Firebase Messaging</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/pushnotifications/firebase/firebase-cloud-messaging">Firebase Cloud Messaging</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/pushnotifications/firebase/firebase-inapp-messaging">Firebase InApp Messaging</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/pushnotifications/migrating-to-v10.1">Migrating to v10.1</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">One Signal</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/pushnotifications/onesignal/quick-start">Quick Start</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/pushnotifications/onesignal/onesignal">Add the Extension</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/pushnotifications/migrating-to-v10.2">Migrating to v10.2</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Windows</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/pushnotifications/windows/add-the-extension">Add the Extension</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/pushnotifications/windows/windows-notification-service">Windows Notification Service</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/pushnotifications/azure/azure-notifications">Azure Notifications</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/pushnotifications/pushy/pushy">Pushy</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Setup, authorisation, and registration</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/pushnotifications/setup-your-service">Setup your Service</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Service Type Details</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/pushnotifications/azure/setup-your-service">Azure</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/pushnotifications/onesignal/setup-your-service">OneSignal</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pushnotifications/request-authorisation">Request Authorisation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pushnotifications/register-for-notifications">Register for notifications</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pushnotifications/topics">Topics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pushnotifications/tags">Tags</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pushnotifications/user-consent">User Consent</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pushnotifications/inapp-messaging">InApp Messaging</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Notifications</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/pushnotifications/receiving-notifications">Receiving notifications</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/pushnotifications/icons">Icons</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/pushnotifications/handling-startup-notifications">Handling startup notifications</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/pushnotifications/notification-scenarios">Notification Scenarios</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/pushnotifications/sounds">Sounds</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Other features</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/pushnotifications/set-badge-number">Set Badge Number</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Payloads</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/pushnotifications/apple/ios-apns-payload">iOS APNS Payload</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/pushnotifications/firebase/fcm-gcm-payload">FCM-GCM Payload</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/pushnotifications/windows/windows-wns-payload">Windows WNS Payload</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/pushnotifications/pushy/pushy-payload">Pushy Payload</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Sending Messages</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/pushnotifications/apple/ios-apns-message">iOS APNS Message</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/pushnotifications/firebase/firebase-cloud-message">Firebase Cloud Message</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/pushnotifications/windows/windows-wns-message">Windows WNS Message</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/pushnotifications/pushy/pushy-message">Pushy Message</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Troubleshooting</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/pushnotifications/migrating-to-v10.2">Migrating to v10.2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/pushnotifications/migrating-to-v10.1">Migrating to v10.1</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/pushnotifications/migrating-to-androidx">Migrating to AndroidX</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Other</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/pushnotifications/changelog">changelog</a></li><li class="menu__list-item"><a href="https://docs.airnativeextensions.com/asdocs/pushnotifications/" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">asdocs</a></li><li class="menu__list-item"><a href="http://github.com/distriqt/ANE-PushNotifications/issues/new" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Contact Support</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Setup your Service</h1></header><div class="markdown"><p>When you are setting up your <code>Service</code> there are a few additional options you can set
to use some of the advanced features of the services.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="service-type"></a>Service Type<a class="hash-link" href="#service-type" title="Direct link to heading">#</a></h3><p>The most important option is the service type you plan to use in your application.</p><p>You must set this early by creating an instance of the <code>Service</code> class and passing it
to the <code>setup</code> function. It cannot be changed.</p><p>The available services are listed in the <code>Service</code> class, include:</p><ul><li><code>APNS</code> : Apple&#x27;s Push Notification Service <ul><li>iOS only</li></ul></li><li><code>FCM</code> : Firebase Cloud Messaging <ul><li>Android and iOS</li></ul></li><li><code>GCM</code> : Google Cloud Messaging <strong>Deprecated</strong> <ul><li>Android only </li></ul></li><li><code>ONESIGNAL</code> : One Signal<ul><li>Android and iOS </li><li>(Windows manually through WNS)</li></ul></li><li><code>WNS</code> : Windows Notification Service<ul><li>Windows</li></ul></li><li><code>AZURE</code> : Microsoft Notification Hubs<ul><li>Android and iOS</li></ul></li><li><code>DEFAULT</code> : The service type will depend on the platform<ul><li>iOS: <code>APNS</code></li><li>Android: <code>GCM</code></li></ul></li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly actionscript"><div tabindex="0" class="prism-code language-actionscript codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">var service:Service = new Service( Service.DEFAULT );</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">// Call setup to configure</span></div><div class="token-line" style="color:#393A34"><span class="token plain">PushNotifications.service.setup( service );</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>If you wish to use APNS on iOS and FCM on Android you can use something like the following:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly actionscript"><div tabindex="0" class="prism-code language-actionscript codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">var service:Service;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">if (PushNotifications.service.implementation == &quot;iOS&quot;)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    service = new Service( Service.APNS );</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div><div class="token-line" style="color:#393A34"><span class="token plain">else </span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    service = new Service( Service.FCM );</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div><div class="token-line" style="color:#393A34"><span class="token plain">PushNotifications.service.setup( service );</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="service-id"></a>Service ID<a class="hash-link" href="#service-id" title="Direct link to heading">#</a></h3><p>Some services require an identifier to be included as part of the configuration.</p><p>This is only required for some services such as GCM and Azure. </p><p>For example, with GCM you should set your GCM sender id here:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly actionscript"><div tabindex="0" class="prism-code language-actionscript codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">service.serviceId = GCM_SENDER_ID;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>This can be left as the default on other platforms and will be ignored.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="service-key"></a>Service Key<a class="hash-link" href="#service-key" title="Direct link to heading">#</a></h3><p>In addition to the <code>serviceId</code> some services require an auth key or connection string
which should be specified here.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly actionscript"><div tabindex="0" class="prism-code language-actionscript codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">service.serviceKey = &quot;&quot;;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>This can be left as the default on most platforms and will be ignored.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="categories-and-actions"></a>Categories and Actions<a class="hash-link" href="#categories-and-actions" title="Direct link to heading">#</a></h3><p>The main feature you will probably want to configure here are your notification categories and actions.
These represent the quick actions that a user can take on a notification.</p><p>In the notification payload a notification can be given a category.
The system will then apply that category to the notification.
A category contains a series of actions which will be displayed when the notification is interacted with.
Each category and action must be given a unique identifier so you can process them accordingly in your code.
Additionally each action must be given a title.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly actionscript"><div tabindex="0" class="prism-code language-actionscript codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">var service:Service = new Service( Service.DEFAULT, Config.gcmSenderId );</span></div><div class="token-line" style="color:#393A34"><span class="token plain">service.enableNotificationsWhenActive = true;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">service.categories.push( </span></div><div class="token-line" style="color:#393A34"><span class="token plain">    new CategoryBuilder()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        .setIdentifier( &quot;INVITE_CATEGORY&quot; )</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        .addAction( </span></div><div class="token-line" style="color:#393A34"><span class="token plain">            new ActionBuilder()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                .setTitle( &quot;Accept&quot; )</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                .setIdentifier( &quot;ACCEPT_IDENTIFIER&quot; )</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                .build()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        )</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        .addAction( </span></div><div class="token-line" style="color:#393A34"><span class="token plain">            new ActionBuilder()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                .setTitle( &quot;Delete&quot; )</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                .setDestructive( true )</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                .setIdentifier( &quot;DELETE_IDENTIFIER&quot; )</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                .build()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        )</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        .build()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">);</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">PushNotifications.service.setup( service );</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="notifications-when-active"></a>Notifications When Active<a class="hash-link" href="#notifications-when-active" title="Direct link to heading">#</a></h3><p>On Android, Windows and on iOS v10+ you can enable notifications while your application is active.
This will show a notification to the user, even if they are currently using the application.</p><p>The default is <code>false</code>, i.e. not show a notification and your application would only receive
the notification event.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly actionscript"><div tabindex="0" class="prism-code language-actionscript codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">service.setNotificationsWhenActive( true );</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="sandbox-mode"></a>Sandbox Mode<a class="hash-link" href="#sandbox-mode" title="Direct link to heading">#</a></h3><p>Lastly in order to correctly test some of the services you should specify whether you
are using the sandbox (testing) mode. This is not required by all platforms however some,
including Firebase on iOS require this setting to be able to correctly test your application.</p><p>Set <code>sandboxMode</code> to <code>true</code> for development environments and the default <code>false</code> for production.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly actionscript"><div tabindex="0" class="prism-code language-actionscript codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">service.sandboxMode = true;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="channels"></a>Channels<a class="hash-link" href="#channels" title="Direct link to heading">#</a></h3><p>New to Android <code>8.0</code> (API level 26) is the concept of a notification channel. </p><blockquote><p>Notification channels provide a unified system to help users manage notifications. When you target Android 8.0 (API level 26), you must implement one or more notification channels to display notifications to your users. If you don&#x27;t target Android 8.0 (API level 26) but your app is used on devices running Android 8.0 (API level 26), your app behaves the same as it would on devices running Android 7.1 (API level 25) or lower.</p></blockquote><blockquote><p>Note: The user interface refers to notification channels as notification categories.</p></blockquote><p>You can create an instance of a <code>Channel</code> for each distinct type of notification you need to send. You can also create notification channels to reflect choices made by users of your app. For example, you may set up separate notification channels for each conversation group created by a user in a messaging app.</p><p>Users can manage most of the settings associated with notifications using a consistent system UI. All notifications posted to the same notification channel have the same behavior. When a user modifies the behavior for any of the following characteristics, it applies to the notification channel:</p><ul><li>Importance</li><li>Sound</li><li>Lights</li><li>Vibration</li><li>Show on lockscreen</li><li>Override do not disturb</li></ul><p><img src="/assets/images/android-channels-settings-37c9e04e9eea1b7866b3da4a6362cf6a.png"></p><p>Users can visit Settings, or long-press a notification to change these behaviors, or even block a notification channel at any time. You can&#x27;t programmatically modify the behavior of a notification channel after it&#x27;s created and submitted to the notification manager; the user is in charge of those settings after creation. You can however rename a notification channel or update its description after creation.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="creating-channels"></a>Creating Channels<a class="hash-link" href="#creating-channels" title="Direct link to heading">#</a></h4><p>To create channels you add them to your <code>Service</code> definition. A <code>Service.channels</code> is an array of <code>Channel</code> objects that you should create when passing your service to the <code>setup</code> function.</p><p>You should use the <code>ChannelBuilder</code> to create a <code>Channel</code> object.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly actionscript"><div tabindex="0" class="prism-code language-actionscript codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">var service:Service = new Service();</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">// Setup other service related properties</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">service.channels.push(</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    new ChannelBuilder()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        .setId( &quot;test_channel&quot; )</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        .setName( &quot;Test Channel&quot; )</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        .build()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><strong>You must add at least one channel.</strong></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="channel-sounds"></a>Channel Sounds<a class="hash-link" href="#channel-sounds" title="Direct link to heading">#</a></h4><p>Notification sounds on Android O (API v26) and higher now must be set on the Channel. Individual notification sounds will be ignored. </p><p>To set a sound on a channel, use the <code>setSound( path )</code> function and pass the local path to an mp3 file.</p><p>eg:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly actionscript"><div tabindex="0" class="prism-code language-actionscript codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">new ChannelBuilder()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    .setId( &quot;test_channel&quot; )</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    .setName( &quot;Test Channel&quot; )</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    .setSound( &quot;assets/notifications/sounds/notification.mp3&quot; )</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    .build()</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>This path should be relative to your application root.</p><p>This path can also be a resource name if you are packaging raw mp3 resources with your application in a custom resources extension.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="example"></a>Example<a class="hash-link" href="#example" title="Direct link to heading">#</a></h3><p>The following example sets up the <code>DEFAULT</code> service with a category containing two actions.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly actionscript"><div tabindex="0" class="prism-code language-actionscript codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">var service:Service = new Service( Service.DEFAULT, Config.gcmSenderId );</span></div><div class="token-line" style="color:#393A34"><span class="token plain">service.sandboxMode = false;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">service.enableNotificationsWhenActive = true;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">service.categories.push( </span></div><div class="token-line" style="color:#393A34"><span class="token plain">    new CategoryBuilder()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        .setIdentifier( &quot;INVITE_CATEGORY&quot; )</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        .addAction( </span></div><div class="token-line" style="color:#393A34"><span class="token plain">            new ActionBuilder()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                .setTitle( &quot;Accept&quot; )</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                .setIdentifier( &quot;ACCEPT_IDENTIFIER&quot; )</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                .build()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        )</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        .addAction( </span></div><div class="token-line" style="color:#393A34"><span class="token plain">            new ActionBuilder()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                .setTitle( &quot;Delete&quot; )</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                .setDestructive( true )</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                .setIdentifier( &quot;DELETE_IDENTIFIER&quot; )</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                .build()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        )</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        .build()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">);</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">service.channels.push(</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    new ChannelBuilder()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        .setId( &quot;test_channel&quot; )</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        .setName( &quot;Test Channel&quot; )</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        .build()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">);</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">PushNotifications.service.setup( service );</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="checking-service-support"></a>Checking Service Support<a class="hash-link" href="#checking-service-support" title="Direct link to heading">#</a></h3><p>You can check whether the current application/device supports a particular service by using the <code>isServiceSupported</code> function.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly actionscript"><div tabindex="0" class="prism-code language-actionscript codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">if (PushNotifications.service.isServiceSupported( Service.GCM ))</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    // GCM is supported on the current device</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>You can use this to prioritise services as your application requires.</p><p>For example: </p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly actionscript"><div tabindex="0" class="prism-code language-actionscript codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">if (PushNotifications.isSupported)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    var service:Service;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    if (PushNotifications.service.isServiceSupported( Service.GCM ))</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        service = new Service( Service.GCM, Config.gcmSenderId );</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    else if (PushNotifications.service.isServiceSupported( Service.APNS ))</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        service = new Service( Service.APNS );</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    else </span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        // Handle the case where no service supported. </span></div><div class="token-line" style="color:#393A34"><span class="token plain">        // Eg: turn off notifications in this application</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/pushnotifications/pushy/pushy"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Pushy</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/pushnotifications/azure/setup-your-service"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Setup your Service - Azure »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#service-type" class="table-of-contents__link">Service Type</a></li><li><a href="#service-id" class="table-of-contents__link">Service ID</a></li><li><a href="#service-key" class="table-of-contents__link">Service Key</a></li><li><a href="#categories-and-actions" class="table-of-contents__link">Categories and Actions</a></li><li><a href="#notifications-when-active" class="table-of-contents__link">Notifications When Active</a></li><li><a href="#sandbox-mode" class="table-of-contents__link">Sandbox Mode</a></li><li><a href="#channels" class="table-of-contents__link">Channels</a></li><li><a href="#example" class="table-of-contents__link">Example</a></li><li><a href="#checking-service-support" class="table-of-contents__link">Checking Service Support</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/tutorials/">tutorials</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/distriqt" target="_blank" rel="noopener noreferrer" class="footer__link-item">twitter</a></li><li class="footer__item"><a href="https://github.com/Gamua/Adobe-Runtime-Support/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">AIR discussions</a></li><li class="footer__item"><a href="https://forum.starling-framework.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">starling</a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/distriqt" target="_blank" rel="noopener noreferrer" class="footer__link-item">stack overflow</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/news">news</a></li><li class="footer__item"><a href="https://airnativeextensions.com/privacy" target="_blank" rel="noopener noreferrer" class="footer__link-item">privacy</a></li><li class="footer__item"><a href="https://airnativeextensions.com/license" target="_blank" rel="noopener noreferrer" class="footer__link-item">license</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright"><br><a href="https://airnativeextensions.com">airnativeextensions.com</a> copyright © 2021 <br><br><a href="https://distriqt.com"><img src="/img/logo.png" alt="distriqt"></a></div></div></div></footer></div>
<script src="/assets/js/runtime~main.bb94af76.js"></script>
<script src="/assets/js/main.edb21c4d.js"></script>
</body>
</html>
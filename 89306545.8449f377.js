(window.webpackJsonp=window.webpackJsonp||[]).push([[391],{447:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return o})),t.d(n,"metadata",(function(){return c})),t.d(n,"rightToc",(function(){return l})),t.d(n,"default",(function(){return u}));var i=t(2),r=t(6),a=(t(0),t(779)),o={title:"Packaging",sidebar_label:"Packaging"},c={unversionedId:"dynamicicon/packaging",id:"dynamicicon/packaging",isDocsHomePage:!1,title:"Packaging",description:"In order to change the contents of your IPA after packaging, we need to extract the IPA, change the contents (in particular the Info.plist file) and then importantly package and sign the IPA again.",source:"@site/docs/dynamicicon/packaging.md",slug:"/dynamicicon/packaging",permalink:"/docs/dynamicicon/packaging",version:"current",sidebar_label:"Packaging",sidebar:"dynamicicon",previous:{title:"Adding Icons",permalink:"/docs/dynamicicon/adding-icons"},next:{title:"Change Icon",permalink:"/docs/dynamicicon/change-icon"}},l=[],p={rightToc:l};function u(e){var n=e.components,t=Object(r.a)(e,["components"]);return Object(a.b)("wrapper",Object(i.a)({},p,t,{components:n,mdxType:"MDXLayout"}),Object(a.b)("p",null,"In order to change the contents of your IPA after packaging, we need to extract the IPA, change the contents (in particular the ",Object(a.b)("inlineCode",{parentName:"p"},"Info.plist")," file) and then importantly package and ",Object(a.b)("strong",{parentName:"p"},"sign")," the IPA again. "),Object(a.b)("p",null,"If we don't correctly resign the application then it will be rejected by the AppStore (or when installing a debug IPA)."),Object(a.b)("p",null,"The ",Object(a.b)("inlineCode",{parentName:"p"},"resign")," script provided is designed to handle this process, (including extracting your IPA, updating the ",Object(a.b)("inlineCode",{parentName:"p"},"Info.plist")," and resigning the application)."),Object(a.b)("blockquote",null,Object(a.b)("p",{parentName:"blockquote"},"IMPORTANT: This script must be run on a macOS machine with Xcode installed and your signing certificate(s) installed into Keychain")),Object(a.b)("p",null,"Firstly, open the ",Object(a.b)("inlineCode",{parentName:"p"},"resign")," script. You will need to update the configuration parameters at the top of the script."),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},"IPA"),": The full path to your application"),Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},"PROVISIONING_PROFILE"),": The full path to your mobile provisioning profile "),Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},"SIGNING_IDENTITY"),": The name of the signing identity")),Object(a.b)("p",null,"Optional:"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},"INFO_PLIST"),": The full path to your ",Object(a.b)("inlineCode",{parentName:"li"},"Info.plist")," if you don't place it alongside the script")),Object(a.b)("p",null,"The paths should be fairly self explanitory. However you get the signing identity string by running the following in a terminal and selecting the name of the appropriate certificate:"),Object(a.b)("pre",null,Object(a.b)("code",Object(i.a)({parentName:"pre"},{}),"security find-identity -v -p codesigning\n")),Object(a.b)("blockquote",null,Object(a.b)("p",{parentName:"blockquote"},"IMPORTANT: You must ensure you are using the correct mobile provisioning profile and certificate. If you are testing a debug build make sure you are using a developer profile and certificate, and if you are publishing a release make sure you are using the distribution profile and certificate.")),Object(a.b)("p",null,"Once you have made these changes, run the script in a terminal:"),Object(a.b)("pre",null,Object(a.b)("code",Object(i.a)({parentName:"pre"},{}),"./resign\n")),Object(a.b)("p",null,"This will produce an IPA alongside the script named: ",Object(a.b)("inlineCode",{parentName:"p"},"APPNAME_resigned.ipa")),Object(a.b)("p",null,"You can then use the IPA produced by the script to either upload to the app store or install on a device for debugging."))}u.isMDXComponent=!0},779:function(e,n,t){"use strict";t.d(n,"a",(function(){return b})),t.d(n,"b",(function(){return g}));var i=t(0),r=t.n(i);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,i,r=function(e,n){if(null==e)return{};var t,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)t=a[i],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)t=a[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var p=r.a.createContext({}),u=function(e){var n=r.a.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):c(c({},n),e)),t},b=function(e){var n=u(e.components);return r.a.createElement(p.Provider,{value:n},e.children)},s={inlineCode:"code",wrapper:function(e){var n=e.children;return r.a.createElement(r.a.Fragment,{},n)}},d=r.a.forwardRef((function(e,n){var t=e.components,i=e.mdxType,a=e.originalType,o=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),b=u(t),d=i,g=b["".concat(o,".").concat(d)]||b[d]||s[d]||a;return t?r.a.createElement(g,c(c({ref:n},p),{},{components:t})):r.a.createElement(g,c({ref:n},p))}));function g(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var a=t.length,o=new Array(a);o[0]=d;var c={};for(var l in n)hasOwnProperty.call(n,l)&&(c[l]=n[l]);c.originalType=e,c.mdxType="string"==typeof e?e:i,o[1]=c;for(var p=2;p<a;p++)o[p]=t[p];return r.a.createElement.apply(null,o)}return r.a.createElement.apply(null,t)}d.displayName="MDXCreateElement"}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[401],{457:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return i})),a.d(t,"metadata",(function(){return o})),a.d(t,"rightToc",(function(){return l})),a.d(t,"default",(function(){return s}));var n=a(2),r=(a(0),a(807));const i={title:"Turn Based Multiplayer - Key Concepts",sidebar_label:"Turn Based Multiplayer - Key Concepts"},o={unversionedId:"gameservices/turn-based-multiplayer---key-concepts",id:"gameservices/turn-based-multiplayer---key-concepts",isDocsHomePage:!1,title:"Turn Based Multiplayer - Key Concepts",description:"In a turn-based multiplayer game, a single shared state is passed between multiple players,",source:"@site/docs/gameservices/turn-based-multiplayer---key-concepts.md",slug:"/gameservices/turn-based-multiplayer---key-concepts",permalink:"/docs/gameservices/turn-based-multiplayer---key-concepts",version:"current",sidebar_label:"Turn Based Multiplayer - Key Concepts",sidebar:"gameservices",previous:{title:"Saved Games - Conflicts",permalink:"/docs/gameservices/saved-games---conflicts"},next:{title:"Turn Based Multiplayer - Implementation Overview",permalink:"/docs/gameservices/turn-based-multiplayer---implementation-overview"}},l=[{value:"Key Concepts",id:"key-concepts",children:[]},{value:"Participants",id:"participants",children:[]},{value:"Turn-taking",id:"turn-taking",children:[]},{value:"Specifying the order of play",id:"specifying-the-order-of-play",children:[]}],c={rightToc:l};function s({components:e,...t}){return Object(r.b)("wrapper",Object(n.a)({},c,t,{components:e,mdxType:"MDXLayout"}),Object(r.b)("p",null,"In a turn-based multiplayer game, a single shared state is passed between multiple players,\nand only one player has permission to modify the shared state at a time. Players take turns\nasynchronously according to an order of play determined by the game. Your game can use the\nturn-based multiplayer API provided by games services to manage the following tasks:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Inviting players to join a match;"),Object(r.b)("li",{parentName:"ul"},"Store participant and match state information;"),Object(r.b)("li",{parentName:"ul"},"Send match invitation and turn notifications to players.")),Object(r.b)("h2",{id:"key-concepts"},"Key Concepts"),Object(r.b)("p",null,"A turn-based match is a gaming session with multiple participants who take consecutive turns to update the game data during the match.\nMatches must be initiated by a player who is signed-in."),Object(r.b)("p",null,"A turn-based multiplayer match contains these key properties:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},Object(r.b)("strong",{parentName:"p"},"Participants"),": A user can become a participant in a turn-based match by initiating a match, joining a match by accepting an invitation, or being auto-matched into a game. Your game can retrieve the participant IDs for all players in a match.")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},Object(r.b)("strong",{parentName:"p"},"Game data"),": Game-specific data for this match. As a match progresses, the current player can modify and store the game data on Google's servers. The other participants can then retrieve and update this data on their turn. Your game must store the game data in an appropriate format for the device platform. For example, on Android, you must store this data in a byte array and the size of the data must not exceed 128 KB.")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},Object(r.b)("strong",{parentName:"p"},"Match status"),": A match can fall into one of the following states: ",Object(r.b)("inlineCode",{parentName:"p"},"MATCH_STATUS_ACTIVE"),", ",Object(r.b)("inlineCode",{parentName:"p"},"MATCH_STATUS_AUTO_MATCHING"),", ",Object(r.b)("inlineCode",{parentName:"p"},"MATCH_STATUS_COMPLETE"),", ",Object(r.b)("inlineCode",{parentName:"p"},"MATCH_STATUS_CANCELED"),", and ",Object(r.b)("inlineCode",{parentName:"p"},"MATCH_STATUS_EXPIRED"),"."))),Object(r.b)("h2",{id:"participants"},"Participants"),Object(r.b)("p",null,"If your game runs on a mobile device, the turn-based multiplayer API provides a default player selection UI. The UI allows players to invite friends or select a number of auto-match opponents. This simplifies your UI coding but you can also choose to implement your own player selection UI."),Object(r.b)("p",null,"The participants in a turn-based match can fall into one of these categories:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},Object(r.b)("strong",{parentName:"p"},"Initiating player"),". An initiating player who starts a turn-based game can invite other players to join a match, or request to be auto-matched to random users. The initiating player can also request a mix of the two (for example, invite a specific friend, and get two auto-matched players).")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},Object(r.b)("strong",{parentName:"p"},"Auto-matched players"),". Auto-matched players do not receive notifications to join a match; from their perspective, it appears that they are the ones initiating the match. Auto-match players do not need to be socially connected to the other players.")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},Object(r.b)("strong",{parentName:"p"},"Invited players"),". Users who are invited to a match will receive invitation notifications on their device, as long their notification settings permit it. To learn more about how users can modify their notification settings by using the Google Play Games app, see Gaming with Google Play Games. Once the user accepts a match invitation, the user is joined to the match as a participant."))),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"Note: In general, when a participant leaves a match, another player cannot take that participant\u2019s place. If a player joins by auto-matching but leaves without taking a turn immediately, games services considers that player to have abandoned the match and frees the auto-match slot for another player to join")),Object(r.b)("h2",{id:"turn-taking"},"Turn-taking"),Object(r.b)("p",null,"The basic flow for turn-taking is as follows:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},"If the player initiated a match, check to see if the game data is null. If so, the client should initialize this data as needed by your game. For example, you might need to initialize the starting positions for players in a strategy game or initialize the first hand for players in a card game."),Object(r.b)("li",{parentName:"ol"},"Let the current player perform their normal turn."),Object(r.b)("li",{parentName:"ol"},"Update the match by calling ",Object(r.b)("inlineCode",{parentName:"li"},"takeTurn()"),". In your method call, pass in the following information:")),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"The player to take the next turn.")),Object(r.b)("ol",{start:4},Object(r.b)("li",{parentName:"ol"},"Repeat steps 2-3 until the match is completed, or until the game ends some other way.")),Object(r.b)("h2",{id:"specifying-the-order-of-play"},"Specifying the order of play"),Object(r.b)("p",null,"The order of play is determined by the design of your game. The turn-based multiplayer API provided by the games services allows your game to flexibly specify the order of play during a match."),Object(r.b)("p",null,"When updating the match, your game can assign one of these players to take the next turn:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"The current player who just took a turn."),Object(r.b)("li",{parentName:"ul"},"Another player who has been invited to join the match, or who has already joined the match."),Object(r.b)("li",{parentName:"ul"},"An auto-match player who has not joined the match (if there are vacant auto-match slots open). In this case, the match is suspended until a player joins.")),Object(r.b)("p",null,"For example, in a 2-player turn-based match, your game might randomly pick one player to take the first turn, then subsequently switch to the other player for the next turn, and so on."))}s.isMDXComponent=!0},807:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return h}));var n=a(0),r=a.n(n);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=r.a.createContext({}),p=function(e){var t=r.a.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},u=function(e){var t=p(e.components);return r.a.createElement(s.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},b=r.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,i=e.originalType,o=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),u=p(a),b=n,h=u["".concat(o,".").concat(b)]||u[b]||m[b]||i;return a?r.a.createElement(h,l(l({ref:t},s),{},{components:a})):r.a.createElement(h,l({ref:t},s))}));function h(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=a.length,o=new Array(i);o[0]=b;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:n,o[1]=l;for(var s=2;s<i;s++)o[s]=a[s];return r.a.createElement.apply(null,o)}return r.a.createElement.apply(null,a)}b.displayName="MDXCreateElement"}}]);
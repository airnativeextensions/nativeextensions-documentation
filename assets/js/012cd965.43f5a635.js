"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[46235],{3905:(e,n,t)=>{t.d(n,{Zo:()=>u,kt:()=>f});var r=t(67294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var s=r.createContext({}),c=function(e){var n=r.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},u=function(e){var n=c(e.components);return r.createElement(s.Provider,{value:n},e.children)},d="mdxType",p={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},m=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),d=c(t),m=a,f=d["".concat(s,".").concat(m)]||d[m]||p[m]||o;return t?r.createElement(f,i(i({ref:n},u),{},{components:t})):r.createElement(f,i({ref:n},u))}));function f(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var o=t.length,i=new Array(o);i[0]=m;var l={};for(var s in n)hasOwnProperty.call(n,s)&&(l[s]=n[s]);l.originalType=e,l[d]="string"==typeof e?e:a,i[1]=l;for(var c=2;c<o;c++)i[c]=t[c];return r.createElement.apply(null,i)}return r.createElement.apply(null,t)}m.displayName="MDXCreateElement"},85162:(e,n,t)=>{t.d(n,{Z:()=>i});var r=t(67294),a=t(86010);const o={tabItem:"tabItem_Ymn6"};function i(e){let{children:n,hidden:t,className:i}=e;return r.createElement("div",{role:"tabpanel",className:(0,a.Z)(o.tabItem,i),hidden:t},n)}},74866:(e,n,t)=>{t.d(n,{Z:()=>k});var r=t(87462),a=t(67294),o=t(86010),i=t(12466),l=t(16550),s=t(91980),c=t(67392),u=t(50012);function d(e){return function(e){var n,t;return null!=(n=null==(t=a.Children.map(e,(e=>{if(!e||(0,a.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})))?void 0:t.filter(Boolean))?n:[]}(e).map((e=>{let{props:{value:n,label:t,attributes:r,default:a}}=e;return{value:n,label:t,attributes:r,default:a}}))}function p(e){const{values:n,children:t}=e;return(0,a.useMemo)((()=>{const e=null!=n?n:d(t);return function(e){const n=(0,c.l)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error('Docusaurus error: Duplicate values "'+n.map((e=>e.value)).join(", ")+'" found in <Tabs>. Every value needs to be unique.')}(e),e}),[n,t])}function m(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function f(e){let{queryString:n=!1,groupId:t}=e;const r=(0,l.k6)(),o=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=t?t:null}({queryString:n,groupId:t});return[(0,s._X)(o),(0,a.useCallback)((e=>{if(!o)return;const n=new URLSearchParams(r.location.search);n.set(o,e),r.replace({...r.location,search:n.toString()})}),[o,r])]}function v(e){const{defaultValue:n,queryString:t=!1,groupId:r}=e,o=p(e),[i,l]=(0,a.useState)((()=>function(e){var n;let{defaultValue:t,tabValues:r}=e;if(0===r.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!m({value:t,tabValues:r}))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+t+'" but none of its children has the corresponding value. Available values are: '+r.map((e=>e.value)).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");return t}const a=null!=(n=r.find((e=>e.default)))?n:r[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:n,tabValues:o}))),[s,c]=f({queryString:t,groupId:r}),[d,v]=function(e){let{groupId:n}=e;const t=function(e){return e?"docusaurus.tab."+e:null}(n),[r,o]=(0,u.Nk)(t);return[r,(0,a.useCallback)((e=>{t&&o.set(e)}),[t,o])]}({groupId:r}),b=(()=>{const e=null!=s?s:d;return m({value:e,tabValues:o})?e:null})();(0,a.useLayoutEffect)((()=>{b&&l(b)}),[b]);return{selectedValue:i,selectValue:(0,a.useCallback)((e=>{if(!m({value:e,tabValues:o}))throw new Error("Can't select invalid tab value="+e);l(e),c(e),v(e)}),[c,v,o]),tabValues:o}}var b=t(72389);const g={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function y(e){let{className:n,block:t,selectedValue:l,selectValue:s,tabValues:c}=e;const u=[],{blockElementScrollPositionUntilNextRender:d}=(0,i.o5)(),p=e=>{const n=e.currentTarget,t=u.indexOf(n),r=c[t].value;r!==l&&(d(n),s(r))},m=e=>{var n;let t=null;switch(e.key){case"Enter":p(e);break;case"ArrowRight":{var r;const n=u.indexOf(e.currentTarget)+1;t=null!=(r=u[n])?r:u[0];break}case"ArrowLeft":{var a;const n=u.indexOf(e.currentTarget)-1;t=null!=(a=u[n])?a:u[u.length-1];break}}null==(n=t)||n.focus()};return a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":t},n)},c.map((e=>{let{value:n,label:t,attributes:i}=e;return a.createElement("li",(0,r.Z)({role:"tab",tabIndex:l===n?0:-1,"aria-selected":l===n,key:n,ref:e=>u.push(e),onKeyDown:m,onClick:p},i,{className:(0,o.Z)("tabs__item",g.tabItem,null==i?void 0:i.className,{"tabs__item--active":l===n})}),null!=t?t:n)})))}function h(e){let{lazy:n,children:t,selectedValue:r}=e;const o=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=o.find((e=>e.props.value===r));return e?(0,a.cloneElement)(e,{className:"margin-top--md"}):null}return a.createElement("div",{className:"margin-top--md"},o.map(((e,n)=>(0,a.cloneElement)(e,{key:n,hidden:e.props.value!==r}))))}function A(e){const n=v(e);return a.createElement("div",{className:(0,o.Z)("tabs-container",g.tabList)},a.createElement(y,(0,r.Z)({},e,n)),a.createElement(h,(0,r.Z)({},e,n)))}function k(e){const n=(0,b.Z)();return a.createElement(A,(0,r.Z)({key:String(n)},e))}},89212:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>u,contentTitle:()=>s,default:()=>f,frontMatter:()=>l,metadata:()=>c,toc:()=>d});var r=t(87462),a=(t(67294),t(3905)),o=t(74866),i=t(85162);const l={title:"Privacy Sandbox",sidebar_label:"Privacy Sandbox"},s=void 0,c={unversionedId:"adverts/platform/admob/privacy-sandbox",id:"adverts/platform/admob/privacy-sandbox",title:"Privacy Sandbox",description:"Currently this is for Android only",source:"@site/docs/adverts/platform/admob/privacy-sandbox.mdx",sourceDirName:"adverts/platform/admob",slug:"/adverts/platform/admob/privacy-sandbox",permalink:"/docs/adverts/platform/admob/privacy-sandbox",draft:!1,tags:[],version:"current",frontMatter:{title:"Privacy Sandbox",sidebar_label:"Privacy Sandbox"},sidebar:"adverts",previous:{title:"Google AdMob",permalink:"/docs/adverts/platform/admob/"},next:{title:"Huawei Ads Kit",permalink:"/docs/adverts/platform/huawei/"}},u={},d=[{value:"Configure API-specific Ad Services",id:"configure-api-specific-ad-services",level:2},{value:"Opting out",id:"opting-out",level:2}],p={toc:d},m="wrapper";function f(e){let{components:n,...t}=e;return(0,a.kt)(m,(0,r.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("admonition",{type:"note"},(0,a.kt)("p",{parentName:"admonition"},"Currently this is for Android only")),(0,a.kt)("p",null,"The Privacy Sandbox on Android introduces new technologies to improve user privacy and enable effective, personalized advertising experiences for mobile apps."),(0,a.kt)("p",null,"To read more on the Privacy Sandbox see the ",(0,a.kt)("a",{parentName:"p",href:"https://developers.google.com/privacy-sandbox/"},"official documentation"),"."),(0,a.kt)("h2",{id:"configure-api-specific-ad-services"},"Configure API-specific Ad Services"),(0,a.kt)("p",null,"This configuration gives you fine-grained control access to resources managed by the APIs in your app or embedded SDK. In your manifest, specify an ",(0,a.kt)("inlineCode",{parentName:"p"},"adservicesConfig")," property as shown in the following example:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-xml"},'<application ...>\n      ...\n    <property android:name="android.adservices.AD_SERVICES_CONFIG"\n        android:resource="@xml/gma_ad_services_config" />\n\n      ...\n</application>\n')),(0,a.kt)("p",null,"Specify the ad services XML resource referenced in the manifest, such as ",(0,a.kt)("inlineCode",{parentName:"p"},"res/xml/gma_ad_services_config.xml"),". For each privacy-preserving API applicable to your app (or embedded SDK), set the allowAllToAccess attribute to true to grant access to any callers."),(0,a.kt)("p",null,"Create a folder ",(0,a.kt)("inlineCode",{parentName:"p"},"res")," in your application source and a sub-folder named ",(0,a.kt)("inlineCode",{parentName:"p"},"xml"),". Ensure you package this folder as the custom resources for your AIR application by using the ",(0,a.kt)("inlineCode",{parentName:"p"},"resdir")," option (",(0,a.kt)("a",{parentName:"p",href:"https://airsdk.dev/docs/tutorials/platform/android/custom-resources"},"more information here"),")"),(0,a.kt)("p",null,"Create the file ",(0,a.kt)("inlineCode",{parentName:"p"},"gma_ad_services_config.xml")," and add specify the configuration you require. The following example shows how to specify broad access to allow any enrollment account ID access to all privacy-preserving APIs:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-xml"},'<ad-services-config>\n   \x3c!-- Attribution API --\x3e\n   <attribution allowAllToAccess="true" />\n\n   \x3c!-- Topics API --\x3e\n   <topics allowAllToAccess="true" />\n\n   \x3c!-- Protected Audience on Android API --\x3e\n   <custom-audiences allowAllToAccess="true" />\n</ad-services-config>\n')),(0,a.kt)("p",null,"The following example shows how to specify fine-grained access to each privacy-preserving API for specific enrollment account IDs:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-xml"},'<ad-services-config>\n    \x3c!-- Attribution API --\x3e\n    <attribution allowAdPartnersToAccess="ENROLLMENT-ID" allowAllToAccess="false" />\n\n    \x3c!-- Topics API --\x3e\n    <includes-sdk-library name="ENROLLMENT-ID" />\n    <topics allowAdPartnersToAccess="ENROLLMENT-ID" allowAllToAccess="false" />\n\n    \x3c!-- Protected Audience on Android API --\x3e\n    <custom-audiences allowAdPartnersToAccess="ENROLLMENT-ID" allowAllToAccess="false" />\n</ad-services-config>\n')),(0,a.kt)("h2",{id:"opting-out"},"Opting out"),(0,a.kt)("p",null,"To opt out of the Admob implemented Topics API and Attribution Reporting API you can remove the additions to the manifest from your application descriptor."),(0,a.kt)(o.Z,{groupId:"packagemanager",defaultValue:"apm",values:[{label:"APM",value:"apm"},{label:"Manual",value:"manual"}],mdxType:"Tabs"},(0,a.kt)(i.Z,{value:"apm",mdxType:"TabItem"},(0,a.kt)("p",null,"Firstly create an Android config for specific manifest additions:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"apm generate config android\n")),(0,a.kt)("p",null,"Then edit the file created at ",(0,a.kt)("inlineCode",{parentName:"p"},"config/android/AndroidManifest.xml")," and add the following content:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0" encoding="utf-8"?>\n<manifest xmlns:android="http://schemas.android.com/apk/res/android" xmlns:tools="http://schemas.android.com/tools">\n\n    <uses-permission android:name="android.permission.ACCESS_ADSERVICES_TOPICS" tools:node="remove" />\n    <uses-permission android:name="android.permission.ACCESS_ADSERVICES_ATTRIBUTION" tools:node="remove" />\n    <uses-permission android:name="android.permission.ACCESS_ADSERVICES_AD_ID" tools:node="remove" />\n\n    <application>\n\n        <property tools:node="removeAll" />\n\n    </application>\n\n</manifest>\n')),(0,a.kt)("p",null,"Now generate your application descriptor and the privacy sandbox APIs will be disabled.")),(0,a.kt)(i.Z,{value:"manual",mdxType:"TabItem"},"Remove the following lines from your manifest additions:",(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-xml"},'<uses-permission android:name="android.permission.ACCESS_ADSERVICES_TOPICS"  />\n<uses-permission android:name="android.permission.ACCESS_ADSERVICES_ATTRIBUTION" />\n<uses-permission android:name="android.permission.ACCESS_ADSERVICES_AD_ID"  />\n')),(0,a.kt)("p",null,"Also from within the ",(0,a.kt)("inlineCode",{parentName:"p"},"application")," node remove the line:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-xml"},'<property android:name="android.adservices.AD_SERVICES_CONFIG" android:resource="@xml/gma_ad_services_config"/>\n')))))}f.isMDXComponent=!0}}]);
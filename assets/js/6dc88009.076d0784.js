"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[66647],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>y});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var u=n.createContext({}),p=function(e){var t=n.useContext(u),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},c=function(e){var t=p(e.components);return n.createElement(u.Provider,{value:t},e.children)},s="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,u=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),s=p(a),m=r,y=s["".concat(u,".").concat(m)]||s[m]||d[m]||l;return a?n.createElement(y,i(i({ref:t},c),{},{components:a})):n.createElement(y,i({ref:t},c))}));function y(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,i=new Array(l);i[0]=m;var o={};for(var u in t)hasOwnProperty.call(t,u)&&(o[u]=t[u]);o.originalType=e,o[s]="string"==typeof e?e:r,i[1]=o;for(var p=2;p<l;p++)i[p]=a[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},85162:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(67294),r=a(86010);const l={tabItem:"tabItem_Ymn6"};function i(e){let{children:t,hidden:a,className:i}=e;return n.createElement("div",{role:"tabpanel",className:(0,r.Z)(l.tabItem,i),hidden:a},t)}},74866:(e,t,a)=>{a.d(t,{Z:()=>T});var n=a(87462),r=a(67294),l=a(86010),i=a(12466),o=a(16550),u=a(91980),p=a(67392),c=a(50012);function s(e){return function(e){var t,a;return null!=(t=null==(a=r.Children.map(e,(e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})))?void 0:a.filter(Boolean))?t:[]}(e).map((e=>{let{props:{value:t,label:a,attributes:n,default:r}}=e;return{value:t,label:a,attributes:n,default:r}}))}function d(e){const{values:t,children:a}=e;return(0,r.useMemo)((()=>{const e=null!=t?t:s(a);return function(e){const t=(0,p.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error('Docusaurus error: Duplicate values "'+t.map((e=>e.value)).join(", ")+'" found in <Tabs>. Every value needs to be unique.')}(e),e}),[t,a])}function m(e){let{value:t,tabValues:a}=e;return a.some((e=>e.value===t))}function y(e){let{queryString:t=!1,groupId:a}=e;const n=(0,o.k6)(),l=function(e){let{queryString:t=!1,groupId:a}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!a)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=a?a:null}({queryString:t,groupId:a});return[(0,u._X)(l),(0,r.useCallback)((e=>{if(!l)return;const t=new URLSearchParams(n.location.search);t.set(l,e),n.replace({...n.location,search:t.toString()})}),[l,n])]}function b(e){const{defaultValue:t,queryString:a=!1,groupId:n}=e,l=d(e),[i,o]=(0,r.useState)((()=>function(e){var t;let{defaultValue:a,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(a){if(!m({value:a,tabValues:n}))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+a+'" but none of its children has the corresponding value. Available values are: '+n.map((e=>e.value)).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");return a}const r=null!=(t=n.find((e=>e.default)))?t:n[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:t,tabValues:l}))),[u,p]=y({queryString:a,groupId:n}),[s,b]=function(e){let{groupId:t}=e;const a=function(e){return e?"docusaurus.tab."+e:null}(t),[n,l]=(0,c.Nk)(a);return[n,(0,r.useCallback)((e=>{a&&l.set(e)}),[a,l])]}({groupId:n}),v=(()=>{const e=null!=u?u:s;return m({value:e,tabValues:l})?e:null})();(0,r.useLayoutEffect)((()=>{v&&o(v)}),[v]);return{selectedValue:i,selectValue:(0,r.useCallback)((e=>{if(!m({value:e,tabValues:l}))throw new Error("Can't select invalid tab value="+e);o(e),p(e),b(e)}),[p,b,l]),tabValues:l}}var v=a(72389);const g={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function h(e){let{className:t,block:a,selectedValue:o,selectValue:u,tabValues:p}=e;const c=[],{blockElementScrollPositionUntilNextRender:s}=(0,i.o5)(),d=e=>{const t=e.currentTarget,a=c.indexOf(t),n=p[a].value;n!==o&&(s(t),u(n))},m=e=>{var t;let a=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{var n;const t=c.indexOf(e.currentTarget)+1;a=null!=(n=c[t])?n:c[0];break}case"ArrowLeft":{var r;const t=c.indexOf(e.currentTarget)-1;a=null!=(r=c[t])?r:c[c.length-1];break}}null==(t=a)||t.focus()};return r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.Z)("tabs",{"tabs--block":a},t)},p.map((e=>{let{value:t,label:a,attributes:i}=e;return r.createElement("li",(0,n.Z)({role:"tab",tabIndex:o===t?0:-1,"aria-selected":o===t,key:t,ref:e=>c.push(e),onKeyDown:m,onClick:d},i,{className:(0,l.Z)("tabs__item",g.tabItem,null==i?void 0:i.className,{"tabs__item--active":o===t})}),null!=a?a:t)})))}function f(e){let{lazy:t,children:a,selectedValue:n}=e;const l=(Array.isArray(a)?a:[a]).filter(Boolean);if(t){const e=l.find((e=>e.props.value===n));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return r.createElement("div",{className:"margin-top--md"},l.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==n}))))}function k(e){const t=b(e);return r.createElement("div",{className:(0,l.Z)("tabs-container",g.tabList)},r.createElement(h,(0,n.Z)({},e,t)),r.createElement(f,(0,n.Z)({},e,t)))}function T(e){const t=(0,v.Z)();return r.createElement(k,(0,n.Z)({key:String(t)},e))}},81532:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>u,default:()=>y,frontMatter:()=>o,metadata:()=>p,toc:()=>s});var n=a(87462),r=(a(67294),a(3905)),l=a(74866),i=a(85162);const o={title:"Haptic Engine",sidebar_label:"Haptic Engine"},u=void 0,p={unversionedId:"vibration/haptic-engine",id:"vibration/haptic-engine",title:"Haptic Engine",description:"Compose and play haptic patterns to customize your app\u2019s feedback.",source:"@site/docs/vibration/haptic-engine.mdx",sourceDirName:"vibration",slug:"/vibration/haptic-engine",permalink:"/docs/vibration/haptic-engine",draft:!1,tags:[],version:"current",frontMatter:{title:"Haptic Engine",sidebar_label:"Haptic Engine"},sidebar:"vibration",previous:{title:"Feedback Generators",permalink:"/docs/vibration/feedback-generators"},next:{title:"Debugging",permalink:"/docs/vibration/debugging"}},c={},s=[{value:"Support",id:"support",level:2},{value:"Create a player",id:"create-a-player",level:2},{value:"Control",id:"control",level:2},{value:"Updating",id:"updating",level:2},{value:"Events",id:"events",level:2},{value:"Constructing a Pattern",id:"constructing-a-pattern",level:2}],d={toc:s},m="wrapper";function y(e){let{components:t,...a}=e;return(0,r.kt)(m,(0,n.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Compose and play haptic patterns to customize your app\u2019s feedback."),(0,r.kt)("p",null,"Use haptics to engage users physically, with tactile feedback that gets attention and reinforces actions."),(0,r.kt)("p",null,"Your app can play custom haptic patterns crafted from basic building blocks called haptic events (",(0,r.kt)("inlineCode",{parentName:"p"},"HapticEvent"),"). Events can be transient, like the feedback you get from toggling a switch, or continuous, like the vibration or sound from a ringtone. You can use transient and continuous patterns independently, or build your pattern from precise combinations of the two. "),(0,r.kt)("h2",{id:"support"},"Support"),(0,r.kt)("p",null,"You should check whether the current device supports the haptic engine by checking the ",(0,r.kt)("inlineCode",{parentName:"p"},"isSupported")," property on the ",(0,r.kt)("inlineCode",{parentName:"p"},"HapticEngine")," instance."),(0,r.kt)(l.Z,{groupId:"framework",defaultValue:"air",values:[{label:"AIR",value:"air"},{label:"Unity",value:"unity"}],mdxType:"Tabs"},(0,r.kt)(i.Z,{value:"air",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},"if (Vibration.service.hapticEngine.isSupported)\n{\n    // Haptic Engine is supported\n}\n"))),(0,r.kt)(i.Z,{value:"unity",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"if (Vibration.Instance.HapticEngine.IsSupported)\n{\n    // Haptic Engine is supported\n}\n")))),(0,r.kt)("p",null,"If it is not supported you should fall back to other feedback methods, such as simple vibrations."),(0,r.kt)("admonition",{type:"warning"},(0,r.kt)("p",{parentName:"admonition"},"Haptic Engine is only supported on iOS currently")),(0,r.kt)("h2",{id:"create-a-player"},"Create a player"),(0,r.kt)("p",null,"To create a player call the ",(0,r.kt)("inlineCode",{parentName:"p"},"createAdvancedPlayer()")," method passing in your pattern and initial params."),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"Currently the parameters to this method including the pattern are ignored.\nA haptic player with a single continuous pattern containing intensity and sharpness parameters will be created.")),(0,r.kt)(l.Z,{groupId:"framework",defaultValue:"air",values:[{label:"AIR",value:"air"},{label:"Unity",value:"unity"}],mdxType:"Tabs"},(0,r.kt)(i.Z,{value:"air",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},"var pattern:HapticPattern = new HapticPattern(); \n\nvar player:HapticAdvancedPlayer \n    = Vibration.service.hapticEngine.createAdvancedPlayer( pattern );\n"))),(0,r.kt)(i.Z,{value:"unity",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"HapticPattern pattern = new HapticPattern();\n\nHapticAdvancedPlayer player \n    = Vibration.Instance.HapticEngine.createAdvancedPlayer(pattern);\n")))),(0,r.kt)("h2",{id:"control"},"Control"),(0,r.kt)("p",null,"To start the haptic call the ",(0,r.kt)("inlineCode",{parentName:"p"},"start()")," method on the ",(0,r.kt)("inlineCode",{parentName:"p"},"HapticAdvancedPlayer")," instance."),(0,r.kt)(l.Z,{groupId:"framework",defaultValue:"air",values:[{label:"AIR",value:"air"},{label:"Unity",value:"unity"}],mdxType:"Tabs"},(0,r.kt)(i.Z,{value:"air",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},"player.start();\n"))),(0,r.kt)(i.Z,{value:"unity",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"player.Start();\n")))),(0,r.kt)("p",null,"To stop the player, call the ",(0,r.kt)("inlineCode",{parentName:"p"},"stop()")," method."),(0,r.kt)(l.Z,{groupId:"framework",defaultValue:"air",values:[{label:"AIR",value:"air"},{label:"Unity",value:"unity"}],mdxType:"Tabs"},(0,r.kt)(i.Z,{value:"air",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},"player.stop();\n"))),(0,r.kt)(i.Z,{value:"unity",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"player.Stop();\n")))),(0,r.kt)("h2",{id:"updating"},"Updating"),(0,r.kt)("p",null,"To update a continuous haptic pattern with new dynamic parameters, call the ",(0,r.kt)("inlineCode",{parentName:"p"},"sendParameters()")," method passing in the new dynamic paramaters."),(0,r.kt)(l.Z,{groupId:"framework",defaultValue:"air",values:[{label:"AIR",value:"air"},{label:"Unity",value:"unity"}],mdxType:"Tabs"},(0,r.kt)(i.Z,{value:"air",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},"player.sendParameters(\n        new HapticDynamicParams()\n                .setParameter( HapticDynamicParams.INTENSITY, 0.4 )\n                .setParameter( HapticDynamicParams.SHARPNESS, 0.2 )\n);\n"))),(0,r.kt)(i.Z,{value:"unity",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"player?.SendParameters(\n        new HapticDynamicParams()\n            .SetParameter(HapticDynamicParams.INTENSITY, 0.4)\n            .SetParameter(HapticDynamicParams.SHARPNESS, 0.2)\n        );\n")))),(0,r.kt)("h2",{id:"events"},"Events"),(0,r.kt)("p",null,"The haptic engine may be stopped at any time due to external factors such as an incoming phone call or the application being minimised. "),(0,r.kt)("p",null,"When this occurs any of your players will become invalid and you should dispose them and recreate them before responding to user feedback again."),(0,r.kt)(l.Z,{groupId:"framework",defaultValue:"air",values:[{label:"AIR",value:"air"},{label:"Unity",value:"unity"}],mdxType:"Tabs"},(0,r.kt)(i.Z,{value:"air",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},"Vibration.service.hapticEngine.addEventListener(\n        HapticEngineEvent.STOPPED,\n        hapticEngineStoppedHandler\n);\n\nfunction hapticEngineStoppedHandler( event:HapticEngineEvent ):void \n{\n    // This indicates the engine has stopped and all players must be recreated\n    if (player != null) player.dispose();\n    player = null;\n\n    // You should not recreate until needed again as this may be in the background now.\n}\n"))),(0,r.kt)(i.Z,{value:"unity",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"Vibration.Instance.HapticEngine.OnStopped += HapticEngine_OnStopped;\n\nvoid HapticEngine_OnStopped(HapticEngineEvent e)\n{\n    // This indicates the engine has stopped and all players must be recreated\n    _player?.Dispose();\n    _player = null;\n\n    // You should not recreate until needed again as this may be in the background now.\n}\n")))),(0,r.kt)("p",null,"Additionally each individual player will complete it's pattern playback after an amount of time. When this occurs the complete event will be dispatched allowing you to start the player again if you wish to continue haptic feedback."),(0,r.kt)(l.Z,{groupId:"framework",defaultValue:"air",values:[{label:"AIR",value:"air"},{label:"Unity",value:"unity"}],mdxType:"Tabs"},(0,r.kt)(i.Z,{value:"air",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},"_player.addEventListener( HapticPlayerEvent.COMPLETE, playerCompleteHandler );\n_player.start();\n\nfunction playerCompleteHandler( event:HapticPlayerEvent ):void\n{\n    _player.start();\n}\n"))),(0,r.kt)(i.Z,{value:"unity",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"_player.OnComplete += player_OnComplete;\n_player.Start();\n\nvoid player_OnComplete(HapticPlayerEvent e)\n{\n    _player?.Start();\n}\n")))),(0,r.kt)("h2",{id:"constructing-a-pattern"},"Constructing a Pattern"),(0,r.kt)("p",null,"Not available yet"))}y.isMDXComponent=!0}}]);
"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[46360],{3905:(e,t,a)=>{a.d(t,{Zo:()=>h,kt:()=>g});var n=a(67294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var s=n.createContext({}),c=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},h=function(e){var t=c(e.components);return n.createElement(s.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,r=e.originalType,s=e.parentName,h=l(e,["components","mdxType","originalType","parentName"]),p=c(a),u=o,g=p["".concat(s,".").concat(u)]||p[u]||d[u]||r;return a?n.createElement(g,i(i({ref:t},h),{},{components:a})):n.createElement(g,i({ref:t},h))}));function g(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=a.length,i=new Array(r);i[0]=u;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[p]="string"==typeof e?e:o,i[1]=l;for(var c=2;c<r;c++)i[c]=a[c];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},45323:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>d,frontMatter:()=>r,metadata:()=>l,toc:()=>c});var n=a(87462),o=(a(67294),a(3905));const r={title:"Sharing - Share Dialog",sidebar_label:"Sharing - Share Dialog"},i=void 0,l={unversionedId:"facebookapi-legacy/sharing---share-dialog",id:"facebookapi-legacy/sharing---share-dialog",title:"Sharing - Share Dialog",description:"This is the legacy extension documentation. Find the new documentation here",source:"@site/docs/facebookapi-legacy/sharing---share-dialog.md",sourceDirName:"facebookapi-legacy",slug:"/facebookapi-legacy/sharing---share-dialog",permalink:"/docs/facebookapi-legacy/sharing---share-dialog",draft:!1,tags:[],version:"current",frontMatter:{title:"Sharing - Share Dialog",sidebar_label:"Sharing - Share Dialog"},sidebar:"facebookapi-legacy",previous:{title:"Sharing - Content",permalink:"/docs/facebookapi-legacy/sharing---content"},next:{title:"Sharing - Message Dialog",permalink:"/docs/facebookapi-legacy/sharing---message-dialog"}},s={},c=[{value:"Share Dialog",id:"share-dialog",level:2},{value:"Show",id:"show",level:2},{value:"Events",id:"events",level:2},{value:"Notes",id:"notes",level:2},{value:"Example",id:"example",level:2}],h={toc:c},p="wrapper";function d(e){let{components:t,...a}=e;return(0,o.kt)(p,(0,n.Z)({},h,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("admonition",{type:"caution"},(0,o.kt)("p",{parentName:"admonition"},"This is the legacy extension documentation. Find the new documentation ",(0,o.kt)("a",{parentName:"p",href:"../facebookapi/"},"here"))),(0,o.kt)("h2",{id:"share-dialog"},"Share Dialog"),(0,o.kt)("p",null,"On mobile, when someone shares with the Share Dialog, the dialog makes a fast\napp-switch to the Facebook app on their device. We also have a web dialog as\na fallback if someone doesn't have the native Facebook app installed."),(0,o.kt)("p",null,"In past versions of the SDK for iOS, your app had to check for a native, installed\nFacebook app before it could open the Share Dialog. If the person didn't have the\napp installed, you had to provide your own code to call a fallback dialog."),(0,o.kt)("p",null,"Now the SDK automatically checks for the native Facebook app. If it isn't installed,\nthe SDK switches people to their default browser and opens the Feed Dialog. If\nsomeone wants to share an Open Graph story, the SDK opens the Web Share Dialog."),(0,o.kt)("h2",{id:"show"},"Show"),(0,o.kt)("p",null,"Once you have created the content builder you then pass the output from this builder to the\n",(0,o.kt)("inlineCode",{parentName:"p"},"show")," function of the ",(0,o.kt)("inlineCode",{parentName:"p"},"ShareDialog")," interface:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-actionscript"},"FacebookAPI.service.shareDialog.show( builder.build() );\n")),(0,o.kt)("p",null,"This initiates the dialog and presents it to the user. You should check the response\nof this function. It is a boolean value and indicates if the share dialog construction\nwas initiated correctly. If will return ",(0,o.kt)("inlineCode",{parentName:"p"},"false")," if the required dialog type isn't supported\nor if the application isn't setup correctly."),(0,o.kt)("h2",{id:"events"},"Events"),(0,o.kt)("p",null,"There are three possible events dispatched after a call to ",(0,o.kt)("inlineCode",{parentName:"p"},"show"),":"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"ShareDialogEvent.DIALOG_COMPLETED"),": when the share was successfully completed"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"ShareDialogEvent.DIALOG_CANCELLLED"),": when the user cancelled the share dialog"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"ShareDialogEvent.DIALOG_ERROR"),": when an error occurred during the process")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-actionscript"},"FacebookAPI.service.shareDialog.addEventListener( ShareDialogEvent.DIALOG_COMPLETED, shareDialogEventHandler );\nFacebookAPI.service.shareDialog.addEventListener( ShareDialogEvent.DIALOG_CANCELLED, shareDialogEventHandler );\nFacebookAPI.service.shareDialog.addEventListener( ShareDialogEvent.DIALOG_ERROR, shareDialogEventHandler );\n")),(0,o.kt)("p",null,"And then your event handler:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-actionscript"},'private function shareDialogEventHandler( event:ShareDialogEvent ):void \n{\n    // If successful event.postId will contain the post identifier\n    if (event.postId != null) \n    {\n        trace( "postId="+event.postId);\n    }\n}\n')),(0,o.kt)("h2",{id:"notes"},"Notes"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Your app should not pre-fill any content to be shared. This is inconsistent with\nFacebook Platform Policy, see ",(0,o.kt)("a",{parentName:"p",href:"https://developers.facebook.com/policy/#control"},"Facebook Platform Policy, 2.3"),".")),(0,o.kt)("h2",{id:"example"},"Example"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-actionscript"},'\nif (FacebookAPI.service.shareDialog.canShow( ShareLinkContentBuilder.TYPE ))\n{\n    FacebookAPI.service.shareDialog.addEventListener( ShareDialogEvent.DIALOG_COMPLETED, shareDialogEventHandler );\n    FacebookAPI.service.shareDialog.addEventListener( ShareDialogEvent.DIALOG_CANCELLED, shareDialogEventHandler );\n    FacebookAPI.service.shareDialog.addEventListener( ShareDialogEvent.DIALOG_ERROR, shareDialogEventHandler );\n\n    var builder:ShareLinkContentBuilder = new ShareLinkContentBuilder()\n        .setContentTitle("FacebookAPI ANE")\n        .setContentDescription("This link was shared using the distriqt FacebookAPI ANE" )\n        .setContentUrl("https://airnativeextensions.com/extension/com.distriqt.FacebookAPI");\n    \n    var success:Boolean = FacebookAPI.service.shareDialog.show( builder.build() );\n    \n}\n\n...\n\nprivate function shareDialogEventHandler( event:ShareDialogEvent ):void \n{\n    FacebookAPI.service.shareDialog.removeEventListener( ShareDialogEvent.DIALOG_COMPLETED, shareDialogEventHandler );\n    FacebookAPI.service.shareDialog.removeEventListener( ShareDialogEvent.DIALOG_CANCELLED, shareDialogEventHandler );\n    FacebookAPI.service.shareDialog.removeEventListener( ShareDialogEvent.DIALOG_ERROR, shareDialogEventHandler );\n\n    if (event.postId != null) log( "postId="+event.postId);\n}\n')))}d.isMDXComponent=!0}}]);
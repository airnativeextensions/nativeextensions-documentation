"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[74918],{28453:(e,a,r)=>{r.d(a,{R:()=>o,x:()=>s});var n=r(96540);const t={},i=n.createContext(t);function o(e){const a=n.useContext(i);return n.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function s(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),n.createElement(i.Provider,{value:a},e.children)}},43521:(e,a,r)=>{r.r(a),r.d(a,{assets:()=>d,contentTitle:()=>s,default:()=>h,frontMatter:()=>o,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"camera/camera-modes","title":"Camera Modes","description":"The CameraDevice supports two CameraModes, one for preview frames and another for image capture.","source":"@site/docs/camera/camera-modes.md","sourceDirName":"camera","slug":"/camera/camera-modes","permalink":"/docs/camera/camera-modes","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Camera Modes","sidebar_label":"Camera Modes"},"sidebar":"camera","previous":{"title":"Capturing Images","permalink":"/docs/camera/capturing-images"},"next":{"title":"Parameters-Flash","permalink":"/docs/camera/parameters-flash"}}');var t=r(74848),i=r(28453);const o={title:"Camera Modes",sidebar_label:"Camera Modes"},s=void 0,d={},c=[{value:"Preview Mode",id:"preview-mode",level:2},{value:"Availability",id:"availability",level:3},{value:"Change Mode",id:"change-mode",level:3},{value:"Camera Mode",id:"camera-mode",level:2},{value:"Availability",id:"availability-1",level:3},{value:"Change Mode",id:"change-mode-1",level:3},{value:"iOS Limitations",id:"ios-limitations",level:2}];function l(e){const a={blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(a.p,{children:["The ",(0,t.jsx)(a.code,{children:"CameraDevice"})," supports two ",(0,t.jsx)(a.code,{children:"CameraMode"}),"s, one for preview frames and another for image capture."]}),"\n",(0,t.jsx)(a.p,{children:"The extension will automatically switch between the two for preview and capture images so you no\nlonger have to manually change the mode before starting an image capture (which was required by\nprevious versions of the ANE)."}),"\n",(0,t.jsx)(a.p,{children:"Both these modes can be controlled separately."}),"\n",(0,t.jsxs)(a.p,{children:["Generally you should not attempt to create your own ",(0,t.jsx)(a.code,{children:"CameraMode"})," instance. Instead use one of the\nvalues returned either from the ",(0,t.jsx)(a.code,{children:"CameraDevice.getCameraModes"})," / ",(0,t.jsx)(a.code,{children:"CameraDevice.getPreviewModes"})," or\nthe modes returned in the ",(0,t.jsx)(a.code,{children:"CameraDeviceInfo"})," instance when querying the available devices."]}),"\n",(0,t.jsx)(a.p,{children:"This ensures that the mode you are using will be of a supported format for the device."}),"\n",(0,t.jsx)(a.h2,{id:"preview-mode",children:"Preview Mode"}),"\n",(0,t.jsx)(a.p,{children:"The preview mode represents the mode that preview video frames are returned to your application."}),"\n",(0,t.jsx)(a.h3,{id:"availability",children:"Availability"}),"\n",(0,t.jsxs)(a.p,{children:["You can retrieve the available preview modes for a camera device by calling the ",(0,t.jsx)(a.code,{children:"getPreviewModes"}),"\nfunction. This returns an ",(0,t.jsx)(a.code,{children:"Array"})," of ",(0,t.jsx)(a.code,{children:"CameraMode"})," instances each representing a mode that is\nsupported by the camera preview."]}),"\n",(0,t.jsx)(a.p,{children:"For example you can list all the available preview modes as below:"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-actionscript",children:'for each (var mode:CameraMode in device.getPreviewModes())\n{\n\tlog( "    mode: " + mode.mode + " ["+mode.width + "x"+mode.height+"]" );\n}\n'})}),"\n",(0,t.jsx)(a.p,{children:"You can also check whether a particular mode is supported on the device:"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-actionscript",children:"if (device.isPreviewModeSupported( mode ))\n{\n\t// mode is supported as a preview mode\n}\n"})}),"\n",(0,t.jsx)(a.h3,{id:"change-mode",children:"Change Mode"}),"\n",(0,t.jsx)(a.p,{children:"To change the preview mode:"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-actionscript",children:"if (device.isPreviewModeSupported( mode ))\n{\n\tdevice.setPreviewMode( mode );\n}\n"})}),"\n",(0,t.jsxs)(a.blockquote,{children:["\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.strong,{children:"Note"})," : Changing the preview mode will change the size of the image returned in preview\nframes so you should be prepared to handle a bitmap size change in your preview handler."]}),"\n"]}),"\n",(0,t.jsx)(a.h2,{id:"camera-mode",children:"Camera Mode"}),"\n",(0,t.jsx)(a.p,{children:"The camera mode is the mode that images will be captured in when triggered by a capture request."}),"\n",(0,t.jsx)(a.h3,{id:"availability-1",children:"Availability"}),"\n",(0,t.jsxs)(a.p,{children:["Similarly to preview modes, you can retrieve the available camera modes supported by the device\nby calling the ",(0,t.jsx)(a.code,{children:"getCameraModes"})," function."]}),"\n",(0,t.jsx)(a.p,{children:"For example you can list all the available camera modes as below:"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-actionscript",children:'for each (var mode:CameraMode in device.getCameraModes())\n{\n\tlog( "    mode: " + mode.mode + " ["+mode.width + "x"+mode.height+"]" );\n}\n'})}),"\n",(0,t.jsx)(a.p,{children:"You can also check whether a particular camera mode is supported on the device:"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-actionscript",children:"if (device.isCameraModeSupported( mode ))\n{\n\t// mode is supported as a camera mode \n}\n"})}),"\n",(0,t.jsx)(a.h3,{id:"change-mode-1",children:"Change Mode"}),"\n",(0,t.jsx)(a.p,{children:"Changing the camera mode will not directly affect the current operation of the camera. It simply\nsets the mode that will be used for the next capture request."}),"\n",(0,t.jsxs)(a.p,{children:["Again it is a simple matter of calling ",(0,t.jsx)(a.code,{children:"setCameraMode"})," with the required ",(0,t.jsx)(a.code,{children:"CameraMode"})," instance."]}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-actionscript",children:"device.setCameraMode( mode );\n"})}),"\n",(0,t.jsx)(a.h2,{id:"ios-limitations",children:"iOS Limitations"}),"\n",(0,t.jsx)(a.p,{children:"Currently iOS only supports capture and previewing using the one mode. So in order for us\nto support both settings we internally change the mode just before capturing an image."}),"\n",(0,t.jsx)(a.p,{children:"This has one side affect that you must wait for the camera parameters to adjust automatically\nbefore capturing the image otherwise you will capture a dark / unadjusted image."}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-actionscript",children:"var request:CaptureImageRequest = new CaptureImageRequest();\nrequest.waitForAdjustments = true;\n"})}),"\n",(0,t.jsx)(a.p,{children:"This is the default, but it is important to be aware of."}),"\n",(0,t.jsx)(a.p,{children:"You can get around this on iOS if you require, by setting the preview mode to be the same\nas the camera mode, this way the mode won't be changed just before capture and the preview\nframe will be the same as the captured image. This has the side effect of reducing the preview\nframe rate as much more data needs to be captured and transferred."})]})}function h(e={}){const{wrapper:a}={...(0,i.R)(),...e.components};return a?(0,t.jsx)(a,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}}}]);
(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[76514],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return p},kt:function(){return h}});var a=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=a.createContext({}),s=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=s(e.components);return a.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,l=e.parentName,p=d(e,["components","mdxType","originalType","parentName"]),c=s(n),h=i,v=c["".concat(l,".").concat(h)]||c[h]||u[h]||r;return n?a.createElement(v,o(o({ref:t},p),{},{components:n})):a.createElement(v,o({ref:t},p))}));function h(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=c;var d={};for(var l in t)hasOwnProperty.call(t,l)&&(d[l]=t[l]);d.originalType=e,d.mdxType="string"==typeof e?e:i,o[1]=d;for(var s=2;s<r;s++)o[s]=n[s];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},10471:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return o},metadata:function(){return d},toc:function(){return l},default:function(){return p}});var a=n(22122),i=n(19756),r=(n(67294),n(3905)),o={title:"Banner Adverts",sidebar_label:"Banner Adverts"},d={unversionedId:"adverts/banner-adverts",id:"adverts/banner-adverts",isDocsHomePage:!1,title:"Banner Adverts",description:"Banner advertisements are represented by the AdView class. You create an instance of this class using the extension and then use this instance to set properties, load and display the advert.",source:"@site/docs/adverts/banner-adverts.md",sourceDirName:"adverts",slug:"/adverts/banner-adverts",permalink:"/docs/adverts/banner-adverts",version:"current",sidebar_label:"Banner Adverts",frontMatter:{title:"Banner Adverts",sidebar_label:"Banner Adverts"},sidebar:"adverts",previous:{title:"Advertising Identifier",permalink:"/docs/adverts/advertising-identifier"},next:{title:"Interstitials",permalink:"/docs/adverts/interstitials"}},l=[{value:"Creating an AdView",id:"creating-an-adview",children:[]},{value:"Size and Ad Unit ID",id:"size-and-ad-unit-id",children:[{value:"Adaptive Banners",id:"adaptive-banners",children:[]}]},{value:"Loading",id:"loading",children:[]},{value:"Testing and Development",id:"testing-and-development",children:[]},{value:"Display",id:"display",children:[]},{value:"View Parameters",id:"view-parameters",children:[]},{value:"Advert Size",id:"advert-size",children:[]},{value:"Events",id:"events",children:[]},{value:"Refresh",id:"refresh",children:[]},{value:"Destroy",id:"destroy",children:[]}],s={toc:l};function p(e){var t=e.components,n=(0,i.Z)(e,["components"]);return(0,r.kt)("wrapper",(0,a.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Banner advertisements are represented by the ",(0,r.kt)("inlineCode",{parentName:"p"},"AdView")," class. You create an instance of this class using the extension and then use this instance to set properties, load and display the advert."),(0,r.kt)("h2",{id:"creating-an-adview"},"Creating an AdView"),(0,r.kt)("p",null,"To create an ",(0,r.kt)("inlineCode",{parentName:"p"},"AdView")," use the ",(0,r.kt)("inlineCode",{parentName:"p"},"createAdView")," function."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},"var adView:AdView = Adverts.service.createAdView();\n")),(0,r.kt)("p",null,"This will instanciate an instance of the ",(0,r.kt)("inlineCode",{parentName:"p"},"AdView")," class. "),(0,r.kt)("h2",{id:"size-and-ad-unit-id"},"Size and Ad Unit ID"),(0,r.kt)("p",null,"You must set at least the size and ad unit id properties on your ",(0,r.kt)("inlineCode",{parentName:"p"},"AdView")," to correctly setup the view before use. Without these properties the advert will not display correctly."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},'adView.setAdSize( AdSize.SMART_BANNER );\nadView.setAdUnitId( "ca-app-pub-3940256099942544/6300978111" );\n')),(0,r.kt)("p",null,"You can use any of the predefined ",(0,r.kt)("inlineCode",{parentName:"p"},"AdSize")," constants to set the size of the advert."),(0,r.kt)("h3",{id:"adaptive-banners"},"Adaptive Banners"),(0,r.kt)("p",null,"Adaptive banners are the next generation of responsive ads, maximizing performance by optimizing ad size for each device. Improving on smart banners, which only supported fixed heights, adaptive banners let developers specify the ad-width and use this to determine the optimal ad size."),(0,r.kt)("p",null,"To pick the best ad size, adaptive banners use fixed aspect ratios instead of fixed heights. This results in banner ads that occupy a more consistent portion of the screen across devices and provide opportunities for improved performance."),(0,r.kt)("p",null,"When working with adaptive banners, note that these will always return a constant size for a given device and width. Once you've tested your layout on a given device, you can be sure that the ad size will not change. However, the size of the banner creative may change across different devices. Consequently, it is recommended to ensure your layout can accommodate variances in ad height. In rare cases, the full adaptive size may not be filled and a standard size creative will be centered in this slot instead."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Important"),": You must know the width of the view that the ad will be placed in, ",(0,r.kt)("strong",{parentName:"p"},"and this should take into account the device width and any display cutouts that are applicable"),".")),(0,r.kt)("p",null,"To use adaptive banners, replace any calls to ",(0,r.kt)("inlineCode",{parentName:"p"},"setAdSize()")," with ",(0,r.kt)("inlineCode",{parentName:"p"},"setAdaptiveAdSize()"),". This function takes two optional parameters, the width and the orientation. The simplest option is to use the defaults,and then the extension will calculate the available width based on the current orientation and use that for creation of the adaptive banner size."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},'var adView:AdView = Adverts.service.createAdView();\nadView.setAdaptiveAdSize();\nadView.setAdUnitId( "ca-app-pub-3940256099942544/6300978111" );\n\n...\n\n')),(0,r.kt)("p",null,"If you wish to preload an advert for a different width / orientation you can pass in the appropriate values, eg to set the :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},'adView.setAdaptiveAdSize( width, "portrait" );\n')),(0,r.kt)("p",null,"Valid values for orientation are:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"portrait")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"landscape")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"auto")," (default)")),(0,r.kt)("p",null,"If you are specifying an orientation different from the current, then you must supply a valid ",(0,r.kt)("inlineCode",{parentName:"p"},"width"),"."),(0,r.kt)("h2",{id:"loading"},"Loading"),(0,r.kt)("p",null,"To load an advert into your view you use the ",(0,r.kt)("inlineCode",{parentName:"p"},"load")," function and pass it an ",(0,r.kt)("inlineCode",{parentName:"p"},"AdRequest")," object which will specify the details of the ad request to load. You create an ",(0,r.kt)("inlineCode",{parentName:"p"},"AdRequest")," by using the ",(0,r.kt)("inlineCode",{parentName:"p"},"AdRequestBuilder"),". The builder is used to correctly create the request object and easily set the availble properties on the request."),(0,r.kt)("p",null,"The simplest example is to just use a generic request:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},"adView.load( new AdRequestBuilder().build() );\n")),(0,r.kt)("p",null,"You can set properties, such as adding a gender to the request, using the other methods on the builder:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},"var request:AdRequest = new AdRequestBuilder()\n                            .setGender( AdRequest.GENDER_MALE )\n                            .build();\n\nadView.load( request );\n")),(0,r.kt)("p",null,"See ",(0,r.kt)("a",{parentName:"p",href:"targeting"},"Targeting")," for more on the ",(0,r.kt)("inlineCode",{parentName:"p"},"AdRequestBuilder")," targetting options."),(0,r.kt)("p",null,"You can listen for events that will inform you on when an advert is available or if there were any errors in loading the advert.\nThere are two events of interest here:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"AdViewEvent.LOADED"),": dispatched when an ad has finished loading;"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"AdViewEvent.ERROR"),": dispatched if the ad failed to load")),(0,r.kt)("p",null,"You can use the loaded event to delay displaying the ad until you are sure an ad is available."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},'adView.addEventListener( AdViewEvent.LOADED, loadedHandler );\nadView.addEventListener( AdViewEvent.ERROR, errorHandler );\n\n\nfunction loadedHandler( event:AdViewEvent ):void\n{\n    // Ad loaded and ready to be displayed\n}\n\nfunction errorHandler( event:AdViewEvent ):void\n{\n    // Load error occurred. The errorCode will contain more information\n    trace( "Error" + event.errorCode );\n}\n')),(0,r.kt)("p",null,"If an error occurs you can use the ",(0,r.kt)("inlineCode",{parentName:"p"},"errorCode")," on the event to determine what type of error occurred. See the ",(0,r.kt)("a",{parentName:"p",href:"troubleshooting"},"troubleshooting")," guide to determine what happened."),(0,r.kt)("h2",{id:"testing-and-development"},"Testing and Development"),(0,r.kt)("p",null,"It is very important that while you are developing your application that you do not serve live ads. ",(0,r.kt)("strong",{parentName:"p"},"This is a requirement of the usage of AdMob and not following this correctly can have your application id blocked from using AdMob.")),(0,r.kt)("p",null,"While in development you should either use the test ad unit ids available or specify your test device id in your ad requests. More information on this is located in the section on ",(0,r.kt)("a",{parentName:"p",href:"test-ads"},"Test Ads")),(0,r.kt)("p",null,"The following Ad Unit IDs can be used to AdMob test banner ads in your application:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Android: ",(0,r.kt)("inlineCode",{parentName:"li"},"ca-app-pub-3940256099942544/6300978111")),(0,r.kt)("li",{parentName:"ul"},"iOS: ",(0,r.kt)("inlineCode",{parentName:"li"},"ca-app-pub-3940256099942544/2934735716"),"\t\t")),(0,r.kt)("h2",{id:"display"},"Display"),(0,r.kt)("p",null,"When you are ready to display your advert you call ",(0,r.kt)("inlineCode",{parentName:"p"},"show()")," as below."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},"adView.show();\n")),(0,r.kt)("p",null,"You don't have to wait for a load complete event to show the ad. However if you want to ensure that something is displayed in the view then we suggest you wait for the ",(0,r.kt)("inlineCode",{parentName:"p"},"LOADED")," event before showing your ad view."),(0,r.kt)("p",null,"You can also remove the ad from the view by calling ",(0,r.kt)("inlineCode",{parentName:"p"},"hide()"),". This is the reverse of the show function and will remove the ad from view, while not unloading the ad."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},"adView.hide();\n")),(0,r.kt)("h2",{id:"view-parameters"},"View Parameters"),(0,r.kt)("p",null,"Changing the view parameters of an advert allows you to reposition the advert to suit your application."),(0,r.kt)("p",null,"The view params are probably best used to align the advert to a particular horizontal and vertical location in your application. For example to align the ad to the bottom left of your application:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},"var params:AdViewParams = new AdViewParams();\nparams.horizontalAlign = AdViewParams.ALIGN_LEFT;\nparams.verticalAlign = AdViewParams.ALIGN_BOTTOM;\n\nadView.setViewParams( params );\n")),(0,r.kt)("p",null,"You can also use the view params to position the adview at a specific location:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},"var params:AdViewParams = new AdViewParams();\nparams.x = 10;\nparams.y = 10;\n\nadView.setViewParams( params );\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Note: Setting an alignment in your view params will override the x,y coordinate")),(0,r.kt)("h2",{id:"advert-size"},"Advert Size"),(0,r.kt)("p",null,"Retrieving the size of the advert allows you to get the pixel size of the displayed Ad."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},'var size:AdSize = adView.getAdSize();\n\ntrace( "pixel width:  " + size.widthInPixels );\ntrace( "pixel height: " + size.heightInPixels );\n')),(0,r.kt)("p",null,"This can be useful if you need to adjust elements of your application to fit around a banner ad."),(0,r.kt)("h2",{id:"events"},"Events"),(0,r.kt)("p",null,"There are several events dispatched by the advert as the user interacts with it:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"AdViewEvent.OPENED"),": dispatched when an ad opens an overlay that covers the screen;"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"AdViewEvent.CLOSED"),": dispatched when a user returns to the app, having closed the interstitial;")),(0,r.kt)("p",null,"At the very least we suggest you should listen for the closed event to know when control returns to your application."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},"adView.addEventListener( AdViewEvent.OPENED, openedHandler );\nadView.addEventListener( AdViewEvent.CLOSED, closedHandler );\n\nadView.show();\n\n\nfunction openedHandler( event:AdViewEvent ):void \n{\n    // The has been opened and presented an overlay visible to the user \n}\n\nfunction closedHandler( event:AdViewEvent ):void \n{\n    // Control has returned to your application\n    // you should reactivate any paused / stopped parts of your application.\n}\n")),(0,r.kt)("h2",{id:"refresh"},"Refresh"),(0,r.kt)("p",null,"You can refresh the ad at any time by triggering another ",(0,r.kt)("inlineCode",{parentName:"p"},"AdRequest")," load:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},"adView.load( new AdRequestBuilder().build() ); \n")),(0,r.kt)("h2",{id:"destroy"},"Destroy"),(0,r.kt)("p",null,"When you are finished with an ",(0,r.kt)("inlineCode",{parentName:"p"},"AdView")," instance you can cleanup any memory consumed by the ad by calling ",(0,r.kt)("inlineCode",{parentName:"p"},"destroy()"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},"adView.destroy();\n")),(0,r.kt)("p",null,"No other methods should be called on the ad view after ",(0,r.kt)("inlineCode",{parentName:"p"},"destroy()")," is called as they will have undefinted results."))}p.isMDXComponent=!0}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[303],{1062:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/offerwall-50ffe5377411818cd63fe63ff55d76b1.png"},358:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return o})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return b}));var r=n(2),a=n(6),l=(n(0),n(824)),i={title:"Offerwall",sidebar_label:"Offerwall"},o={unversionedId:"ironsource/offerwall",id:"ironsource/offerwall",isDocsHomePage:!1,title:"Offerwall",description:"The offerwall is an in-app advertising unit that app developers use to monetize their apps. It acts like a mini-store in an app, listing multiple \u201coffers\u201d that users can complete in exchange for receiving an in-app reward. For example, users can receive extra in-app coins if they choose to register a username, get to level 25 on a game, make an in-app purchase, and more on the offerwall.",source:"@site/docs/ironsource/offerwall.md",slug:"/ironsource/offerwall",permalink:"/docs/ironsource/offerwall",version:"current",sidebar_label:"Offerwall",sidebar:"ironsource",previous:{title:"Banner Ads",permalink:"/docs/ironsource/banner-ads"},next:{title:"Errors",permalink:"/docs/ironsource/errors"}},c=[{value:"Availability",id:"availability",children:[]},{value:"Present the Offerwall",id:"present-the-offerwall",children:[]},{value:"Reward the User",id:"reward-the-user",children:[{value:"Client side",id:"client-side",children:[]},{value:"Server side",id:"server-side",children:[]}]},{value:"Errors",id:"errors",children:[]}],s={rightToc:c};function b(e){var t=e.components,i=Object(a.a)(e,["components"]);return Object(l.b)("wrapper",Object(r.a)({},s,i,{components:t,mdxType:"MDXLayout"}),Object(l.b)("p",null,"The offerwall is an in-app advertising unit that app developers use to monetize their apps. It acts like a mini-store in an app, listing multiple \u201coffers\u201d that users can complete in exchange for receiving an in-app reward. For example, users can receive extra in-app coins if they choose to register a username, get to level 25 on a game, make an in-app purchase, and more on the offerwall."),Object(l.b)("p",null,Object(l.b)("img",{src:n(1062).default})),Object(l.b)("h2",{id:"availability"},"Availability"),Object(l.b)("p",null,"You can check whether the offerwall is currently available at any time by checking the ",Object(l.b)("inlineCode",{parentName:"p"},"isOfferwallAvailable()")," method:"),Object(l.b)("pre",null,Object(l.b)("code",Object(r.a)({parentName:"pre"},{className:"language-actionscript"}),"if (IronSource.instance.isOfferwallAvailable())\n{\n    // Offerwall is available\n}\n")),Object(l.b)("p",null,"You can also listen for the ",Object(l.b)("inlineCode",{parentName:"p"},"OfferwallEvent.AVAILABLE")," to respond to changes in the availability of the offerwall."),Object(l.b)("pre",null,Object(l.b)("code",Object(r.a)({parentName:"pre"},{className:"language-actionscript"}),"IronSource.instance.addEventListener( OfferwallEvent.AVAILABLE, offerwallAvailabilityHandler );\n\nfunction offerwallAvailabilityHandler( event:OfferwallEvent ):void \n{\n    // Offerwall availability has changed\n\n    if (IronSource.instance.isOfferwallAvailable())\n    {\n        // Offerwall is available\n    }\n}\n")),Object(l.b)("h2",{id:"present-the-offerwall"},"Present the Offerwall"),Object(l.b)("p",null,"Once the Offerwall is available you can call ",Object(l.b)("inlineCode",{parentName:"p"},"showOfferwall()")," to present the offerwall to your user (typically done after a user clicks on some in-app button)."),Object(l.b)("pre",null,Object(l.b)("code",Object(r.a)({parentName:"pre"},{className:"language-actionscript"}),"IronSource.instance.showOfferwall();\n")),Object(l.b)("p",null,"You should always check if the offerwall is available before showing and react accordingly:"),Object(l.b)("pre",null,Object(l.b)("code",Object(r.a)({parentName:"pre"},{className:"language-actionscript"}),"if (IronSource.instance.isOfferwallAvailable())\n{\n    IronSource.instance.showOfferwall();\n}\nelse \n{\n    // Inform user feature not available currently\n}\n")),Object(l.b)("p",null,"There are several events associated with the display of the offerwall:"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"OfferwallEvent.OPENED"),": Dispatched when the Offerwall is opened;"),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"OfferwallEvent.CLOSED"),": Dispatched when the Offerwall is closed;"),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"OfferwallEvent.SHOW_FAILED"),": Dispatched if the Offerwall failed to show;")),Object(l.b)("pre",null,Object(l.b)("code",Object(r.a)({parentName:"pre"},{className:"language-actionscript"}),"IronSource.instance.addEventListener( OfferwallEvent.OPENED, openedHandler );\nIronSource.instance.addEventListener( OfferwallEvent.CLOSED, closedHandler );\nIronSource.instance.addEventListener( OfferwallEvent.SHOW_FAILED, errorHandler );\n\nif (IronSource.instance.isOfferwallAvailable())\n{\n    IronSource.instance.showOfferwall();\n}\n\n\nfunction openedHandler( event:OfferwallEvent ):void \n{\n    // Offerwall opened\n}\n\nfunction closedHandler( event:OfferwallEvent ):void \n{\n    // Offerwall closed\n}\n\nfunction errorHandler( event:OfferwallEvent ):void \n{\n    // Check event details for error information\n}\n")),Object(l.b)("h2",{id:"reward-the-user"},"Reward the User"),Object(l.b)("p",null,"There are 2 methods of rewarding your user, using:"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"Client side callbacks;"),Object(l.b)("li",{parentName:"ul"},"Server side callbacks;")),Object(l.b)("h3",{id:"client-side"},"Client side"),Object(l.b)("h4",{id:"proactive-polling"},"Proactive polling"),Object(l.b)("p",null,"You can poll at any time to retrieve the user's total credits and any new credits."),Object(l.b)("p",null,"To do this call the ",Object(l.b)("inlineCode",{parentName:"p"},"getOfferwallCredits()")," function and await the following events:"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"OfferwallEvent.AD_CREDITED"),": Dispatched when the call completes successfully, the event will contain the current user credits;"),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"OfferwallEvent.GETOFFERWALLCREDITS_FAILED"),": Dispatched if there was an error retrieving the user's credits;")),Object(l.b)("pre",null,Object(l.b)("code",Object(r.a)({parentName:"pre"},{className:"language-actionscript"}),'IronSource.instance.addEventListener( OfferwallEvent.AD_CREDITED, adCreditedHandler );\nIronSource.instance.addEventListener( OfferwallEvent.GETOFFERWALLCREDITS_FAILED, errorHandler );\n\nIronSource.instance.getOfferwallCredits();\n\n\nfunction adCreditedHandler( event:OfferwallEvent ):void\n{\n    trace( "  credits=" + event.credits );\n    trace( "  totalCredits=" + event.totalCredits );\n    trace( "  totalCreditsFlag=" + event.totalCreditsFlag );\n}\n\nfunction errorHandler( event:OfferwallEvent ):void\n{\n    // Check event details for error information\n}\n')),Object(l.b)("p",null,"The details retrieved in the event are:"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"credits")," : The number of credits the user has earned since the last ",Object(l.b)("inlineCode",{parentName:"li"},"OfferwallEvent.AD_CREDITED")," event. Note that the ",Object(l.b)("inlineCode",{parentName:"li"},"credits")," may represent multiple completions;"),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"totalCredits")," : The total number of credits ever earned by the user;"),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"totalCreditsFlag")," :  In some cases, we won\u2019t be able to provide the exact amount of credits since the last event (specifically if the user clears the app\u2019s data). In this case the ",Object(l.b)("inlineCode",{parentName:"li"},"credits")," will be equal to the ",Object(l.b)("inlineCode",{parentName:"li"},"totalCredits"),", and this flag will be ",Object(l.b)("inlineCode",{parentName:"li"},"true"),";")),Object(l.b)("h4",{id:"automatic-events"},"Automatic Events"),Object(l.b)("p",null,"You can also enable automatic client side events by calling ",Object(l.b)("inlineCode",{parentName:"p"},"setIronSourceClientSideCallbacks( true )")," before you initialise the IronSource SDK."),Object(l.b)("p",null,"Setting automatic client-side callbacks will make sure that you\u2019re notified about the user\u2019s credit status at specific points in the Offerwall\u2019s lifecycle."),Object(l.b)("pre",null,Object(l.b)("code",Object(r.a)({parentName:"pre"},{className:"language-actionscript"}),"IronSource.instance.setIronSourceClientSideCallbacks(true);\n\nIronSource.instance.init( ... );\n")),Object(l.b)("blockquote",null,Object(l.b)("p",{parentName:"blockquote"},Object(l.b)("strong",{parentName:"p"},"Important! This code MUST be implemented before calling the init."))),Object(l.b)("p",null,"Using this method the ",Object(l.b)("inlineCode",{parentName:"p"},"OfferwallEvent.AD_CREDITED")," will be dispatched automatically as part of the offerwall lifecycle."),Object(l.b)("h3",{id:"server-side"},"Server side"),Object(l.b)("p",null,"See the ironSource documentation for details on server side callbacks and rewarding users."),Object(l.b)("p",null,"If you turn on server-to-server callbacks in addition to the client-side callbacks, remember not to reward the user more than once for the same completion. ironSource will fire both the client-side callback and the server-to-server callback. You will get two notifications for each completion."),Object(l.b)("h2",{id:"errors"},"Errors"),Object(l.b)("p",null,"See the complete description of the ironSource errors ",Object(l.b)("a",Object(r.a)({parentName:"p"},{href:"errors"}),"here"),"."))}b.isMDXComponent=!0},824:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return p}));var r=n(0),a=n.n(r);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=a.a.createContext({}),b=function(e){var t=a.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},f=function(e){var t=b(e.components);return a.a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},d=a.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,i=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),f=b(n),d=r,p=f["".concat(i,".").concat(d)]||f[d]||u[d]||l;return n?a.a.createElement(p,o(o({ref:t},s),{},{components:n})):a.a.createElement(p,o({ref:t},s))}));function p(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,i=new Array(l);i[0]=d;var o={};for(var c in t)hasOwnProperty.call(t,c)&&(o[c]=t[c]);o.originalType=e,o.mdxType="string"==typeof e?e:r,i[1]=o;for(var s=2;s<l;s++)i[s]=n[s];return a.a.createElement.apply(null,i)}return a.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"}}]);
<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<link rel="alternate" type="application/rss+xml" href="/news/rss.xml" title="air native extensions RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/news/atom.xml" title="air native extensions Atom Feed">
<link rel="alternate" type="application/json" href="/news/feed.json" title="air native extensions JSON Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-188619114-3","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="air native extensions" href="/opensearch.xml"><title data-react-helmet="true">Database - Lists | air native extensions</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:image" content="https://docs.airnativeextensions.com/img/ane-icon-black.png"><meta data-react-helmet="true" name="twitter:image" content="https://docs.airnativeextensions.com/img/ane-icon-black.png"><meta data-react-helmet="true" property="og:url" content="https://docs.airnativeextensions.com/docs/firebase/database/lists"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Database - Lists | air native extensions"><meta data-react-helmet="true" name="description" content="Working with Lists of Data"><meta data-react-helmet="true" property="og:description" content="Working with Lists of Data"><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.airnativeextensions.com/docs/firebase/database/lists"><link data-react-helmet="true" rel="alternate" href="https://docs.airnativeextensions.com/docs/firebase/database/lists" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.airnativeextensions.com/docs/firebase/database/lists" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://WGX2M70X7C-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.656b5f46.css">
<link rel="preload" href="/assets/js/runtime~main.8bad6706.js" as="script">
<link rel="preload" href="/assets/js/main.e104e867.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/ane-icon-black.png" alt="AIR Native Extensions" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/ane-icon-white.png" alt="AIR Native Extensions" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">AIR Native Extensions</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a class="navbar__item navbar__link" href="/news/">News</a></div><div class="navbar__items navbar__items--right"><div class="toggle_Pssr toggle_TdHA toggleDisabled_jDku"><div class="toggleTrack_SSoT" role="button" tabindex="-1"><div class="toggleTrackCheck_XobZ"><span class="toggleIcon_eZtF"> </span></div><div class="toggleTrackX_YkSC"><span class="toggleIcon_eZtF"> </span></div><div class="toggleTrackThumb_uRm4"></div></div><input type="checkbox" class="toggleScreenReader_JnkT" aria-label="Switch between dark and light mode"></div><div class="searchBox_qEbK"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/">Home</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/firebase/">Firebase</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/firebase/setup/create-a-firebase-project">Setup Firebase for your application</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/firebase/core/introduction">Core / Analytics</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_VCh3" aria-current="page" href="/docs/firebase/auth/introduction">Develop</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" tabindex="0" href="/docs/firebase/auth/introduction">Authentication</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_VCh3" aria-current="page" tabindex="0" href="/docs/firebase/database/introduction">Realtime Database</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/firebase/database/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/firebase/database/add-the-extensions">Add the extensions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/firebase/database/initialise">Initialise</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/firebase/database/configure-database-rules">Configure Database Rules</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_VCh3" aria-current="page" tabindex="0" href="/docs/firebase/database/write-data">Read and Write Data</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/firebase/database/write-data">Write Data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/firebase/database/read-data-and-change-events">Read Data and Change Events</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/firebase/database/delete-data">Delete Data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/firebase/database/transactions">Transactions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/firebase/database/lists">Lists</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" tabindex="0" href="/docs/firebase/database/offline">Offline</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" tabindex="0" href="/docs/firebase/firestore/introduction">Cloud Firestore</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" tabindex="0" href="/docs/firebase/storage/introduction">Storage</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/firebase/crashlytics/introduction">Quality</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" tabindex="0" href="/docs/firebase/crashlytics/introduction">Crashlytics</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" tabindex="0" href="/docs/firebase/performance/introduction">Performance Monitoring</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/firebase/fcm/introduction">Grow</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" tabindex="0" href="/docs/firebase/fcm/introduction">Cloud Messaging</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" tabindex="0" href="/docs/firebase/remoteconfig/introduction">Remote Config</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" tabindex="0" href="/docs/firebase/dynamiclinks/introduction">Dynamic Links</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/firebase/migrating-to-v6">Migration Guides</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://console.firebase.google.com/" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist hasHref_VCh3">Other</a></div></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Database - Lists</h1></header><h2 class="anchor anchorWithStickyNavbar_mojV" id="working-with-lists-of-data">Working with Lists of Data<a class="hash-link" href="#working-with-lists-of-data" title="Direct link to heading">​</a></h2><p>The following covers working with lists of data, including pushing values,
child events, and, sorting and filtering the data.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="get-a-databasereference">Get a DatabaseReference<a class="hash-link" href="#get-a-databasereference" title="Direct link to heading">​</a></h3><p>To read and write data from the database, you need an instance of <code>DatabaseReference</code>:</p><div class="codeBlockContainer_I0IT language-actionscript theme-code-block"><div class="codeBlockContent_wNvx actionscript"><pre tabindex="0" class="prism-code language-actionscript codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">var ref:DatabaseReference = FirebaseDatabase.service.getReference( &quot;list&quot; );</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="read-and-write-lists">Read and Write Lists<a class="hash-link" href="#read-and-write-lists" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="append-to-a-list-of-data">Append to a list of data<a class="hash-link" href="#append-to-a-list-of-data" title="Direct link to heading">​</a></h3><p>Use the <code>push()</code> method to append data to a list in multiuser applications.
The <code>push()</code> method generates a unique key every time a new child is added
to the specified Firebase reference. By using these auto-generated keys for
each new element in the list, several clients can add children to the same
location at the same time without write conflicts. The unique key generated
by <code>push()</code> is based on a timestamp, so list items are automatically ordered
chronologically.</p><p>You can use the reference to the new data returned by the <code>push()</code> method to
get the value of the child&#x27;s auto-generated key or set data for the child.
Calling <code>getKey()</code> on a <code>push()</code> reference returns the value of the
auto-generated key.</p><div class="codeBlockContainer_I0IT language-actionscript theme-code-block"><div class="codeBlockContent_wNvx actionscript"><pre tabindex="0" class="prism-code language-actionscript codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">var ref:DatabaseReference = FirebaseDatabase.service.getReference( &quot;list&quot; );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var item:DatabaseReference = ref.push();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">item.child(&quot;name&quot;).setValue( &quot;a pushed item&quot; );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">item.child(&quot;count&quot;).setValue( 100 );</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="listen-for-child-events">Listen for child events<a class="hash-link" href="#listen-for-child-events" title="Direct link to heading">​</a></h3><p>When working with lists, your application should listen for child events
rather than the value events used for single objects.</p><p>Child events are triggered in response to specific operations that happen
to the children of a node from an operation such as a new child added through
the <code>push()</code> method or a child being updated through the <code>updateChildren()</code>
method. Each of these together can be useful for listening to changes to a
specific node in a database.</p><p>The child events are defined in the <code>DatabaseReferenceChildEvent</code> class:</p><ul><li><code>CHILD_ADDED</code>: Retrieve lists of items or listen for additions to a list of items</li><li><code>CHILD_CHANGED</code>: Listen for changes to the items in a list</li><li><code>CHILD_REMOVED</code>: Listen for items being removed from a list</li><li><code>CHILD_MOVED</code>: Listen for changes to the order of items in an ordered list</li><li><code>ERROR</code>: Errors occurring with child operations</li></ul><p>These events will contain the static (immutable) snapshot at the child location
and it&#x27;s position in the list or information about the error.</p><p>For example:</p><div class="codeBlockContainer_I0IT language-actionscript theme-code-block"><div class="codeBlockContent_wNvx actionscript"><pre tabindex="0" class="prism-code language-actionscript codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">var ref:DatabaseReference = FirebaseDatabase.service.getReference( &quot;list&quot; );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ref.addEventListener( DatabaseReferenceChildEvent.CHILD_ADDED, childAddedHandler );</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><div class="codeBlockContainer_I0IT language-actionscript theme-code-block"><div class="codeBlockContent_wNvx actionscript"><pre tabindex="0" class="prism-code language-actionscript codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">private function childAddedHandler( event:DatabaseReferenceChildEvent ):void</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    trace( &quot;child added::&quot;+event.snapshot.key +&quot;::&quot;+event.previousChildName );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="listen-for-value-events">Listen for value events<a class="hash-link" href="#listen-for-value-events" title="Direct link to heading">​</a></h3><p>While using a listening for child events  is the recommended way to read lists
of data, there are situations where attaching a value listener to a list reference
is useful.</p><p>Attaching a <code>DatabaseReferenceEvent.VALUE_CHANGED</code> event listener to a list of
data will return the entire list of data as a single DataSnapshot, which you can
then loop over to access individual children</p><p>Even when there is only a single match for the query, the snapshot is still a list;
it just contains a single item. To access the item, you need to loop over the result:</p><p>For example: </p><div class="codeBlockContainer_I0IT language-actionscript theme-code-block"><div class="codeBlockContent_wNvx actionscript"><pre tabindex="0" class="prism-code language-actionscript codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">var ref:DatabaseReference = FirebaseDatabase.service.getReference( &quot;list&quot; );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ref.addEventListener( DatabaseReferenceEvent.VALUE_CHANGED, valueChangedHandler );</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><div class="codeBlockContainer_I0IT language-actionscript theme-code-block"><div class="codeBlockContent_wNvx actionscript"><pre tabindex="0" class="prism-code language-actionscript codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">private function valueChangedHandler( event:DatabaseReferenceEvent ):void</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    trace( &quot;child added::&quot;+event.snapshot.key );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    for each (var child:DataSnapshot in event.snapshot.children)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        trace( JSON.stringify( child.value ));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>This pattern can be useful when you want to fetch all children of a list in a
single operation, rather than listening for additional child events.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="sorting-and-filtering-data">Sorting and filtering data<a class="hash-link" href="#sorting-and-filtering-data" title="Direct link to heading">​</a></h2><p>You can use the Realtime Database Query class to retrieve data sorted by key,
by value, or by value of a child. You can also filter the sorted result to a
specific number of results or a range of keys or values.</p><blockquote><p>Note: Filtering and sorting can be expensive, especially when done on the client.
If your app uses queries, define the .indexOn rule to index those keys on the
server and improve query performance as described in
<a href="https://firebase.google.com/docs/database/security/indexing-data" target="_blank" rel="noopener noreferrer">Indexing Your Data</a>.</p></blockquote><h3 class="anchor anchorWithStickyNavbar_mojV" id="sort-data">Sort data<a class="hash-link" href="#sort-data" title="Direct link to heading">​</a></h3><p>To retrieve sorted data, start by specifying one of the order-by methods to
determine how results are ordered:</p><table><thead><tr><th>Method</th><th>Usage</th></tr></thead><tbody><tr><td><code>orderByChild()</code></td><td>Order results by the value of a specified child key.</td></tr><tr><td><code>orderByKey()</code></td><td>Order results by child keys.</td></tr><tr><td><code>orderByValue()</code></td><td>Order results by child values.</td></tr></tbody></table><p>You can only use one order-by method at a time. Calling an order-by method multiple times in the same query throws an error.</p><p>The following example demonstrates how you could retrieve a list sorted by their count:</p><div class="codeBlockContainer_I0IT language-actionscript theme-code-block"><div class="codeBlockContent_wNvx actionscript"><pre tabindex="0" class="prism-code language-actionscript codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">_query = FirebaseDatabase.service.getReference( &quot;list&quot; ).orderByChild( &quot;count&quot; );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_query.addEventListener( DatabaseReferenceChildEvent.CHILD_ADDED, query_childAddedHandler );</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Then in your handler, use <code>event.snapshot</code> to access data:</p><div class="codeBlockContainer_I0IT language-actionscript theme-code-block"><div class="codeBlockContent_wNvx actionscript"><pre tabindex="0" class="prism-code language-actionscript codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">private function query_childAddedHandler( event:DatabaseReferenceChildEvent ):void </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Query result child added, trace out data value key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    trace( JSON.stringify( event.snapshot.value ) );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>This defines a query that when combined with a child listener synchronizes the client
with the data from the &quot;list&quot; path in the database, ordered by the number of &quot;count&quot;
each item has. </p><p>The call to the <code>orderByChild()</code> method specifies the child key to order the results by.
In this case, data is sorted by the value of the <code>count</code> child in each post.
For more information on how other data types are ordered, see
<a href="https://firebase.google.com/docs/database/android/lists-of-data#data-order" target="_blank" rel="noopener noreferrer">How query data is ordered</a>.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="filtering-data">Filtering data<a class="hash-link" href="#filtering-data" title="Direct link to heading">​</a></h3><p>To filter data, you can combine any of the limit or range methods with an order-by method when constructing a query.</p><table><thead><tr><th>Method</th><th>Usage</th></tr></thead><tbody><tr><td><code>limitToFirst()</code></td><td>Sets the maximum number of items to return from the beginning of the ordered list of results.</td></tr><tr><td><code>limitToLast()</code></td><td>Sets the maximum number of items to return from the end of the ordered list of results.</td></tr><tr><td><code>startAt()</code></td><td>Return items greater than or equal to the specified key or value depending on the order-by method chosen.</td></tr><tr><td><code>endAt()</code></td><td>Return items less than or equal to the specified key or value depending on the order-by method chosen.</td></tr><tr><td><code>equalTo()</code></td><td>Return items equal to the specified key or value depending on the order-by method chosen.</td></tr></tbody></table><p>Unlike the order-by methods, you can combine multiple limit or range functions.
For example, you can combine the startAt() and endAt() methods to limit the results
to a specified range of values.</p><p>Even when there is only a single match for the query, the snapshot is still a list;
it just contains a single item. To access the item, you need to loop over the result:</p><div class="codeBlockContainer_I0IT language-actionscript theme-code-block"><div class="codeBlockContent_wNvx actionscript"><pre tabindex="0" class="prism-code language-actionscript codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">private function query_valueChangedHandler( event:DatabaseReferenceEvent ):void</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    for each (var child:DataSnapshot in event.snapshot.children)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        trace( JSON.stringify( child.value ));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="limit-the-number-of-results">Limit the number of results<a class="hash-link" href="#limit-the-number-of-results" title="Direct link to heading">​</a></h4><p>You can use the <code>limitToFirst()</code> and <code>limitToLast()</code> methods to set a maximum
number of children to be synced for a given callback. For example, if you use
<code>limitToFirst()</code> to set a limit of <code>100</code>, you initially only receive up to <code>100</code>
<code>CHILD_ADDED</code> events. </p><p>If you have fewer than <code>100</code> items stored in your Firebase database, a
<code>CHILD_ADDED</code> event is dispatched for each item.</p><p>As items change, you receive <code>CHILD_ADDED</code> events for items that enter the
query and <code>CHILD_REMOVED</code> events for items that drop out of it so that the
total number stays at 100.</p><p>For example, the following demonstrates how to define a query to retrieve a
list of the 100 most recent &quot;list&quot; items: </p><div class="codeBlockContainer_I0IT language-actionscript theme-code-block"><div class="codeBlockContent_wNvx actionscript"><pre tabindex="0" class="prism-code language-actionscript codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">var query:Query = FirebaseDatabase.service.getReference( &quot;list&quot; ).limitToFirst(100);</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="filter-by-key-or-value">Filter by key or value<a class="hash-link" href="#filter-by-key-or-value" title="Direct link to heading">​</a></h4><p>You can use startAt(), endAt(), and equalTo() to choose arbitrary starting,
ending, and equivalence points for queries. This can be useful for paginating
data or finding items with children that have a specific value.</p><p>For example, we can find all values in our &quot;list&quot; that have a &quot;count&quot; greater than
600:</p><div class="codeBlockContainer_I0IT language-actionscript theme-code-block"><div class="codeBlockContent_wNvx actionscript"><pre tabindex="0" class="prism-code language-actionscript codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">var query:Query = FirebaseDatabase.service.getReference( &quot;list&quot; ).startAt( 600, &quot;count&quot; );</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="how-query-data-is-ordered">How query data is ordered<a class="hash-link" href="#how-query-data-is-ordered" title="Direct link to heading">​</a></h3><blockquote><p>This section explains how data is sorted by each of the order-by methods in the Query class.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="orderbychild">orderByChild<a class="hash-link" href="#orderbychild" title="Direct link to heading">​</a></h4><p>When using <code>orderByChild()</code>, data that contains the specified child key is ordered as follows:</p><ul><li>Children with a <code>null</code> value for the specified child key come first.</li><li>Children with a value of <code>false</code> for the specified child key come next. If multiple children have a value of <code>false</code>, they are sorted <a href="http://en.wikipedia.org/wiki/Lexicographical_order" target="_blank" rel="noopener noreferrer">lexicographically</a> by key.</li><li>Children with a value of <code>true</code> for the specified child key come next. If multiple children have a value of <code>true</code>, they are sorted lexicographically by key.</li><li>Children with a numeric value come next, sorted in ascending order. If multiple children have the same numerical value for the specified child node, they are sorted by key.</li><li>Strings come after numbers and are sorted lexicographically in ascending order. If multiple children have the same value for the specified child node, they are ordered lexicographically by key.</li><li>Objects come last and are sorted lexicographically by key in ascending order.</li></ul><h4 class="anchor anchorWithStickyNavbar_mojV" id="orderbykey">orderByKey<a class="hash-link" href="#orderbykey" title="Direct link to heading">​</a></h4><p>When using <code>orderByKey()</code> to sort your data, data is returned in ascending order by key.</p><ul><li>Children with a key that can be parsed as a 32-bit integer come first, sorios/read-and-write#listen_for_value_eventsted in ascending order.</li><li>Children with a string value as their key come next, sorted lexicographically in ascending order.</li></ul><h4 class="anchor anchorWithStickyNavbar_mojV" id="orderbyvalue">orderByValue<a class="hash-link" href="#orderbyvalue" title="Direct link to heading">​</a></h4><p>When using <code>orderByValue()</code>, children are ordered by their value. The ordering criteria
are the same as in <code>orderByChild()</code>, except the value of the node is used instead of the
value of a specified child key.</p></blockquote></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/firebase/database/transactions"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Transactions</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/firebase/database/offline"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Offline</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#working-with-lists-of-data" class="table-of-contents__link toc-highlight">Working with Lists of Data</a><ul><li><a href="#get-a-databasereference" class="table-of-contents__link toc-highlight">Get a DatabaseReference</a></li></ul></li><li><a href="#read-and-write-lists" class="table-of-contents__link toc-highlight">Read and Write Lists</a><ul><li><a href="#append-to-a-list-of-data" class="table-of-contents__link toc-highlight">Append to a list of data</a></li><li><a href="#listen-for-child-events" class="table-of-contents__link toc-highlight">Listen for child events</a></li><li><a href="#listen-for-value-events" class="table-of-contents__link toc-highlight">Listen for value events</a></li></ul></li><li><a href="#sorting-and-filtering-data" class="table-of-contents__link toc-highlight">Sorting and filtering data</a><ul><li><a href="#sort-data" class="table-of-contents__link toc-highlight">Sort data</a></li><li><a href="#filtering-data" class="table-of-contents__link toc-highlight">Filtering data</a></li><li><a href="#how-query-data-is-ordered" class="table-of-contents__link toc-highlight">How query data is ordered</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/tutorials/">tutorials</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/distriqt" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/Gamua/Adobe-Runtime-Support/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>AIR discussions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://forum.starling-framework.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>starling<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/distriqt" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>stack overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/news">news</a></li><li class="footer__item"><a href="https://airnativeextensions.com/privacy" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>privacy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://airnativeextensions.com/license" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>license<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright"><br><a href="https://airnativeextensions.com">airnativeextensions.com</a> copyright © 2022 <br><br><a href="https://distriqt.com"><img src="/img/logo.png" alt="distriqt"></a></div></div></div></footer></div>
<script src="/assets/js/runtime~main.8bad6706.js"></script>
<script src="/assets/js/main.e104e867.js"></script>
</body>
</html>
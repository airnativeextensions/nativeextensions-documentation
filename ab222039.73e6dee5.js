(window.webpackJsonp=window.webpackJsonp||[]).push([[502],{557:function(e,n,i){"use strict";i.r(n),i.d(n,"frontMatter",(function(){return t})),i.d(n,"metadata",(function(){return d})),i.d(n,"rightToc",(function(){return c})),i.d(n,"default",(function(){return l}));var a=i(2),r=i(6),o=(i(0),i(824)),t={title:"OneSignal - Migrating to v10.2",sidebar_label:"Migrating to v10.2"},d={unversionedId:"pushnotifications/onesignal/migrating-to-v10.2",id:"pushnotifications/onesignal/migrating-to-v10.2",isDocsHomePage:!1,title:"OneSignal - Migrating to v10.2",description:"v10.2 brings the latest release of OneSignal:",source:"@site/docs/pushnotifications/onesignal/migrating-to-v10.2.md",slug:"/pushnotifications/onesignal/migrating-to-v10.2",permalink:"/docs/pushnotifications/onesignal/migrating-to-v10.2",version:"current",sidebar_label:"Migrating to v10.2"},c=[{value:"Update Dependencies",id:"update-dependencies",children:[]},{value:"Update Manifest Additions",id:"update-manifest-additions",children:[]}],s={rightToc:c};function l(e){var n=e.components,i=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},s,i,{components:n,mdxType:"MDXLayout"}),Object(o.b)("p",null,"v10.2 brings the latest release of OneSignal:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Android v4.1.0"),Object(o.b)("li",{parentName:"ul"},"iOS v3.1.1")),Object(o.b)("p",null,"We have managed to hide any implementation changes within the native code however there are some major changes to the dependencies and to the manifest additions. "),Object(o.b)("h2",{id:"update-dependencies"},"Update Dependencies"),Object(o.b)("p",null,"You need to ensure you have the following extensions in your application. There are several new extensions included here, and please ensure you have updated all the dependencies to the same releases:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"com.distriqt.Core")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"com.distriqt.playservices.Base")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"com.distriqt.playservices.AdsIdentifier")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"com.distriqt.playservices.CloudMessaging")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"com.google.firebase.core")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"com.google.android.datatransport")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"com.google.dagger")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"com.google.guava")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"androidx.appcompat")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"androidx.browser")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"androidx.cardview")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"androidx.core")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"androidx.recyclerview")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"androidx.room")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"androidx.vectordrawable")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"androidx.work")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"com.jetbrains.kotlin"))),Object(o.b)("p",null,"See ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"onesignal#required-anes"}),"Add Required ANEs")," for more information."),Object(o.b)("h2",{id:"update-manifest-additions"},"Update Manifest Additions"),Object(o.b)("p",null,"We suggest removing any OneSignal references in your manifest and adding the following. The changes have been significant! "),Object(o.b)("p",null,"You must replace ",Object(o.b)("inlineCode",{parentName:"p"},"APPLICATION_PACKAGE")," with your AIR application's Java package name, something like ",Object(o.b)("inlineCode",{parentName:"p"},"air.com.distriqt.test"),"."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-xml"}),'        \x3c!-- ONE SIGNAL --\x3e\n        <meta-data android:name="com.onesignal.NotificationServiceExtension" android:value="com.distriqt.extension.pushnotifications.onesignal.NotificationServiceExtension" />\n\n        <receiver\n            android:name="com.onesignal.FCMBroadcastReceiver"\n            android:permission="com.google.android.c2dm.permission.SEND" >\n\n            \x3c!-- High priority so OneSignal payloads can be filtered from other FCM receivers --\x3e\n            <intent-filter android:priority="999" >\n                <action android:name="com.google.android.c2dm.intent.RECEIVE" />\n                <category android:name="APPLICATION_PACKAGE" />\n            </intent-filter>\n        </receiver>\n\n        <service\n            android:name="com.onesignal.HmsMessageServiceOneSignal"\n            android:exported="false" >\n            <intent-filter>\n                <action android:name="com.huawei.push.action.MESSAGING_EVENT" />\n            </intent-filter>\n        </service>\n\n        <activity\n            android:name="com.onesignal.NotificationOpenedActivityHMS"\n            android:noHistory="true"\n            android:theme="@android:style/Theme.Translucent.NoTitleBar" >\n            <intent-filter>\n                <action android:name="android.intent.action.VIEW" />\n            </intent-filter>\n        </activity>\n\n        <service android:name="com.onesignal.FCMIntentService" />\n        <service\n            android:name="com.onesignal.FCMIntentJobService"\n            android:permission="android.permission.BIND_JOB_SERVICE" />\n        <service\n            android:name="com.onesignal.FocusDelaySyncService"\n            android:stopWithTask="true" />\n        <service\n            android:name="com.onesignal.FocusDelaySyncJobService"\n            android:permission="android.permission.BIND_JOB_SERVICE" />\n        <service\n            android:name="com.onesignal.SyncService"\n            android:stopWithTask="true" />\n        <service\n            android:name="com.onesignal.SyncJobService"\n            android:permission="android.permission.BIND_JOB_SERVICE" />\n\n        <activity\n            android:name="com.onesignal.PermissionsActivity"\n            android:theme="@android:style/Theme.Translucent.NoTitleBar" />\n\n        <receiver android:name="com.onesignal.NotificationDismissReceiver" />\n        <receiver android:name="com.onesignal.BootUpReceiver" >\n            <intent-filter>\n                <action android:name="android.intent.action.BOOT_COMPLETED" />\n                <action android:name="android.intent.action.QUICKBOOT_POWERON" />\n            </intent-filter>\n        </receiver>\n        <receiver android:name="com.onesignal.UpgradeReceiver" >\n            <intent-filter>\n                <action android:name="android.intent.action.MY_PACKAGE_REPLACED" />\n            </intent-filter>\n        </receiver>\n\n        <activity\n            android:name="com.onesignal.NotificationOpenedReceiver"\n            android:noHistory="true"\n            android:theme="@android:style/Theme.Translucent.NoTitleBar" />\n\n        \x3c!--\n                FirebaseMessagingService performs security checks at runtime,\n                but set to not exported to explicitly avoid allowing another app to call it.\n        --\x3e\n        <service\n            android:name="com.google.firebase.messaging.FirebaseMessagingService"\n            android:exported="false" >\n            <intent-filter android:priority="-500" >\n                <action android:name="com.google.firebase.MESSAGING_EVENT" />\n            </intent-filter>\n        </service>\n\n\n        \x3c!-- FIREBASE CORE --\x3e\n        \x3c!-- common --\x3e\n        <service\n            android:name="com.google.firebase.components.ComponentDiscoveryService"\n            android:directBootAware="true"\n            android:exported="false" >\n            <meta-data\n                android:name="com.google.firebase.components:com.google.firebase.installations.FirebaseInstallationsRegistrar"\n                android:value="com.google.firebase.components.ComponentRegistrar" />\n            <meta-data\n                android:name="com.google.firebase.components:com.google.firebase.iid.Registrar"\n                android:value="com.google.firebase.components.ComponentRegistrar" />\n            <meta-data\n                android:name="com.google.firebase.components:com.google.firebase.messaging.FirebaseMessagingRegistrar"\n                android:value="com.google.firebase.components.ComponentRegistrar" />\n            <meta-data\n                android:name="com.google.firebase.components:com.google.firebase.datatransport.TransportRegistrar"\n                android:value="com.google.firebase.components.ComponentRegistrar" />\n        </service>\n        <provider\n            android:name="com.google.firebase.provider.FirebaseInitProvider"\n            android:authorities="APPLICATION_PACKAGE.firebaseinitprovider"\n            android:exported="false"\n            android:initOrder="100" />\n\n\n        \x3c!-- iid --\x3e\n        <receiver\n            android:name="com.google.firebase.iid.FirebaseInstanceIdReceiver"\n            android:exported="true"\n            android:permission="com.google.android.c2dm.permission.SEND" >\n            <intent-filter>\n                <action android:name="com.google.android.c2dm.intent.RECEIVE" />\n            </intent-filter>\n        </receiver>\n\n\n        \x3c!-- androidx.work --\x3e\n        <provider\n            android:name="androidx.work.impl.WorkManagerInitializer"\n            android:authorities="APPLICATION_PACKAGE.workmanager-init"\n            android:directBootAware="false"\n            android:exported="false"\n            android:multiprocess="true" />\n\n        <service\n            android:name="androidx.work.impl.background.systemalarm.SystemAlarmService"\n            android:directBootAware="false"\n            android:enabled="@bool/enable_system_alarm_service_default"\n            android:exported="false" />\n        <service\n            android:name="androidx.work.impl.background.systemjob.SystemJobService"\n            android:directBootAware="false"\n            android:enabled="@bool/enable_system_job_service_default"\n            android:exported="true"\n            android:permission="android.permission.BIND_JOB_SERVICE" />\n        <service\n            android:name="androidx.work.impl.foreground.SystemForegroundService"\n            android:directBootAware="false"\n            android:enabled="@bool/enable_system_foreground_service_default"\n            android:exported="false" />\n\n        <receiver\n            android:name="androidx.work.impl.utils.ForceStopRunnable$BroadcastReceiver"\n            android:directBootAware="false"\n            android:enabled="true"\n            android:exported="false" />\n        <receiver\n            android:name="androidx.work.impl.background.systemalarm.ConstraintProxy$BatteryChargingProxy"\n            android:directBootAware="false"\n            android:enabled="false"\n            android:exported="false" >\n            <intent-filter>\n                <action android:name="android.intent.action.ACTION_POWER_CONNECTED" />\n                <action android:name="android.intent.action.ACTION_POWER_DISCONNECTED" />\n            </intent-filter>\n        </receiver>\n        <receiver\n            android:name="androidx.work.impl.background.systemalarm.ConstraintProxy$BatteryNotLowProxy"\n            android:directBootAware="false"\n            android:enabled="false"\n            android:exported="false" >\n            <intent-filter>\n                <action android:name="android.intent.action.BATTERY_OKAY" />\n                <action android:name="android.intent.action.BATTERY_LOW" />\n            </intent-filter>\n        </receiver>\n        <receiver\n            android:name="androidx.work.impl.background.systemalarm.ConstraintProxy$StorageNotLowProxy"\n            android:directBootAware="false"\n            android:enabled="false"\n            android:exported="false" >\n            <intent-filter>\n                <action android:name="android.intent.action.DEVICE_STORAGE_LOW" />\n                <action android:name="android.intent.action.DEVICE_STORAGE_OK" />\n            </intent-filter>\n        </receiver>\n        <receiver\n            android:name="androidx.work.impl.background.systemalarm.ConstraintProxy$NetworkStateProxy"\n            android:directBootAware="false"\n            android:enabled="false"\n            android:exported="false" >\n            <intent-filter>\n                <action android:name="android.net.conn.CONNECTIVITY_CHANGE" />\n            </intent-filter>\n        </receiver>\n        <receiver\n            android:name="androidx.work.impl.background.systemalarm.RescheduleReceiver"\n            android:directBootAware="false"\n            android:enabled="false"\n            android:exported="false" >\n            <intent-filter>\n                <action android:name="android.intent.action.BOOT_COMPLETED" />\n                <action android:name="android.intent.action.TIME_SET" />\n                <action android:name="android.intent.action.TIMEZONE_CHANGED" />\n            </intent-filter>\n        </receiver>\n        <receiver\n            android:name="androidx.work.impl.background.systemalarm.ConstraintProxyUpdateReceiver"\n            android:directBootAware="false"\n            android:enabled="@bool/enable_system_alarm_service_default"\n            android:exported="false" >\n            <intent-filter>\n                <action android:name="androidx.work.impl.background.systemalarm.UpdateProxies" />\n            </intent-filter>\n        </receiver>\n        <receiver\n            android:name="androidx.work.impl.diagnostics.DiagnosticsReceiver"\n            android:directBootAware="false"\n            android:enabled="true"\n            android:exported="true"\n            android:permission="android.permission.DUMP" >\n            <intent-filter>\n                <action android:name="androidx.work.diagnostics.REQUEST_DIAGNOSTICS" />\n            </intent-filter>\n        </receiver>\n\n        \x3c!-- com.google.android.datatransport --\x3e\n        <service\n            android:name="com.google.android.datatransport.runtime.backends.TransportBackendDiscovery"\n            android:exported="false" >\n            <meta-data\n                android:name="backend:com.google.android.datatransport.cct.CctBackendFactory"\n                android:value="cct" />\n        </service>\n        <service\n            android:name="com.google.android.datatransport.runtime.scheduling.jobscheduling.JobInfoSchedulerService"\n            android:exported="false"\n            android:permission="android.permission.BIND_JOB_SERVICE" >\n        </service>\n\n        <receiver\n            android:name="com.google.android.datatransport.runtime.scheduling.jobscheduling.AlarmManagerSchedulerBroadcastReceiver"\n            android:exported="false" />\n\n        <service\n            android:name="androidx.room.MultiInstanceInvalidationService"\n            android:directBootAware="true"\n            android:exported="false" />\n')),Object(o.b)("p",null,"For more information see the detail in the ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"onesignal#manifest-additions"}),"Manifest Additions")," section."))}l.isMDXComponent=!0},824:function(e,n,i){"use strict";i.d(n,"a",(function(){return m})),i.d(n,"b",(function(){return g}));var a=i(0),r=i.n(a);function o(e,n,i){return n in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e}function t(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,a)}return i}function d(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?t(Object(i),!0).forEach((function(n){o(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}function c(e,n){if(null==e)return{};var i,a,r=function(e,n){if(null==e)return{};var i,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)i=o[a],n.indexOf(i)>=0||(r[i]=e[i]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)i=o[a],n.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}var s=r.a.createContext({}),l=function(e){var n=r.a.useContext(s),i=n;return e&&(i="function"==typeof e?e(n):d(d({},n),e)),i},m=function(e){var n=l(e.components);return r.a.createElement(s.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return r.a.createElement(r.a.Fragment,{},n)}},b=r.a.forwardRef((function(e,n){var i=e.components,a=e.mdxType,o=e.originalType,t=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),m=l(i),b=a,g=m["".concat(t,".").concat(b)]||m[b]||p[b]||o;return i?r.a.createElement(g,d(d({ref:n},s),{},{components:i})):r.a.createElement(g,d({ref:n},s))}));function g(e,n){var i=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var o=i.length,t=new Array(o);t[0]=b;var d={};for(var c in n)hasOwnProperty.call(n,c)&&(d[c]=n[c]);d.originalType=e,d.mdxType="string"==typeof e?e:a,t[1]=d;for(var s=2;s<o;s++)t[s]=i[s];return r.a.createElement.apply(null,t)}return r.a.createElement.apply(null,i)}b.displayName="MDXCreateElement"}}]);
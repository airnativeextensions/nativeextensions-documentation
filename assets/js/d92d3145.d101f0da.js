(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[76173],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return u},kt:function(){return m}});var i=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=i.createContext({}),d=function(e){var t=i.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},u=function(e){var t=d(e.components);return i.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},c=i.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),c=d(n),m=o,h=c["".concat(l,".").concat(m)]||c[m]||p[m]||r;return n?i.createElement(h,a(a({ref:t},u),{},{components:n})):i.createElement(h,a({ref:t},u))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,a=new Array(r);a[0]=c;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:o,a[1]=s;for(var d=2;d<r;d++)a[d]=n[d];return i.createElement.apply(null,a)}return i.createElement.apply(null,n)}c.displayName="MDXCreateElement"},73497:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return a},metadata:function(){return s},toc:function(){return l},default:function(){return u}});var i=n(22122),o=n(19756),r=(n(67294),n(3905)),a={title:"Add the Extension",sidebar_label:"AIR"},s={unversionedId:"cloudstorage/add-the-extension",id:"cloudstorage/add-the-extension",isDocsHomePage:!1,title:"Add the Extension",description:"First step is always to add the extension to your development environment.",source:"@site/docs/cloudstorage/add-the-extension.md",sourceDirName:"cloudstorage",slug:"/cloudstorage/add-the-extension",permalink:"/docs/cloudstorage/add-the-extension",version:"current",sidebar_label:"AIR",frontMatter:{title:"Add the Extension",sidebar_label:"AIR"},sidebar:"cloudstorage",previous:{title:"CloudStorage",permalink:"/docs/cloudstorage"},next:{title:"Add the Plugin",permalink:"/docs/cloudstorage/add-the-plugin"}},l=[{value:"Dependencies",id:"dependencies",children:[{value:"Core",id:"core",children:[]}]},{value:"Extension IDs",id:"extension-ids",children:[]},{value:"iOS",id:"ios",children:[{value:"Key-Value Store",id:"key-value-store",children:[]},{value:"Document Storage",id:"document-storage",children:[]}]},{value:"tvOS",id:"tvos",children:[]},{value:"Checking for Support",id:"checking-for-support",children:[]}],d={toc:l};function u(e){var t=e.components,n=(0,o.Z)(e,["components"]);return(0,r.kt)("wrapper",(0,i.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"First step is always to add the extension to your development environment.\nTo do this use the tutorial located ",(0,r.kt)("a",{parentName:"p",href:"/docs/tutorials/getting-started"},"here"),"."),(0,r.kt)("h2",{id:"dependencies"},"Dependencies"),(0,r.kt)("p",null,"Many of our extensions use some common libraries, for example, the Android Support libraries."),(0,r.kt)("p",null,"We have to separate these libraries into separate extensions in order to avoid multiple versions of the libraries being included in your application and causing packaging conflicts. This means that you need to include some additional extensions in your application along with the main extension file."),(0,r.kt)("p",null,"You will add these extensions as you do with any other extension, and you need to ensure it is packaged with your application."),(0,r.kt)("h3",{id:"core"},"Core"),(0,r.kt)("p",null,"The Core ANE is required by this ANE. You must include and package this extension in your application."),(0,r.kt)("p",null,"The Core ANE doesn't provide any functionality in itself but supports some of our other extensions.\nIt's a centralised location for some common actions that can cause issues if they are implemented\nin each individual extension."),(0,r.kt)("p",null,"You can access this extension here: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/distriqt/ANE-Core"},"https://github.com/distriqt/ANE-Core"),"."),(0,r.kt)("h2",{id:"extension-ids"},"Extension IDs"),(0,r.kt)("p",null,"The following should be added to your ",(0,r.kt)("inlineCode",{parentName:"p"},"extensions")," node in your application descriptor to identify all the required ANEs in your application:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},"<extensions>\n    <extensionID>com.distriqt.CloudStorage</extensionID>\n    <extensionID>com.distriqt.Core</extensionID>\n</extensions>\n")),(0,r.kt)("h2",{id:"ios"},"iOS"),(0,r.kt)("p",null,'Here we will detail the additions to the application descriptor iPhone node, for the Info Additions and Entitlements.\nThe following additions should be placed in the "Entitlements" node as specified. That is :'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},"<iPhone>\n    <Entitlements>\n    <![CDATA[\n\n        HERE\n\n    ]]>\n    </Entitlements>\n</iPhone>\n")),(0,r.kt)("h3",{id:"key-value-store"},"Key-Value Store"),(0,r.kt)("p",null,"To support iCloud storage of key-value information for your app, you will need to add the\nentitlements for your application to use the key-value store."),(0,r.kt)("p",null,"As the value for this entitlement key, provide the bundle identifier for your app, such as:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"(TeamIdentifierPrefix)com.mycompany.myapplication\n")),(0,r.kt)("p",null,"For example, the distriqt test application uses the following:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},"<key>com.apple.developer.ubiquity-kvstore-identifier</key>\n<string>X5LW23Q6CJ.com.distriqt.test</string>\n")),(0,r.kt)("h3",{id:"document-storage"},"Document Storage"),(0,r.kt)("p",null,"Similarly to enable support for document storage you will need to add a list of the\ncontainer ids that you have created and plan to use in your application."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Note: Document storage is not supported on Apple tvOS. If you are supporting this\nplatform you should not add this to your application descriptor. If you are supporting\nboth platforms you will need to create separate application descriptors for each and\nonly add the following to the iOS application build.")),(0,r.kt)("p",null,"These container identifiers must match exactly the ones you created in the developer\nmember center."),(0,r.kt)("p",null,"For example, the distriqt test application uses a container with an identifier: ",(0,r.kt)("inlineCode",{parentName:"p"},"iCloud.com.distriqt.test.testcontainer")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},"<key>com.apple.developer.ubiquity-container-identifiers</key>\n<array>\n    <string>iCloud.com.distriqt.test.testcontainer</string>\n</array>\n")),(0,r.kt)("h2",{id:"tvos"},"tvOS"),(0,r.kt)("p",null,"Apple TV OS setup is the same as the iOS setup with one exception, you cannot add the document storage section. Document storage is not support on tvOS so if you include the\n",(0,r.kt)("inlineCode",{parentName:"p"},"com.apple.developer.ubiquity-container-identifiers")," key in your entitlements the build will fail."),(0,r.kt)("p",null,"We suggest creating 2 separate application descriptors, one for iOS (+ other mobile platforms) and one for tvOS."),(0,r.kt)("p",null,"The tvOS descriptor must have the tvOS device type added to the iPhone node info additions, UIDeviceFamily. "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},"<iPhone>\n    <InfoAdditions><![CDATA[\n        <key>UIDeviceFamily</key>\n        <array>\n            <string>3</string>\n        </array>\n        <key>UILaunchImages</key>\n        <array>\n            <dict>\n                <key>UILaunchImageSize</key>\n                <string>{1920, 1080}</string>\n                <key>UILaunchImageName</key>\n                <string>LaunchImage</string>\n                <key>UILaunchImageMinimumOSVersion</key>\n                <string>9.0</string>\n                <key>UILaunchImageOrientation</key>\n                <string>Landscape</string>\n            </dict>\n        </array>\n        <key>TVTopShelfImage</key>\n        <dict>\n            <key>TVTopShelfPrimaryImage</key>\n            <string>Top Shelf Image</string>\n            <key>TVTopShelfPrimaryImageWide</key>\n            <string>Top Shelf Image Wide</string>\n        </dict>\n        <key>CFBundleIcons</key>\n        <dict>\n            <key>CFBundlePrimaryIcon</key>\n            <string>App Icon</string>\n        </dict>\n    ]]></InfoAdditions>\n    ...\n")),(0,r.kt)("h2",{id:"checking-for-support"},"Checking for Support"),(0,r.kt)("p",null,"You can use the ",(0,r.kt)("inlineCode",{parentName:"p"},"isSupported")," flag to determine if this extension is supported on the current platform and device."),(0,r.kt)("p",null,"This allows you to react to whether the functionality is available on the device and provide an alternative solution if not."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript",metastring:'title="AIR"',title:'"AIR"'},"if (CloudStorage.isSupported)\n{\n    // Functionality here\n}\n")))}u.isMDXComponent=!0}}]);
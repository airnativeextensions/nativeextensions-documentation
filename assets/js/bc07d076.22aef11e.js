"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[52206],{3905:function(e,t,n){n.d(t,{Zo:function(){return l},kt:function(){return m}});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=r.createContext({}),u=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},l=function(e){var t=u(e.components);return r.createElement(c.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,c=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),d=u(n),m=a,h=d["".concat(c,".").concat(m)]||d[m]||p[m]||o;return n?r.createElement(h,i(i({ref:t},l),{},{components:n})):r.createElement(h,i({ref:t},l))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=d;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:a,i[1]=s;for(var u=2;u<o;u++)i[u]=n[u];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},61872:function(e,t,n){n.r(t),n.d(t,{assets:function(){return l},contentTitle:function(){return c},default:function(){return m},frontMatter:function(){return s},metadata:function(){return u},toc:function(){return p}});var r=n(83117),a=n(80102),o=(n(67294),n(3905)),i=["components"],s={title:"Capturing a Screenshot",sidebar_label:"Capturing a Screenshot"},c=void 0,u={unversionedId:"image/capturing-a-screenshot",id:"image/capturing-a-screenshot",title:"Capturing a Screenshot",description:"You can use this extension to capture a screenshot of your application as bitmap data and subsequently use that data as you require.",source:"@site/docs/image/capturing-a-screenshot.md",sourceDirName:"image",slug:"/image/capturing-a-screenshot",permalink:"/docs/image/capturing-a-screenshot",draft:!1,tags:[],version:"current",frontMatter:{title:"Capturing a Screenshot",sidebar_label:"Capturing a Screenshot"},sidebar:"image",previous:{title:"Transformations",permalink:"/docs/image/transformations"},next:{title:"Migrating to AndroidX",permalink:"/docs/image/migrating-to-androidx"}},l={},p=[{value:"iOS",id:"ios",level:2},{value:"Android",id:"android",level:2}],d={toc:p};function m(e){var t=e.components,s=(0,a.Z)(e,i);return(0,o.kt)("wrapper",(0,r.Z)({},d,s,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"You can use this extension to capture a screenshot of your application as bitmap data and subsequently use that data as you require. "),(0,o.kt)("p",null,"This is currently supported on iOS and Android API version 21 or higher. "),(0,o.kt)("p",null,"To capture a screenshot you simply call ",(0,o.kt)("inlineCode",{parentName:"p"},"captureScreenshot")," and await completion. "),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-actionscript"},"var success:Boolean = Image.service.captureScreenshot();\n")),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"captureScreenshot")," may return ",(0,o.kt)("inlineCode",{parentName:"p"},"false")," if the current platform is not supported or if a screenshot capture is currently in progress. You should avoid wherever possible capturing two screenshot simulataneously as this may have undesirable results."),(0,o.kt)("p",null,"Completion is indicated by either a success event ",(0,o.kt)("inlineCode",{parentName:"p"},"ImageEvent.SCREENSHOT_COMPLETE")," or an error ",(0,o.kt)("inlineCode",{parentName:"p"},"ImageEvent.SCREENSHOT_ERROR"),". "),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-actionscript"},"Image.service.addEventListener( ImageEvent.SCREENSHOT_COMPLETE, screenshot_completeHandler );\nImage.service.addEventListener( ImageEvent.SCREENSHOT_ERROR, screenshot_errorHandler );\n\nvar success:Boolean = Image.service.captureScreenshot();\n\nfunction screenshot_completeHandler( event:ImageEvent ):void\n{\n    // event.bitmapData will contain the bitmap data of the screenshot\n}\n\nfunction screenshot_errorHandler( event:ImageEvent ):void\n{\n    // event.error will contain a description of the error\n    // event.errorCode will contain a numeric code of the error\n}\n")),(0,o.kt)("h2",{id:"ios"},"iOS"),(0,o.kt)("p",null,"On iOS your screenshot will be captured without any user interaction. It is not possible to get the current image of the status bar so only your application accessible content will be contained in the screenshot. "),(0,o.kt)("h2",{id:"android"},"Android"),(0,o.kt)("p",null,"On Android, user permission is required to capture a screenshot. On calling ",(0,o.kt)("inlineCode",{parentName:"p"},"captureScreenshot")," your user may be presented a permission dialog. If they accept then the screenshot will be captured and subsequent screenshots will not require interaction. If they deny the permission then the screenshot will fail with an error event and subsequent screenshot capture attempts will present the permission dialog again. "),(0,o.kt)("p",null,(0,o.kt)("img",{src:n(81962).Z,width:"405",height:"720"})))}m.isMDXComponent=!0},81962:function(e,t,n){t.Z=n.p+"assets/images/android-capturescreenshot-permission-76a816da11a4b07044f2fe1abae8ab84.png"}}]);
"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[16340],{13976:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>r});const i=JSON.parse('{"id":"pushnotifications/firebase/fcm-gcm-payload","title":"FCM-GCM Payload","description":"As Android notifications have many more features there are more fields available in","source":"@site/docs/pushnotifications/firebase/fcm-gcm-payload.md","sourceDirName":"pushnotifications/firebase","slug":"/pushnotifications/firebase/fcm-gcm-payload","permalink":"/docs/pushnotifications/firebase/fcm-gcm-payload","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"FCM-GCM Payload","sidebar_label":"FCM-GCM Payload"},"sidebar":"pushnotifications","previous":{"title":"iOS APNS Payload","permalink":"/docs/pushnotifications/apple/ios-apns-payload"},"next":{"title":"Windows WNS Payload","permalink":"/docs/pushnotifications/windows/windows-wns-payload"}}');var o=t(74848),s=t(28453);const a={title:"FCM-GCM Payload",sidebar_label:"FCM-GCM Payload"},l=void 0,c={},r=[{value:"Background Image",id:"background-image",level:3},{value:"Example",id:"example",level:4}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",em:"em",h3:"h3",h4:"h4",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:"As Android notifications have many more features there are more fields available in\nthe payload of the notification."}),"\n",(0,o.jsx)(n.p,{children:"The GCM and FCM payload is made up of several root fields including:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"data"})," : Custom user data object, (this is where all our fields will be placed)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"notification"})," : Default notifications (this should only be used for very simple notifications, see the platform docs for more)"]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["The default ",(0,o.jsx)(n.code,{children:"notification"})," field is implemented by the google play services internals\nand only displays a very simple notification (alert/title/body) and doesn't use our\nnotifications implementation."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"This notification can only be processed when the application is in the foreground."})}),"\n",(0,o.jsx)(n.p,{children:"This notification is the notification sent from the FCM console."}),"\n",(0,o.jsxs)(n.p,{children:["Our notifications implementation uses the ",(0,o.jsx)(n.code,{children:"data"})," field, within which you can either\nuse a flat object or place our custom notification object within it.\nAll our payloads in the documentation where meant to be placed in this part of the payload"]}),"\n",(0,o.jsx)(n.p,{children:"Similar to APNS, the simplest notification is an alert."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n\t"data": {\n\t\t"notification" : {\n\t\t\t"alert" : "You have a notification",\n\t\t\t"title" : "You have a notification",\n\t\t\t"body"  : "The body of the notification",\n\t\t\t"sound" : "default"\n\t\t}\n\t}\n}\n'})}),"\n",(0,o.jsx)(n.p,{children:"Additional fields include:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"icon"}),": An Android resource name included in a custom resources extension"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"alert"}),": The alert text displayed in ticker locations"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"title"}),": The title text for the notification"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"body"}),": The body text for the notification"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"sound"}),": A custom sound path to use for the notification or ",(0,o.jsx)(n.code,{children:"'default'"})," to use the default notification sound. This can be a path to an asset or a mp3 resource name.  ",(0,o.jsxs)(n.em,{children:["Note: Sounds on individual notifications were deprecated in Android O (API 26). You now have to set them on a ",(0,o.jsx)(n.a,{href:"../setup-your-service#channels",children:"channel"}),". This will be ignored on API v26+."]})]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"vibrate"}),": ",(0,o.jsx)(n.code,{children:"true"})," or ",(0,o.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"largeIcon"}),": The path to a packaged image asset or a url to a public image"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"priority"}),": This should be one of the priority values from ",(0,o.jsx)(n.code,{children:"-2"})," (low) to ",(0,o.jsx)(n.code,{children:"2"})," (max). The default is ",(0,o.jsx)(n.code,{children:"0"}),"."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"badge"}),": If the device supports custom badge count icons this value will be used to set the badge count."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"colour"}),": The colour to apply to the notification (generally affects icon and title text colour). Should be of the form ",(0,o.jsx)(n.code,{children:"#RRGGBB"})]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"channel"}),": From Android 8.0 you need to specify a channel for a notification. This is the channel id. If you omit this field the notification will be assigned to your first notification channel."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"backgroundImage"})," : either a path to a local asset packaged with your application or a url to a public image"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"backgroundImageTextColour"})," : use to specify the text colour when a background image is specified. Colour supported formats are:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:'"#RRGGBB"'})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:'"#AARRGGBB"'})}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"style"}),": An object specifying the expanded view details:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"type"}),": The type of the expanded view, either text, inbox or image"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"text"}),": The summary text for inbox and image types or the large text for the text type"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"lines"}),": For the inbox type, this array contains the individual lines to display"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"image"}),": For the image type, this specifies the url of the image"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"groupIcon"}),": An Android resource name to use as the icon for the group"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"groupKey"}),": Notifications with the same group key are grouped together"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"groupTitle"}),": The title for the group notification (you can use %d to insert the number of"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"groupSummary"}),": Summary text for the group notification"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"category"}),": The action category, indicates the actions to display along with this notification"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"The following shows a complete json payload utilising all the features:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n\t"data" : {\n\t\t"notification" : {\n\t\t\t"icon"   : "ic_stat_distriqt_default",\n\t\t\t"alert"  : "You have a notification",\n\t\t\t"title"  : "You have a notification",\n\t\t\t"body"   : "The body of the notification",\n\t\t\t"sound"  : "default",\n\t\t\t"vibrate": "true",\n\t\t\t"largeIcon": "assets/notifications/icons/largeIcon.png",\n\t\t\t"priority": "0",\n\t\t\t"badge": 2,\n\t\t\t"colour": "#FF0000",\n\n\t\t\t"channel" : "channel_id",\n\n\t\t\t"backgroundImage" : "assets/notifications/background.png",\n\t\t\t"backgroundImageTextColour" : "#FFFFFF",\n\n\t\t\t"style": {\n\t\t\t\t"type": "text", \n\t\t\t\t"text": "Some longer and larger content that will be used for a text style big view.\\n\\nThe body content will be shown in the normal view, but this content will be shown in the expanded view. ",\n\t\t\t\t"lines": [\n\t\t\t\t\t"Inbox message line 1",\n\t\t\t\t\t"Inbox message line 2"\n\t\t\t\t],\n\t\t\t\t"image":"http://example.com/path/to/image.png"\n\t\t\t},\n\t\t\t\n\t\t\t"groupIcon": "ic_stat_distriqt_default",\n\t\t\t"groupKey" : "groupKey",\n\t\t\t"groupTitle": "You have %d notifications",\n\t\t\t"groupSummary": "Message displayed at bottom of notifications",\n\t\t\t\n\t\t\t"category": "INVITE_CATEGORY"\n\t\t},\n\t\t\n\t\t"user_custom": "some-custom-value"\n\t}\n}\n'})}),"\n",(0,o.jsx)(n.h3,{id:"background-image",children:"Background Image"}),"\n",(0,o.jsx)(n.p,{children:"On Android v5.0 + you can use an image as the background of the notification."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:t(36401).A+"",width:"370",height:"57"})}),"\n",(0,o.jsxs)(n.p,{children:["As part of your payload add the ",(0,o.jsx)(n.code,{children:"backgroundImage"})," field which is either a path to a local asset packaged with your application or a url to a public image. URL's are discouraged due to the network access and download required."]}),"\n",(0,o.jsxs)(n.p,{children:["In order to cover all notification sizes this image should be sized ",(0,o.jsx)(n.code,{children:"2600x256"})," (91.4:9) and this will be aligned top left."]}),"\n",(0,o.jsxs)(n.p,{children:["You can also add the ",(0,o.jsx)(n.code,{children:"backgroundImageTextColour"})," field which you can use to specify the text colour. This allows you to match the colour of the text to your image."]}),"\n",(0,o.jsx)(n.p,{children:"Colour supported formats are:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:'"#RRGGBB"'}),"\n",(0,o.jsx)(n.li,{children:'"#AARRGGBB"'}),"\n"]}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsx)(n.p,{children:"Note: Setting the background image of a notification will remove the notification icon and large icon. If you need to display these you should add them to your image."}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"The following names are also accepted: red, blue, green, black, white, gray, cyan, magenta, yellow, lightgray, darkgray, grey, lightgrey, darkgrey, aqua, fuchsia, lime, maroon, navy, olive, purple, silver, and teal."}),"\n",(0,o.jsx)(n.h4,{id:"example",children:"Example"}),"\n",(0,o.jsxs)(n.p,{children:["The following example uses an asset as the background packaged with the application located at ",(0,o.jsx)(n.code,{children:"'assets/notifications/background.png'"}),":"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n\t"data": {\n\t\t"notification" : {\n\t\t\t"alert" : "You have a notification",\n\t\t\t"title" : "You have a notification",\n\t\t\t"body"  : "The body of the notification",\n\t\t\t"sound" : "default",\n\t\t\t"backgroundImage" : "assets/notifications/background.png",\n\t\t\t"backgroundImageTextColour" : "#FFFFFF"\n\t\t}\n\t}\n}\n'})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>l});var i=t(96540);const o={},s=i.createContext(o);function a(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),i.createElement(s.Provider,{value:n},e.children)}},36401:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/android-backgroundimage-bdfb3f4e8747ebcd2385038400e5634a.png"}}]);
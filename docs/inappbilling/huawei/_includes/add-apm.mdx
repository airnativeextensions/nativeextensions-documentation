


:::info 
Note: All of the commands below should be run in a terminal / command prompt in the root directory of your application, generally the level above your source directory.
:::

import SetupAPM from '../../../_includes/apm/setup-apm.mdx'

<SetupAPM />


### Install the extension 

Install the package by running: 

```
apm install com.distriqt.InAppBilling-AppGallery
```

This will download and install the extension, required assets, and all dependencies.

Once complete `apm` will have created something like the following file structure: 

```
.
|____ assets
| |____ android
| | |____ grs_sdk_global_route_config_apptouchupdatesdk.json
| | |____ grs_sdk_global_route_config_hmscoreInstallerSDK.json
| | |____ grs_sdk_global_route_config_opensdkService.json
| | |____ grs_sdk_global_route_config_updatesdk.json
| | |____ grs_sdk_server_config.json
| | |____ grs_sp.bks
| | |____ hmsincas.bks
| | |____ hmsrootcas.bks
|____ ane
| |____ com.distriqt.InAppBilling.AppGallery.ane	# InAppBilling Huawei extension
| |____ [dependencies]
|____ apm_packages									# cache directory - ignore
|____ project.apm									# apm project file
```

- Add the `ane` directory to your IDE. *See the tutorials located [here](/docs/tutorials/getting-started) on adding an extension to your IDE.*

- You will have an `assets` directory that contains required assets for the installed extensions. You must add the files in the `assets/android` folder to the root of your Android application package. (It contains a series of files that Huawei services require to correctly operate). You do not need to add this to your iOS application package.

    These assets are required by the Huawei SDK and if not included an error will be dispatched when calling `setup()`.

:::info
We suggest you use the locations directly in your builds rather than copying the files elsewhere. The reason for this is if you ever go to update the extensions using `apm` that these updates will be pulled into your build automatically.
:::


- You must set a few pieces of configuration information for Huawei. This will allow `apm` to automatically insert them into the correct position in your application descriptor. 

You can call the following to step through the all the configuration values for this extension:

```
apm project config set com.distriqt.InAppBilling
```

:::caution
Only install one variant of an package. The base variant is installed when no variant is specified and cannot be included alongside another variant. You will likely get an error if you attempt to install multiple variants with `apm`
:::
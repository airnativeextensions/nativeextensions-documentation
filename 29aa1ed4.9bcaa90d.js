(window.webpackJsonp=window.webpackJsonp||[]).push([[127],{182:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return a})),n.d(t,"metadata",(function(){return s})),n.d(t,"rightToc",(function(){return u})),n.d(t,"default",(function(){return c}));var o=n(2),r=n(6),i=(n(0),n(807)),a={title:"Request Authorisation",sidebar_label:"Request Authorisation"},s={unversionedId:"bluetoothle/request-authorisation",id:"bluetoothle/request-authorisation",isDocsHomePage:!1,title:"Request Authorisation",description:"After initialising the extension you should check whether the user has given your application",source:"@site/docs/bluetoothle/request-authorisation.md",slug:"/bluetoothle/request-authorisation",permalink:"/docs/bluetoothle/request-authorisation",version:"current",sidebar_label:"Request Authorisation"},u=[],l={rightToc:u};function c(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(o.a)({},l,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,"After initialising the extension you should check whether the user has given your application\nauthorisation to user Bluetooth LE. You can check the value of hasAuthorisation() which will\nreturn true if the device is authorised and false otherwise. However the better method is to\nuse the authorisationStatus() to determine the status, this will allow you to determine if\nyour application has authorisation, has been denied or is not yet determined (i.e. the user\nhas not yet been asked to grant authorisation)."),Object(i.b)("p",null,"On iOS you will only be able to display the authorisation request dialog once! Hence it is\nvery important that you inform your users why they should grant authorisation before requesting\nauthorisation. To request authorisation you call requestAuthorisation(). This function will\ntrigger the native dialog asking the user for authorisation."),Object(i.b)("p",null,"On Android these permissions are listed through the manifest additions. On older versions of\nAndroid these permissions are accepted when the user installs the application. More modern\nversions (Marshmallow 6 ","[v23]","+) require that you request the permissions at runtime similar\nto iOS. You will still need to list them in your manifest and then follow the same code below\nas for iOS, except that on Android you will be able to ask multiple times. You should respect\nthe SHOULD_EXPLAIN status by displaying additional information to your user about why you\nrequire this functionality."),Object(i.b)("pre",null,Object(i.b)("code",Object(o.a)({parentName:"pre"},{className:"language-actionscript"}),"BluetoothLE.service.addEventListener( AuthorisationEvent.CHANGED, authorisationChangedHandler );\n\nswitch (BluetoothLE.service.authorisationStatus())\n{\n    case AuthorisationStatus.AUTHORISED:\n        // The user has granted access to Bluetooth LE\n        break;\n    \n    case AuthorisationStatus.NOT_DETERMINED:\n    case AuthorisationStatus.SHOULD_EXPLAIN:\n        // The user has not yet been asked or \n        // has denied once and you should explain\n        BluetoothLE.service.requestAuthorisation();\n        break;\n    \n    case AuthorisationStatus.DENIED:\n    case AuthorisationStatus.RESTRICTED:\n    case AuthorisationStatus.UNKNOWN:\n        // The user has denied access or has restricted access to Bluetooth LE\n        break;\n}\n\n...\n\nprivate function authorisationChangedHandler( event:AuthorisationEvent ):void\n{\n    // Authorisation status has now changed\n}\n")))}c.isMDXComponent=!0},807:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return f}));var o=n(0),r=n.n(o);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=r.a.createContext({}),c=function(e){var t=r.a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},h=function(e){var t=c(e.components);return r.a.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},p=r.a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,a=e.parentName,l=u(e,["components","mdxType","originalType","parentName"]),h=c(n),p=o,f=h["".concat(a,".").concat(p)]||h[p]||d[p]||i;return n?r.a.createElement(f,s(s({ref:t},l),{},{components:n})):r.a.createElement(f,s({ref:t},l))}));function f(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,a=new Array(i);a[0]=p;var s={};for(var u in t)hasOwnProperty.call(t,u)&&(s[u]=t[u]);s.originalType=e,s.mdxType="string"==typeof e?e:o,a[1]=s;for(var l=2;l<i;l++)a[l]=n[l];return r.a.createElement.apply(null,a)}return r.a.createElement.apply(null,n)}p.displayName="MDXCreateElement"}}]);
"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[28779],{3905:(e,n,i)=>{i.d(n,{Zo:()=>s,kt:()=>g});var t=i(67294);function r(e,n,i){return n in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e}function a(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function o(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?a(Object(i),!0).forEach((function(n){r(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}function l(e,n){if(null==e)return{};var i,t,r=function(e,n){if(null==e)return{};var i,t,r={},a=Object.keys(e);for(t=0;t<a.length;t++)i=a[t],n.indexOf(i)>=0||(r[i]=e[i]);return r}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)i=a[t],n.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}var d=t.createContext({}),p=function(e){var n=t.useContext(d),i=n;return e&&(i="function"==typeof e?e(n):o(o({},n),e)),i},s=function(e){var n=p(e.components);return t.createElement(d.Provider,{value:n},e.children)},c="mdxType",m={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},u=t.forwardRef((function(e,n){var i=e.components,r=e.mdxType,a=e.originalType,d=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),c=p(i),u=r,g=c["".concat(d,".").concat(u)]||c[u]||m[u]||a;return i?t.createElement(g,o(o({ref:n},s),{},{components:i})):t.createElement(g,o({ref:n},s))}));function g(e,n){var i=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var a=i.length,o=new Array(a);o[0]=u;var l={};for(var d in n)hasOwnProperty.call(n,d)&&(l[d]=n[d]);l.originalType=e,l[c]="string"==typeof e?e:r,o[1]=l;for(var p=2;p<a;p++)o[p]=i[p];return t.createElement.apply(null,o)}return t.createElement.apply(null,i)}u.displayName="MDXCreateElement"},22302:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>m,frontMatter:()=>a,metadata:()=>l,toc:()=>p});var t=i(87462),r=(i(67294),i(3905));const a={title:"Migration",sidebar_label:"Migration v15.4"},o=void 0,l={unversionedId:"inappbilling/migration-v15.4",id:"inappbilling/migration-v15.4",title:"Migration",description:"Version 15.4",source:"@site/docs/inappbilling/migration-v15.4.md",sourceDirName:"inappbilling",slug:"/inappbilling/migration-v15.4",permalink:"/docs/inappbilling/migration-v15.4",draft:!1,tags:[],version:"current",frontMatter:{title:"Migration",sidebar_label:"Migration v15.4"},sidebar:"inappbilling",previous:{title:"In App Updates",permalink:"/docs/inappbilling/in-app-updates"},next:{title:"Migration v15",permalink:"/docs/inappbilling/migration-v15"}},d={},p=[{value:"Version 15.4",id:"version-154",level:2},{value:"Google Play Billing",id:"google-play-billing",level:3}],s={toc:p},c="wrapper";function m(e){let{components:n,...i}=e;return(0,r.kt)(c,(0,t.Z)({},s,i,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"version-154"},"Version 15.4"),(0,r.kt)("h3",{id:"google-play-billing"},"Google Play Billing"),(0,r.kt)("p",null,"Version 15.4 implemented Google Play Billing client library v6.2.1."),(0,r.kt)("admonition",{title:"Android only",type:"note"},(0,r.kt)("p",{parentName:"admonition"},"These changes only apply to Android and Google Play")),(0,r.kt)("admonition",{title:"apm",type:"note"},(0,r.kt)("p",{parentName:"admonition"},"If you are using apm then all these changes will be handled for you. This only applies if you are manually updating your manifest additions.")),(0,r.kt)("p",null,"Firstly you will need to update the billing client version in your ",(0,r.kt)("inlineCode",{parentName:"p"},"manifest")," additions:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<meta-data android:name="com.google.android.play.billingclient.version" android:value="6.2.1" />\n')),(0,r.kt)("p",null,"Next add a new activity:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<activity\n    android:name="com.android.billingclient.api.ProxyBillingActivityV2"\n    android:configChanges="keyboard|keyboardHidden|screenLayout|screenSize|orientation"\n    android:exported="false"\n    android:theme="@android:style/Theme.Translucent.NoTitleBar" />\n')),(0,r.kt)("p",null,"Also ensure you have set the minimum sdk version to 24 or higher."),(0,r.kt)("p",null,"Your manifest should now contain all the following:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<manifest android:installLocation="auto">\n    <uses-sdk android:minSdkVersion="24" android:targetSdkVersion="34"/>\n\n    <uses-permission android:name="android.permission.INTERNET"/>\n    <uses-permission android:name="com.android.vending.BILLING" />\n\n    <queries>\n        <intent>\n            <action android:name="com.android.vending.billing.InAppBillingService.BIND" />\n        </intent>\n    </queries>\n\n    <application>\n\n        <activity \n            android:name="com.distriqt.extension.inappbilling.activities.ProductViewActivity" \n            android:exported="false"\n            android:theme="@android:style/Theme.Translucent.NoTitleBar" />\n\n\n        \x3c!-- GOOGLE PLAY BILLING --\x3e\n        <meta-data android:name="com.google.android.play.billingclient.version" android:value="6.2.1" />\n        <activity\n            android:name="com.android.billingclient.api.ProxyBillingActivity"\n            android:configChanges="keyboard|keyboardHidden|screenLayout|screenSize|orientation"\n            android:exported="false"\n            android:theme="@android:style/Theme.Translucent.NoTitleBar" />\n        <activity\n            android:name="com.android.billingclient.api.ProxyBillingActivityV2"\n            android:configChanges="keyboard|keyboardHidden|screenLayout|screenSize|orientation"\n            android:exported="false"\n            android:theme="@android:style/Theme.Translucent.NoTitleBar" />\n\n\n    </application>\n\n</manifest>\n')))}m.isMDXComponent=!0}}]);
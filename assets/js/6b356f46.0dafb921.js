"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[5256],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return d}});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var u=r.createContext({}),l=function(e){var t=r.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=l(e.components);return r.createElement(u.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,u=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),h=l(n),d=a,f=h["".concat(u,".").concat(d)]||h[d]||p[d]||o;return n?r.createElement(f,i(i({ref:t},c),{},{components:n})):r.createElement(f,i({ref:t},c))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=h;var s={};for(var u in t)hasOwnProperty.call(t,u)&&(s[u]=t[u]);s.originalType=e,s.mdxType="string"==typeof e?e:a,i[1]=s;for(var l=2;l<o;l++)i[l]=n[l];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}h.displayName="MDXCreateElement"},7774:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return u},default:function(){return d},frontMatter:function(){return s},metadata:function(){return l},toc:function(){return p}});var r=n(87462),a=n(63366),o=(n(67294),n(3905)),i=["components"],s={title:"Authorisation",sidebar_label:"Authorisation"},u=void 0,l={unversionedId:"health/authorisation",id:"health/authorisation",title:"Authorisation",description:"Request Authorisation",source:"@site/docs/health/authorisation.md",sourceDirName:"health",slug:"/health/authorisation",permalink:"/docs/health/authorisation",draft:!1,tags:[],version:"current",frontMatter:{title:"Authorisation",sidebar_label:"Authorisation"},sidebar:"health",previous:{title:"Availablility & Updates",permalink:"/docs/health/check-for-updates"},next:{title:"Querying Data",permalink:"/docs/health/queries"}},c={},p=[{value:"Request Authorisation",id:"request-authorisation",level:2},{value:"Authorisation Status",id:"authorisation-status",level:2}],h={toc:p};function d(e){var t=e.components,n=(0,a.Z)(e,i);return(0,o.kt)("wrapper",(0,r.Z)({},h,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"request-authorisation"},"Request Authorisation"),(0,o.kt)("p",null,"In order to access the user's health data you must first request authorisation."),(0,o.kt)("p",null,"To request access call the ",(0,o.kt)("inlineCode",{parentName:"p"},"requestAuthorisation()")," method:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-actionscript"},'Health.instance.requestAuthorisation(\n        new <HealthType> [],\n        new <HealthType> [ HealthType.STEP_COUNT ],\n        function ( success:Boolean, error:Error ):void\n        {\n            trace( "requestAuthorisation:complete( " + success + " )" );\n        }\n);\n')),(0,o.kt)("p",null,"The first parameter is a ",(0,o.kt)("inlineCode",{parentName:"p"},"Vector.<HealthType>")," reqpresenting the write / share types you require access to and the second is similarly for the read types. "),(0,o.kt)("p",null,"The third parameter is a callback function that will be called once the authorisation process is complete. It must be of the form ",(0,o.kt)("inlineCode",{parentName:"p"},"function( success:Boolean, error:Error ):void"),"."),(0,o.kt)("h2",{id:"authorisation-status"},"Authorisation Status"),(0,o.kt)("p",null,"You can check the authorisation status by calling the ",(0,o.kt)("inlineCode",{parentName:"p"},"authorisationStatus()")," method. "),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-actionscript"},'Health.instance.authorisationStatus(\n        HealthType.STEP_COUNT,\n        function( status:String ):void\n        {\n            trace( "authorisationStatus: " + status );\n        }\n);\n')),(0,o.kt)("p",null,"The first parameter is the ",(0,o.kt)("inlineCode",{parentName:"p"},"HealthType")," you wish to query and the second is a callback function that will be called once the authorisation status has been determined (if possible). This function takes one parameter being the status string as defined in the ",(0,o.kt)("inlineCode",{parentName:"p"},"AuthorisationStatus")," class."),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"On iOS there are certain limitations around the data this will return. Particularly Apple has decided not to return the read status for health data.\nInstead they suggest you request access whenever you require it and only attempt a read after you have successfully completed that process.")))}d.isMDXComponent=!0}}]);
"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[64565],{3905:function(e,n,t){t.d(n,{Zo:function(){return c},kt:function(){return m}});var i=t(67294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,i,a=function(e,n){if(null==e)return{};var t,i,a={},o=Object.keys(e);for(i=0;i<o.length;i++)t=o[i],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)t=o[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var d=i.createContext({}),l=function(e){var n=i.useContext(d),t=n;return e&&(t="function"==typeof e?e(n):r(r({},n),e)),t},c=function(e){var n=l(e.components);return i.createElement(d.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return i.createElement(i.Fragment,{},n)}},p=i.forwardRef((function(e,n){var t=e.components,a=e.mdxType,o=e.originalType,d=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),p=l(t),m=a,h=p["".concat(d,".").concat(m)]||p[m]||u[m]||o;return t?i.createElement(h,r(r({ref:n},c),{},{components:t})):i.createElement(h,r({ref:n},c))}));function m(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var o=t.length,r=new Array(o);r[0]=p;var s={};for(var d in n)hasOwnProperty.call(n,d)&&(s[d]=n[d]);s.originalType=e,s.mdxType="string"==typeof e?e:a,r[1]=s;for(var l=2;l<o;l++)r[l]=t[l];return i.createElement.apply(null,r)}return i.createElement.apply(null,t)}p.displayName="MDXCreateElement"},31717:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return s},contentTitle:function(){return d},metadata:function(){return l},toc:function(){return c},default:function(){return p}});var i=t(87462),a=t(63366),o=(t(67294),t(3905)),r=["components"],s={title:"Huawei Ads Kit",sidebar_label:"Huawei Ads Kit"},d=void 0,l={unversionedId:"adverts/platform/huawei",id:"adverts/platform/huawei",title:"Huawei Ads Kit",description:"This section describes how to setup your AIR application to use Huawei Ads Kit with this extension. Huawei devices use a variant of Android.",source:"@site/docs/adverts/platform/huawei.md",sourceDirName:"adverts/platform",slug:"/adverts/platform/huawei",permalink:"/docs/adverts/platform/huawei",tags:[],version:"current",frontMatter:{title:"Huawei Ads Kit",sidebar_label:"Huawei Ads Kit"},sidebar:"adverts",previous:{title:"Google AdMob",permalink:"/docs/adverts/platform/admob"},next:{title:"Initialise Platform",permalink:"/docs/adverts/initialise-platform"}},c=[{value:"AppGallery Connect Configuration File",id:"appgallery-connect-configuration-file",children:[],level:2},{value:"Assets",id:"assets",children:[],level:2},{value:"Dependencies",id:"dependencies",children:[{value:"Core",id:"core",children:[],level:3},{value:"Android Support",id:"android-support",children:[],level:3},{value:"Huawei Mobile Services",id:"huawei-mobile-services",children:[],level:3}],level:2},{value:"Extension IDs",id:"extension-ids",children:[],level:2},{value:"Android",id:"android",children:[{value:"Manifest Additions",id:"manifest-additions",children:[],level:3}],level:2},{value:"iOS",id:"ios",children:[],level:2}],u={toc:c};function p(e){var n=e.components,s=(0,a.Z)(e,r);return(0,o.kt)("wrapper",(0,i.Z)({},u,s,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"This section describes how to setup your AIR application to use Huawei Ads Kit with this extension. Huawei devices use a variant of Android. "),(0,o.kt)("p",null,"You should make sure you have been through the process of creating an Huawei developer account and setup your Ads application in the console :"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://developer.huawei.com/consumer/en/doc/development/HMS-Guides/ads-sdk-introduction"},"https://developer.huawei.com/consumer/en/doc/development/HMS-Guides/ads-sdk-introduction")),(0,o.kt)("li",{parentName:"ul"},"Console: ",(0,o.kt)("a",{parentName:"li",href:"https://developer.huawei.com/consumer/en/service/ads/publisher/html/index.html"},"https://developer.huawei.com/consumer/en/service/ads/publisher/html/index.html"))),(0,o.kt)("p",null,"You will need to gather a few resources from the console, "),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"agconnect-services.json")," configuration file;"),(0,o.kt)("li",{parentName:"ul"},"Ad Unit ids for the advertisements you plan to display;")),(0,o.kt)("h2",{id:"appgallery-connect-configuration-file"},"AppGallery Connect Configuration File"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Sign in to ",(0,o.kt)("a",{parentName:"li",href:"https://developer.huawei.com/consumer/en/service/josp/agc/index.html"},"AppGallery Connect")," and select My apps."),(0,o.kt)("li",{parentName:"ul"},"Find your app from the list and click the app name.")),(0,o.kt)("p",null,(0,o.kt)("img",{src:t(88659).Z,width:"1008",height:"264"})),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Go to Development > Overview > App information."),(0,o.kt)("li",{parentName:"ul"},"Click ",(0,o.kt)("inlineCode",{parentName:"li"},"agconnect-services.json")," to download the configuration file.")),(0,o.kt)("p",null,(0,o.kt)("img",{src:t(38176).Z,width:"1112",height:"156"})),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Add ",(0,o.kt)("inlineCode",{parentName:"li"},"agconnect-services.json")," to the root of your application and ensure it is packaged.  ")),(0,o.kt)("h2",{id:"assets"},"Assets"),(0,o.kt)("p",null,"Along with the ",(0,o.kt)("inlineCode",{parentName:"p"},"agconnect-services.json")," there are a series of assets that need to be packaged with your application.\nThese assets are required by the Huawei SDK . "),(0,o.kt)("p",null,"Copy all the files in the ",(0,o.kt)("inlineCode",{parentName:"p"},"assets")," folder (alongside the extension):"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"grs_sdk_global_route_config_opensdkService.json")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"grs_sdk_server_config.json")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"grs_sp.bks")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"hianalytics_njjn")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"updatesdkcas.bks"))),(0,o.kt)("p",null,"These need to be added at the root level of your application and packaged with your application. "),(0,o.kt)("h2",{id:"dependencies"},"Dependencies"),(0,o.kt)("p",null,"Many of our extensions use some common libraries, for example, the Android Support libraries."),(0,o.kt)("p",null,"We have to separate these libraries into separate extensions in order to avoid multiple versions of the libraries being included in your application and causing packaging conflicts. This means that you need to include some additional extensions in your application along with the main extension file."),(0,o.kt)("p",null,"You will add these extensions as you do with any other extension, and you need to ensure it is packaged with your application."),(0,o.kt)("h3",{id:"core"},"Core"),(0,o.kt)("p",null,"The Core ANE is required by this ANE. You must include and package this extension in your application."),(0,o.kt)("p",null,"The Core ANE doesn't provide any functionality in itself but provides support libraries and frameworks used by our extensions.\nIt also includes some centralised code for some common actions that can cause issues if they are implemented in each individual extension."),(0,o.kt)("p",null,"You can access this extension here: ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/distriqt/ANE-Core"},"https://github.com/distriqt/ANE-Core"),"."),(0,o.kt)("h3",{id:"android-support"},"Android Support"),(0,o.kt)("p",null,"The Android Support libraries encompass the Android Support, Android X and common Google libraries. "),(0,o.kt)("p",null,"These libraries are specific to Android. There are no issues including these on all platforms, they are just ",(0,o.kt)("strong",{parentName:"p"},"required")," for Android."),(0,o.kt)("p",null,"This extension requires the following extensions:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/distriqt/ANE-AndroidSupport/raw/master/lib/androidx.appcompat.ane"},"androidx.appcompat.ane")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/distriqt/ANE-AndroidSupport/raw/master/lib/androidx.core.ane"},"androidx.core.ane")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/distriqt/ANE-AndroidSupport/raw/master/lib/androidx.constraintlayout.ane"},"androidx.constraintlayout.ane"))),(0,o.kt)("p",null,"You can access these extensions here: ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/distriqt/ANE-AndroidSupport"},"https://github.com/distriqt/ANE-AndroidSupport"),"."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},(0,o.kt)("strong",{parentName:"p"},"Note"),": if you have been using the older ",(0,o.kt)("inlineCode",{parentName:"p"},"com.distriqt.androidsupport.*")," (Android Support) extensions you should remove these extensions and replace it with the ",(0,o.kt)("inlineCode",{parentName:"p"},"androidx")," extensions listed above. This is the new version of the android support libraries and moving forward all our extensions will require AndroidX.")),(0,o.kt)("h3",{id:"huawei-mobile-services"},"Huawei Mobile Services"),(0,o.kt)("p",null,"This extension requires usage of certain aspects of the Huawei Mobile Services (HMS) SDK. "),(0,o.kt)("p",null,"The HMS SDK is available as a series of extensions that you add into your applications packaging options.  Each separate extension provides a component(s) from the HMS SDK and are used by different extensions. These client libraries aren't packaged with this extension as they are used by multiple extensions and separating them will avoid conflicts, allowing you to use multiple extensions in the one application."),(0,o.kt)("p",null,"This extension requires the following HMS extensions:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/distriqt/ANE-HuaweiMobileServices/raw/master/lib/com.huawei.hms.base.ane"},"com.huawei.hms.base")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/distriqt/ANE-HuaweiMobileServices/raw/master/lib/com.huawei.hms.adsidentifier.ane"},"com.huawei.hms.adsidentifier")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/distriqt/ANE-HuaweiMobileServices/raw/master/lib/com.huawei.hms.adslite.ane"},"com.huawei.hms.adslite"))),(0,o.kt)("p",null,"You must include the above native extensions in your application along with this extension, and you need to ensure they are packaged with your application."),(0,o.kt)("p",null,"You can access the Huawei Mobile Services SDK extensions here: ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/distriqt/ANE-HuaweiMobileServices"},"https://github.com/distriqt/ANE-HuaweiMobileServices"),"."),(0,o.kt)("h2",{id:"extension-ids"},"Extension IDs"),(0,o.kt)("p",null,"The following should be added to your ",(0,o.kt)("inlineCode",{parentName:"p"},"extensions")," node in your application descriptor to identify all the required ANEs in your application:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-xml"},"<extensions>\n        <extensionID>com.distriqt.Adverts</extensionID>\n        <extensionID>com.distriqt.Core</extensionID>\n\n        <extensionID>com.huawei.hms.base</extensionID>\n        <extensionID>com.huawei.hms.adsidentifier</extensionID>\n        <extensionID>com.huawei.hms.adslite</extensionID>\n\n        <extensionID>androidx.appcompat</extensionID>\n        <extensionID>androidx.core</extensionID>\n        <extensionID>androidx.constraintlayout</extensionID>\n</extensions>\n")),(0,o.kt)("h2",{id:"android"},"Android"),(0,o.kt)("h3",{id:"manifest-additions"},"Manifest Additions"),(0,o.kt)("p",null,"The Adverts ANE requires a few additions to the manifest to be able to start certain activities. You should add the listing below to your manifest, replacing ",(0,o.kt)("inlineCode",{parentName:"p"},"APPLICATION_PACKAGE")," with your AIR application package name on Android (eg ",(0,o.kt)("inlineCode",{parentName:"p"},"air.com.distriqt.test"),") Note that it may be prefixed by ",(0,o.kt)("inlineCode",{parentName:"p"},"air."),"."),(0,o.kt)("p",null,"Also we suggest you enable hardware acceleration so videos are displayed correctly (i.e. the ",(0,o.kt)("inlineCode",{parentName:"p"},'android:hardwareAccelerated="true"')," attribute on your android ",(0,o.kt)("inlineCode",{parentName:"p"},"application")," tag)."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-xml"},'<manifest android:installLocation="auto">\n\n    <uses-permission android:name="android.permission.INTERNET"/>\n    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/>\n    <uses-permission android:name="android.permission.ACCESS_WIFI_STATE" />\n    <uses-permission android:name="android.permission.WAKE_LOCK" />\n    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"/>\n\n    <application \n        android:hardwareAccelerated="true"\n        android:appComponentFactory="androidx.core.app.CoreComponentFactory">\n\n        <activity android:name="com.huawei.openalliance.ad.activity.PPSLauncherActivity"\n            android:theme="@android:style/Theme.Translucent.NoTitleBar"\n            android:exported="true">\n            <intent-filter>\n                <action android:name="android.intent.action.VIEW"/>\n                <category android:name="android.intent.category.DEFAULT"/>\n                <category android:name="android.intent.category.BROWSABLE"/>\n                <data android:scheme="hwpps" android:host="APPLICATION_PACKAGE"/>\n            </intent-filter>\n            <meta-data android:name="hwc-theme" android:value="androidhwext:style/Theme.Emui.Translucent.NoTitleBar" />\n        </activity>\n        <activity\n            android:name="com.huawei.openalliance.ad.activity.PPSBridgeActivity"\n            android:exported="false"\n            android:theme="@android:style/Theme.Translucent.NoTitleBar" >\n            <meta-data\n                android:name="hwc-theme"\n                android:value="androidhwext:style/Theme.Emui.Translucent.NoTitleBar" />\n        </activity>\n        <activity\n            android:name="com.huawei.openalliance.ad.activity.PPSNotificationActivity"\n            android:exported="false"\n            android:theme="@android:style/Theme.Translucent.NoTitleBar" >\n            <meta-data\n                android:name="hwc-theme"\n                android:value="androidhwext:style/Theme.Emui.Translucent.NoTitleBar" />\n        </activity>\n        <activity\n            android:name="com.huawei.openalliance.ad.activity.AgProtocolActivity"\n            android:configChanges="orientation|screenSize"\n            android:exported="false"\n            android:theme="@android:style/Theme.Translucent.NoTitleBar" >\n            <meta-data\n                android:name="hwc-theme"\n                android:value="androidhwext:style/Theme.Emui.Translucent.NoTitleBar" />\n        </activity>\n\n\n        <meta-data android:name="com.huawei.hms.client.service.name:base" android:value="base:4.0.2.300" />\n        <meta-data android:name="com.huawei.hms.min_api_level:base:hmscore" android:value="1" />\n\n        \x3c!-- HMS Ads Kit --\x3e\n        <meta-data android:name="com.huawei.hms.client.service.name:ads-lite" android:value="ads-lite:13.4.30.301" />\n        <meta-data android:name="com.huawei.hms.client.service.name:ads-banner" android:value="ads-banner:13.4.30.301" />\n        <meta-data android:name="com.huawei.hms.client.service.name:ads-template" android:value="ads-template:13.4.30.301" />\n        <meta-data android:name="com.huawei.hms.client.service.name:ads-native" android:value="ads-native:13.4.30.301" />\n        <meta-data android:name="com.huawei.hms.client.service.name:ads-interstitial" android:value="ads-interstitial:13.4.30.301" />\n        <meta-data android:name="com.huawei.hms.client.service.name:ads-reward" android:value="ads-reward:13.4.30.301" />\n        <meta-data android:name="com.huawei.hms.client.service.name:ads-splash" android:value="ads-splash:13.4.30.301" />\n        <meta-data android:name="com.huawei.hms.client.service.name:ads-base" android:value="ads-base:13.4.30.301" />\n        <meta-data android:name="com.huawei.hms.client.service.name:ads-lang" android:value="ads-lang:13.4.30.301" />\n\n        \x3c!-- HMS Ads Consent --\x3e\n        <meta-data android:name="com.huawei.hms.client.service.name:ads-consent" android:value="ads-consent:3.4.34.301" />\n\n        \x3c!-- HMS Ads Identifier --\x3e\n        <meta-data android:name="com.huawei.hms.client.service.name:ads-identifier" android:value="ads-identifier:3.4.34.301" />\n\n            \n    </application>\n\n</manifest>\n')),(0,o.kt)("p",null,"We also suggest that you add the ",(0,o.kt)("inlineCode",{parentName:"p"},"containsVideo")," tag to your ",(0,o.kt)("inlineCode",{parentName:"p"},"android")," configuration:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-xml"},"<android>\n    <manifestAdditions><![CDATA[\n        \x3c!-- MANIFEST --\x3e\n    ]]></manifestAdditions>\n    \n    <containsVideo>true</containsVideo>\n\n</android>\n")),(0,o.kt)("h2",{id:"ios"},"iOS"),(0,o.kt)("p",null,"iOS is not supported by Huawei Ads, you should consider using AdMob on iOS as a replacement."))}p.isMDXComponent=!0},88659:function(e,n,t){n.Z=t.p+"assets/images/huawei-appgallery-connect-config-download-1-90083161e721bd46f119b2938192c2f1.jpg"},38176:function(e,n,t){n.Z=t.p+"assets/images/huawei-appgallery-connect-config-download-2-ecfa2c835d2568b397d44228f1d7c934.png"}}]);
"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[73974],{3905:function(e,t,a){a.d(t,{Zo:function(){return u},kt:function(){return h}});var r=a(67294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var l=r.createContext({}),c=function(e){var t=r.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},u=function(e){var t=c(e.components);return r.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,s=e.originalType,l=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),d=c(a),h=n,y=d["".concat(l,".").concat(h)]||d[h]||p[h]||s;return a?r.createElement(y,o(o({ref:t},u),{},{components:a})):r.createElement(y,o({ref:t},u))}));function h(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var s=a.length,o=new Array(s);o[0]=d;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:n,o[1]=i;for(var c=2;c<s;c++)o[c]=a[c];return r.createElement.apply(null,o)}return r.createElement.apply(null,a)}d.displayName="MDXCreateElement"},92398:function(e,t,a){a.r(t),a.d(t,{assets:function(){return u},contentTitle:function(){return l},default:function(){return h},frontMatter:function(){return i},metadata:function(){return c},toc:function(){return p}});var r=a(83117),n=a(80102),s=(a(67294),a(3905)),o=["components"],i={title:"Crashlytics - Usage",sidebar_label:"Usage"},l=void 0,c={unversionedId:"firebase/crashlytics/usage",id:"firebase/crashlytics/usage",title:"Crashlytics - Usage",description:"Usage",source:"@site/docs/firebase/crashlytics/usage.md",sourceDirName:"firebase/crashlytics",slug:"/firebase/crashlytics/usage",permalink:"/docs/firebase/crashlytics/usage",draft:!1,tags:[],version:"current",frontMatter:{title:"Crashlytics - Usage",sidebar_label:"Usage"},sidebar:"firebase",previous:{title:"Add the extension",permalink:"/docs/firebase/crashlytics/add-the-extension"},next:{title:"Testing",permalink:"/docs/firebase/crashlytics/testing"}},u={},p=[{value:"Usage",id:"usage",level:2},{value:"Customise Crash Reports",id:"customise-crash-reports",level:2},{value:"Enable opt-in reporting",id:"enable-opt-in-reporting",level:3},{value:"Android",id:"android",level:4},{value:"iOS",id:"ios",level:4},{value:"Add custom logs",id:"add-custom-logs",level:3},{value:"Add custom keys",id:"add-custom-keys",level:3},{value:"Set user IDs",id:"set-user-ids",level:3},{value:"Log non-fatal exceptions",id:"log-non-fatal-exceptions",level:3},{value:"Manage Crash Insights data",id:"manage-crash-insights-data",level:3}],d={toc:p};function h(e){var t=e.components,a=(0,n.Z)(e,o);return(0,s.kt)("wrapper",(0,r.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("h2",{id:"usage"},"Usage"),(0,s.kt)("p",null,"In order to enable collection of crash reports you simply need to call ",(0,s.kt)("inlineCode",{parentName:"p"},"enableCollection()")," at some point in your application after having initialised your Firebase app."),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-actionscript"},"Firebase.service.initialiseApp();\n\nFirebaseCrashlytics.service.enableCollection();\n")),(0,s.kt)("h2",{id:"customise-crash-reports"},"Customise Crash Reports"),(0,s.kt)("h3",{id:"enable-opt-in-reporting"},"Enable opt-in reporting"),(0,s.kt)("p",null,"By default, Firebase Crashlytics automatically collects crash reports for all your app's users. To give users more control over the data they send, you can enable opt-in reporting instead."),(0,s.kt)("p",null,"To do that, you have to disable automatic collection and initialize Crashlytics only for opt-in users."),(0,s.kt)("p",null,"Then you can ask your user to opt-in as required only calling the crashlytics function ",(0,s.kt)("inlineCode",{parentName:"p"},"enableCollection()")," after the user agrees:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-actionscript"},"FirebaseCrashlytics.service.enableCollection();\n")),(0,s.kt)("p",null,"To turn off automatic collection use the following methods dependent on your platform:"),(0,s.kt)("h4",{id:"android"},"Android"),(0,s.kt)("p",null,"Turn off automatic collection with a meta-data tag in your manifest additions, with in the ",(0,s.kt)("inlineCode",{parentName:"p"},"application")," tag:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-xml"},'<meta-data\n    android:name="firebase_crashlytics_collection_enabled"\n    android:value="false" />\n')),(0,s.kt)("h4",{id:"ios"},"iOS"),(0,s.kt)("p",null,"Turn off automatic collection with a new key to your ",(0,s.kt)("inlineCode",{parentName:"p"},"InfoAdditions"),":"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-xml"},"<key>FirebaseCrashlyticsCollectionEnabled</key>\n<false/>\n")),(0,s.kt)("h3",{id:"add-custom-logs"},"Add custom logs"),(0,s.kt)("p",null,"To give yourself more context for the events leading up to a crash, you can add custom Crashlytics logs to your app. Crashlytics associates the logs with your crash data and makes them visible in the Firebase console."),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-actionscript"},'FirebaseCrashlytics.service.log( "a log message" );\n')),(0,s.kt)("blockquote",null,(0,s.kt)("p",{parentName:"blockquote"},"To avoid slowing down your app, Crashlytics limits logs to 64kB. Crashlytics deletes older log entries if a session's logs go over that limit.")),(0,s.kt)("h3",{id:"add-custom-keys"},"Add custom keys"),(0,s.kt)("p",null,"Custom keys help you get the specific state of your app leading up to a crash. You can associate arbitrary key/value pairs with your crash reports, and see them in the Firebase console."),(0,s.kt)("p",null,"There are several methods to set keys. Each handles a different data type:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-actionscript"},'FirebaseCrashlytics.service.setIntValue( 1 /* int value */, key );\n\nFirebaseCrashlytics.service.setNumericValue( 1.0 /* Number value */, key );\n\nFirebaseCrashlytics.service.setBooleanValue( true /* Boolean value */, key );\n\nFirebaseCrashlytics.service.setStringValue( "a value" /* String value */, key );\n')),(0,s.kt)("p",null,"The ",(0,s.kt)("inlineCode",{parentName:"p"},"key")," value is a ",(0,s.kt)("inlineCode",{parentName:"p"},"String"),"."),(0,s.kt)("h3",{id:"set-user-ids"},"Set user IDs"),(0,s.kt)("p",null,"To diagnose an issue, it\u2019s often helpful to know which of your users experienced a given crash. Crashlytics includes a way to anonymously identify users in your crash reports."),(0,s.kt)("p",null,"To add user IDs to your reports, assign each user a unique identifier in the form of an ID number, token, or hashed value:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-actionscript"},'FirebaseCrashlytics.service.setUserIdentifier( "user123456789" );\n')),(0,s.kt)("p",null,"If you ever need to clear a user identifier after you set it, reset the value to a blank string. Clearing a user identifier does not remove existing Crashlytics records. If you need to delete records associated with a user ID, ",(0,s.kt)("a",{parentName:"p",href:"https://firebase.google.com/support/contact/?category=other-category&component=crashlytics&summary=Please%20delete%20records%20associated%20with%20UID%20%5BENTER_USER_ID_HERE%5D"},"contact Firebase support"),"."),(0,s.kt)("h3",{id:"log-non-fatal-exceptions"},"Log non-fatal exceptions"),(0,s.kt)("p",null,"In addition to automatically reporting your app\u2019s crashes, Crashlytics lets you log non-fatal exceptions."),(0,s.kt)("p",null,"You do this by calling the ",(0,s.kt)("inlineCode",{parentName:"p"},"recordError()")," method, passing an ",(0,s.kt)("inlineCode",{parentName:"p"},"Error")," object:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-actionscript"},"var e:Error = ...;\n\nFirebaseCrashlytics.service.recordError( e );\n")),(0,s.kt)("p",null,"All logged exceptions appear as non-fatal issues in the Firebase console."),(0,s.kt)("blockquote",null,(0,s.kt)("p",{parentName:"blockquote"},"Crashlytics only stores the most recent 8 exceptions in a given app session. If your app throws more than 8 exceptions in a session, older exceptions are lost.")),(0,s.kt)("h3",{id:"manage-crash-insights-data"},"Manage Crash Insights data"),(0,s.kt)("p",null,"Crash Insights helps you resolve issues by comparing your anonymized stack traces to traces from other Firebase apps and letting you know if your issue is part of a larger trend. For many issues, Crash Insights even provides resources to help you debug the crash."),(0,s.kt)("p",null,"Crash Insights uses aggregated crash data to identify common stability trends. If you\u2019d prefer not to share your app's data, you can opt-out of Crash Insights from the Crash Insights menu at the top of your Crashlytics issue list in the Firebase console."))}h.isMDXComponent=!0}}]);
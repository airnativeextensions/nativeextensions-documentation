"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[50509],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return g}});var i=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=i.createContext({}),u=function(e){var t=i.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},c=function(e){var t=u(e.components);return i.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},d=i.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=u(n),g=r,h=d["".concat(s,".").concat(g)]||d[g]||p[g]||o;return n?i.createElement(h,a(a({ref:t},c),{},{components:n})):i.createElement(h,a({ref:t},c))}));function g(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,a=new Array(o);a[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,a[1]=l;for(var u=2;u<o;u++)a[u]=n[u];return i.createElement.apply(null,a)}return i.createElement.apply(null,n)}d.displayName="MDXCreateElement"},56631:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return s},default:function(){return g},frontMatter:function(){return l},metadata:function(){return u},toc:function(){return p}});var i=n(87462),r=n(63366),o=(n(67294),n(3905)),a=["components"],l={title:"Auth - Provider - Google Identity",sidebar_label:"Google Identity"},s=void 0,u={unversionedId:"firebase/auth/provider/google-identity",id:"firebase/auth/provider/google-identity",title:"Auth - Provider - Google Identity",description:"You can let your users authenticate with Firebase using their Google Accounts by integrating Google Sign-In into your app.",source:"@site/docs/firebase/auth/provider/google-identity.md",sourceDirName:"firebase/auth/provider",slug:"/firebase/auth/provider/google-identity",permalink:"/docs/firebase/auth/provider/google-identity",draft:!1,tags:[],version:"current",frontMatter:{title:"Auth - Provider - Google Identity",sidebar_label:"Google Identity"},sidebar:"firebase",previous:{title:"Anonymous",permalink:"/docs/firebase/auth/provider/anonymous"},next:{title:"GitHub",permalink:"/docs/firebase/auth/provider/github"}},c={},p=[{value:"Before you begin",id:"before-you-begin",level:2},{value:"Authenticate with Google",id:"authenticate-with-google",level:2},{value:"Authenticate with Firebase",id:"authenticate-with-firebase",level:2},{value:"Next steps",id:"next-steps",level:2}],d={toc:p};function g(e){var t=e.components,n=(0,r.Z)(e,a);return(0,o.kt)("wrapper",(0,i.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"You can let your users authenticate with Firebase using their Google Accounts by integrating Google Sign-In into your app."),(0,o.kt)("h2",{id:"before-you-begin"},"Before you begin"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Ensure you have setup Firebase in your application"),(0,o.kt)("li",{parentName:"ul"},"Enable Google Sign-In in the Firebase console:",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"In the ",(0,o.kt)("a",{parentName:"li",href:"https://console.firebase.google.com/"},"Firebase console"),", open the ",(0,o.kt)("strong",{parentName:"li"},"Auth")," section."),(0,o.kt)("li",{parentName:"ul"},"On the ",(0,o.kt)("strong",{parentName:"li"},"Sign in method")," tab, enable the ",(0,o.kt)("strong",{parentName:"li"},"Google")," sign-in method and click ",(0,o.kt)("strong",{parentName:"li"},"Save"),".")))),(0,o.kt)("h2",{id:"authenticate-with-google"},"Authenticate with Google"),(0,o.kt)("p",null,"In order to sign in using Google accounts you will need to integrate ",(0,o.kt)("strong",{parentName:"p"},"Google Sign-In"),".\nYou can do this using the ",(0,o.kt)("a",{parentName:"p",href:"https://airnativeextensions.com/extension/com.distriqt.GoogleIdentity"},"Google Identity")," extension.\nThe following guide uses this ANE however you can use any method you currently have to attain the id token."),(0,o.kt)("p",null,"Firstly, integrate Google Sign-In in your application by following the steps outlined in the Google Identity ANE."),(0,o.kt)("p",null,"You must ensure that you request the id token when setting up the extension, by setting ",(0,o.kt)("inlineCode",{parentName:"p"},"requestIdToken")," to ",(0,o.kt)("inlineCode",{parentName:"p"},"true"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-actionscript"},"var options:GoogleIdentityOptions = new GoogleIdentityOptionsBuilder()\n    .requestIdToken()\n    .setIOSClientID( Config.clientID_iOS )\n    .setServerClientID( Config.serverClientID )\n    .build();\n\nGoogleIdentity.service.setup( options );\n")),(0,o.kt)("p",null,"Then call sign in to authenticate your user using their Google account:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-actionscript"},"GoogleIdentity.service.addEventListener( GoogleIdentityEvent.SIGN_IN, googleIdentity_signInHandler );\n                    \nGoogleIdentity.service.signIn();\n")),(0,o.kt)("h2",{id:"authenticate-with-firebase"},"Authenticate with Firebase"),(0,o.kt)("p",null,"When sign in completes you'll have access to the id token and access token.\nYou use these to construct an ",(0,o.kt)("inlineCode",{parentName:"p"},"AuthCredential")," that you can pass to the ",(0,o.kt)("inlineCode",{parentName:"p"},"FirebaseAuth"),"\n",(0,o.kt)("inlineCode",{parentName:"p"},"signInWithCredential")," function."),(0,o.kt)("p",null,"To create an ",(0,o.kt)("inlineCode",{parentName:"p"},"AuthCredential")," for Google use the ",(0,o.kt)("inlineCode",{parentName:"p"},"GoogleAuthProvider.getCredential")," method:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-actionscript"},"var credential:AuthCredential = GoogleAuthProvider.getCredential( idToken, accessToken );\n")),(0,o.kt)("p",null,"Then pass this to ",(0,o.kt)("inlineCode",{parentName:"p"},"signInWithCredential"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-actionscript"},"FirebaseAuth.service.signInWithCredential( credential );\n")),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"signInWithCredential")," method will return the ",(0,o.kt)("inlineCode",{parentName:"p"},"FirebaseAuthEvent.SIGNIN_WITH_CREDENTIAL_COMPLETE")," event."),(0,o.kt)("p",null,"For example on the ",(0,o.kt)("inlineCode",{parentName:"p"},"GoogleIdentityEvent.SIGN_IN")," event handler:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-actionscript"},"function googleIdentity_signInHandler( event:GoogleIdentityEvent ):void\n{\n    // Have google sign in, lets use this to sign into Firebase\n    var idToken:String = event.user.authentication.idToken;\n    var accessToken:String = event.user.authentication.accessToken; // probably will be null\n\n    // Create AuthCredential    \n    var credential:AuthCredential = GoogleAuthProvider.getCredential( idToken, accessToken );\n    \n    // Start sign-in to Firebase\n    FirebaseAuth.service.addEventListener( FirebaseAuthEvent.SIGNIN_WITH_CREDENTIAL_COMPLETE, signInWithCredential_completeHandler );\n    FirebaseAuth.service.signInWithCredential( credential );\n}\n")),(0,o.kt)("p",null,"You can then use the ",(0,o.kt)("inlineCode",{parentName:"p"},"SIGNIN_WITH_CREDENTIAL_COMPLETE")," event to process the success sign-in\nwhich will have the ",(0,o.kt)("inlineCode",{parentName:"p"},"FirebaseUser")," with a linked Google provider."),(0,o.kt)("h2",{id:"next-steps"},"Next steps"),(0,o.kt)("p",null,"After a user signs in for the first time, a new user account is created and linked to the credentials\u2014that is, the user name and password, phone number, or auth provider information\u2014the user signed in with. This new account is stored as part of your Firebase project, and can be used to identify a user across every app in your project, regardless of how the user signs in."),(0,o.kt)("p",null,"In your apps, you can get the user's basic profile information from the ",(0,o.kt)("inlineCode",{parentName:"p"},"FirebaseUser")," object.\nIn your Firebase Realtime Database and Cloud Storage Security Rules, you can get the signed-in\nuser's unique user ID from the auth variable, and use it to control what data a user can access.\nYou can allow users to sign in to your app using multiple authentication providers by linking\nauth provider credentials to an existing user account."),(0,o.kt)("p",null,"To sign out a user, call ",(0,o.kt)("inlineCode",{parentName:"p"},"signOut"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-actionscript"},"FirebaseAuth.service.signOut();\n")))}g.isMDXComponent=!0}}]);
"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[93626],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>f});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),u=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=u(e.components);return a.createElement(s.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},g=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),c=u(n),g=r,f=c["".concat(s,".").concat(g)]||c[g]||d[g]||i;return n?a.createElement(f,o(o({ref:t},p),{},{components:n})):a.createElement(f,o({ref:t},p))}));function f(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=g;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[c]="string"==typeof e?e:r,o[1]=l;for(var u=2;u<i;u++)o[u]=n[u];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}g.displayName="MDXCreateElement"},51213:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>l,toc:()=>u});var a=n(87462),r=(n(67294),n(3905));const i={title:"Usage"},o=void 0,l={unversionedId:"appconfig/usage",id:"appconfig/usage",title:"Usage",description:"Get Values",source:"@site/docs/appconfig/usage.md",sourceDirName:"appconfig",slug:"/appconfig/usage",permalink:"/docs/appconfig/usage",draft:!1,tags:[],version:"current",frontMatter:{title:"Usage"},sidebar:"appconfig",previous:{title:"Setup",permalink:"/docs/appconfig/setup"},next:{title:"changelog",permalink:"/docs/appconfig/changelog"}},s={},u=[{value:"Get Values",id:"get-values",level:2},{value:"List Keys",id:"list-keys",level:2},{value:"Events",id:"events",level:2},{value:"Testing",id:"testing",level:2},{value:"iOS Simulator",id:"ios-simulator",level:3}],p={toc:u},c="wrapper";function d(e){let{components:t,...n}=e;return(0,r.kt)(c,(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"get-values"},"Get Values"),(0,r.kt)("p",null,"Once you have setup your application using the extension is a matter of retrieving the values you require.\nTo retrieve a value call ",(0,r.kt)("inlineCode",{parentName:"p"},"getString()")," with the required ",(0,r.kt)("inlineCode",{parentName:"p"},"key"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},"var value:String = AppConfig.instance.getString( key );\n")),(0,r.kt)("p",null,"If the value has been set from the MDM then the most recently received value will be returned."),(0,r.kt)("p",null,'If the value hasn\'t been set then the extension will attempt to read any defined "default" values\n(eg on Android the value in the restrictions resource xml) otherwise ',(0,r.kt)("inlineCode",{parentName:"p"},"null")," will be\nreturned."),(0,r.kt)("h2",{id:"list-keys"},"List Keys"),(0,r.kt)("p",null,"You can retrieve a list of the available keys by calling ",(0,r.kt)("inlineCode",{parentName:"p"},"getKeys()")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},"var keys:Array = AppConfig.instance.getKeys();\n\nfor each (var key:String in keys)\n{\n    var value:String = AppConfig.instance.getString( key );\n}\n")),(0,r.kt)("p",null,"If default values are available (eg on Android as defined in the resources) then these will also be listed as available keys here."),(0,r.kt)("p",null,"In other cases (eg on iOS) the keys may only return keys for values that have been set via MDM."),(0,r.kt)("h2",{id:"events"},"Events"),(0,r.kt)("p",null,"You can listen to the ",(0,r.kt)("inlineCode",{parentName:"p"},"AppConfigEvent.CHANGED")," event to be notified of when the values are changed."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},'AppConfig.instance.addEventListener( AppConfigEvent.CHANGED, changedHandler );\n\nfunction changedHandler( event:AppConfigEvent ):void\n{\n    trace( "values changed" );\n}\n')),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"On iOS this may be triggered when any of the NSUserDefaults values are changed, not just values in the managed config.\nSo you should use this event to refresh your values, but just be aware that it may not have been the managed config that changed.")),(0,r.kt)("h2",{id:"testing"},"Testing"),(0,r.kt)("h3",{id:"ios-simulator"},"iOS Simulator"),(0,r.kt)("p",null,"You can set values in the simulator using the following command:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"xcrun simctl spawn booted defaults write com.distriqt.test 'com.apple.configuration.managed' -dict 'url' 'https://airnativeextensions.com' 'port' 80 'some_key' 'some_value'\n")),(0,r.kt)("p",null,"You can clear the values using:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"xcrun simctl spawn booted defaults delete com.distriqt.test\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"In these commands replace ",(0,r.kt)("inlineCode",{parentName:"p"},"com.distriqt.test")," with your application id.")))}d.isMDXComponent=!0}}]);
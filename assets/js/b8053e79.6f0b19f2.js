"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[38371],{3905:function(e,t,n){n.d(t,{Zo:function(){return s},kt:function(){return h}});var i=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var p=i.createContext({}),u=function(e){var t=i.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},s=function(e){var t=u(e.components);return i.createElement(p.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},c=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,p=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),c=u(n),h=a,m=c["".concat(p,".").concat(h)]||c[h]||d[h]||r;return n?i.createElement(m,o(o({ref:t},s),{},{components:n})):i.createElement(m,o({ref:t},s))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,o=new Array(r);o[0]=c;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var u=2;u<r;u++)o[u]=n[u];return i.createElement.apply(null,o)}return i.createElement.apply(null,n)}c.displayName="MDXCreateElement"},24603:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return o},contentTitle:function(){return l},metadata:function(){return p},toc:function(){return u},default:function(){return d}});var i=n(87462),a=n(63366),r=(n(67294),n(3905)),o={title:"Add the Plugin",sidebar_label:"Unity"},l=void 0,p={unversionedId:"appgroupdefaults/add-the-plugin",id:"appgroupdefaults/add-the-plugin",isDocsHomePage:!1,title:"Add the Plugin",description:"First step is always to add the plugin to your development environment.",source:"@site/docs/appgroupdefaults/add-the-plugin.md",sourceDirName:"appgroupdefaults",slug:"/appgroupdefaults/add-the-plugin",permalink:"/docs/appgroupdefaults/add-the-plugin",tags:[],version:"current",frontMatter:{title:"Add the Plugin",sidebar_label:"Unity"},sidebar:"appgroupdefaults",previous:{title:"AIR",permalink:"/docs/appgroupdefaults/add-the-extension"},next:{title:"iOS",permalink:"/docs/appgroupdefaults/ios"}},u=[{value:"Asset Store",id:"asset-store",children:[]},{value:"Manual Installation",id:"manual-installation",children:[]},{value:"Import the Plugin",id:"import-the-plugin",children:[{value:"iOS Setup",id:"ios-setup",children:[]},{value:"Android",id:"android",children:[]}]},{value:"Checking for Support",id:"checking-for-support",children:[]},{value:"Configuration",id:"configuration",children:[{value:"iOS",id:"ios",children:[]},{value:"Android",id:"android-1",children:[]}]}],s={toc:u};function d(e){var t=e.components,o=(0,a.Z)(e,["components"]);return(0,r.kt)("wrapper",(0,i.Z)({},s,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"First step is always to add the plugin to your development environment. "),(0,r.kt)("h2",{id:"asset-store"},"Asset Store"),(0,r.kt)("p",null,"Open the Asset Store in your browser and add the plugin to your assets."),(0,r.kt)("p",null,'Open the Package Manager (Window > Package Manager) in the Unity Editor and select the "My Assets" section. Select the plugin, and click Import in the bottom right.'),(0,r.kt)("h2",{id:"manual-installation"},"Manual Installation"),(0,r.kt)("p",null,"In unity you import the package by selecting ",(0,r.kt)("inlineCode",{parentName:"p"},"Assets / Import Package / Custom Package ...")," and then browsing to the unity plugin package file: ",(0,r.kt)("inlineCode",{parentName:"p"},"com.distriqt.Share.unitypackage"),"."),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(17152).Z})),(0,r.kt)("p",null,"You can manually download the extension from our repository:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/distriqt/ANE-Share"},"https://github.com/distriqt/ANE-Share"))),(0,r.kt)("h2",{id:"import-the-plugin"},"Import the Plugin"),(0,r.kt)("p",null,"This will present the import dialog and display all the files for the plugin, make sure all the files are selected."),(0,r.kt)("p",null,"The plugin will be added to your project and you can now use the plugins functionality in your application."),(0,r.kt)("h3",{id:"ios-setup"},"iOS Setup"),(0,r.kt)("p",null,'iOS requires set up of an "App Group" for your application(s).'),(0,r.kt)("p",null,"Log into the developer member center and go to your application identifiers."),(0,r.kt)("p",null,"Firstly you will need to create an App Group."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Go to ",(0,r.kt)("a",{parentName:"li",href:"https://developer.apple.com/account/ios/identifier/applicationGroup"},"App Groups")),(0,r.kt)("li",{parentName:"ul"},'Click the "+" in the top right to register a new group'),(0,r.kt)("li",{parentName:"ul"},"Enter a description and an identifier.",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"The identifier is recommended to be a reverse domain style and starting with ",(0,r.kt)("inlineCode",{parentName:"li"},"group.")),(0,r.kt)("li",{parentName:"ul"},"eg: ",(0,r.kt)("inlineCode",{parentName:"li"},"group.com.distriqt.test"))))),(0,r.kt)("p",null,"Once you have created a group you need to enable it for the applications that are going to be placed in this group."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Go to ",(0,r.kt)("a",{parentName:"li",href:"https://developer.apple.com/account/ios/identifier/bundle"},"App IDs")),(0,r.kt)("li",{parentName:"ul"},"Select the application of interest and click edit"),(0,r.kt)("li",{parentName:"ul"},'Enable "App Groups" in the "iOS App ID Settings"'),(0,r.kt)("li",{parentName:"ul"},'Click "Edit" in the "App Groups" row',(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Select the App Group you created previously"),(0,r.kt)("li",{parentName:"ul"},'Click "Continue" and then "Assign"')))),(0,r.kt)("p",null,"You will need to regenerate your provisioning profiles and download them again so make sure you do this now."),(0,r.kt)("p",null,"Next you will need to add this group identifier to the plugin configuration for your application."),(0,r.kt)("h3",{id:"android"},"Android"),(0,r.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"Proguard")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"If you are using a custom proguard configuration you may need to add the following line to ensure the interface class for the plugin is accessible to unity at runtime."),(0,r.kt)("pre",{parentName:"div"},(0,r.kt)("code",{parentName:"pre"},"-keep class com.distriqt.extension.appgroupdefaults.AppGroupDefaultsUnityPlugin {*;}\n")))),(0,r.kt)("h2",{id:"checking-for-support"},"Checking for Support"),(0,r.kt)("p",null,"You can use the ",(0,r.kt)("inlineCode",{parentName:"p"},"isSupported")," flag to determine if this extension is supported on the current platform and device."),(0,r.kt)("p",null,"This allows you to react to whether the functionality is available on the device and provide an alternative solution if not."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"if (AppGroupDefaults.isSupported)\n{\n    // Functionality here\n}\n")),(0,r.kt)("h2",{id:"configuration"},"Configuration"),(0,r.kt)("p",null,"To configure your application open the ",(0,r.kt)("inlineCode",{parentName:"p"},"AppGroupDefaultsConfig.cs")," file and change the configuration values for your application. (This file is located at ",(0,r.kt)("inlineCode",{parentName:"p"},"/Assets/distriqt/AppGroupDefaultsUnity/AppGroupDefaults/Editor/AppGroupDefaultsConfig.cs"),")."),(0,r.kt)("p",null,"This file has 2 important configuration values:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"groupIdentifier")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"applicationAuthority"))),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"These values are used to configure the iOS Xcode project and the Android manifest. There are some additional configuration values supplied at runtime.")),(0,r.kt)("h3",{id:"ios"},"iOS"),(0,r.kt)("p",null,"For iOS the ",(0,r.kt)("inlineCode",{parentName:"p"},"groupIdentifier")," is the identifier for the group you created in the developer console, eg ",(0,r.kt)("inlineCode",{parentName:"p"},"group.com.distriqt.test"),". "),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"applicationAuthority")," value is not used on iOS."),(0,r.kt)("p",null,"To confirm this was done successfully (or to do it manually) you can open the Xcode project after your build and simply select ",(0,r.kt)("strong",{parentName:"p"},"Capabilities")," in your project settings and ensure the App Group capability is enabled. Then select your application groups you plan to use in this application. "),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(75510).Z})),(0,r.kt)("h3",{id:"android-1"},"Android"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"groupIdentifier")," can be anything you require, generally for simplicity we suggest leaving it as the same identifier as for the iOS group. This value should be the same for every application you use inside this group."),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"applicationAuthority")," uniquely identifies this application content provider, while being in a specific pattern that the plugin uses to identify other providers that it can potentially synchronise with. To this end we suggest using ",(0,r.kt)("inlineCode",{parentName:"p"},"group.COMMON.UNIQUE.provider")," as this value, replacing ",(0,r.kt)("inlineCode",{parentName:"p"},"COMMON")," with some common value used across all your applications and ",(0,r.kt)("inlineCode",{parentName:"p"},"UNIQUE")," with something unique for this application, for example:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"group.com.distriqt.authority.unity1.provider")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"group.com.distriqt.authority.unity2.provider")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"group.com.distriqt.authority.unity3.provider"))))}d.isMDXComponent=!0},17152:function(e,t,n){t.Z=n.p+"assets/images/unity-import-package-b85c051a845ff354a7a93475c2d8e06a.png"},75510:function(e,t,n){t.Z=n.p+"assets/images/unity-xcode-capabilities-5eaa0522a219e66b1d6a75e4d4bec002.png"}}]);
"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[72080],{10976:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>l,frontMatter:()=>a,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"compass/heading","title":"Heading","description":"Heading Updates","source":"@site/docs/compass/heading.md","sourceDirName":"compass","slug":"/compass/heading","permalink":"/docs/compass/heading","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Heading","sidebar_label":"Heading"},"sidebar":"compass","previous":{"title":"Add the Extension","permalink":"/docs/compass/add-the-extension"},"next":{"title":"Request Authorisation","permalink":"/docs/compass/request-authorisation"}}');var i=t(74848),o=t(28453);const a={title:"Heading",sidebar_label:"Heading"},r=void 0,d={},c=[{value:"Heading Updates",id:"heading-updates",level:2},{value:"True Heading",id:"true-heading",level:2}];function p(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"heading-updates",children:"Heading Updates"}),"\n",(0,i.jsxs)(n.p,{children:["Once you've initialised the extension calling the ",(0,i.jsx)(n.code,{children:"register"})," function will start\nthe update of event updates (",(0,i.jsx)(n.code,{children:"CompassEvent"}),")."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-actionscript",children:"if (Compass.isSupported)\n{\n\tCompass.init( APP_KEY );\n\tCompass.service.addEventListener( CompassEvent.HEADING_UPDATED, compass_headingUpdatedHandler );\n\tCompass.service.register();\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Listening for the ",(0,i.jsx)(n.code,{children:"CompassEvent.HEADING_UPDATED"})," will give you periodic events with\nheading information:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-actionscript",children:'private function compass_headingUpdatedHandler( event:CompassEvent ):void\n{\n\ttrace( "Heading: " + event.magneticHeading +"   ["+event.headingAccuracy+"]" );\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:["When your application no longer requires the heading updates it's important to call\n",(0,i.jsx)(n.code,{children:"unregister"})," to stop the active usage of the sensors on the device. This will\nconserve battery life etc. This is important when your application goes into\nbackground operation. It's suggested that you use a mechanism to unregister\nthe ANE when this occurs, by using something like the ACTIVATE/DEACTIVATE events."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-actionscript",children:"if (Compass.isSupported && Compass.service.isRegistered)\n{\n\tCompass.service.unregister();\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"true-heading",children:"True Heading"}),"\n",(0,i.jsx)(n.p,{children:"On iOS you can access the true heading of the device, however this requires access to the device location so you will need to add some additional properties to your application and request permission to access the device location."}),"\n",(0,i.jsxs)(n.p,{children:["For more information on this see the section on ",(0,i.jsx)(n.a,{href:"/docs/compass/request-authorisation",children:"request authorisation"})]}),"\n",(0,i.jsx)(n.admonition,{title:"Android",type:"note",children:(0,i.jsx)(n.p,{children:"True Heading is not supported on Android"})})]})}function l(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>r});var s=t(96540);const i={},o=s.createContext(i);function a(e){const n=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);
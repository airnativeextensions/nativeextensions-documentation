(window.webpackJsonp=window.webpackJsonp||[]).push([[201],{257:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return l})),n.d(t,"rightToc",(function(){return b})),n.d(t,"default",(function(){return d}));var r=n(2),a=n(6),i=(n(0),n(886)),o={title:"Migrating to v4",sidebar_label:"Migrating to v4"},l={unversionedId:"firebase/migrating-to-v4",id:"firebase/migrating-to-v4",isDocsHomePage:!1,title:"Migrating to v4",description:"Version 4 brings a major update of the Firebase extensions and with it a series of changes.",source:"@site/docs/firebase/migrating-to-v4.md",slug:"/firebase/migrating-to-v4",permalink:"/docs/firebase/migrating-to-v4",version:"current",sidebar_label:"Migrating to v4",sidebar:"firebase",previous:{title:"Migrating to v6",permalink:"/docs/firebase/migrating-to-v6"},next:{title:"changelog",permalink:"/docs/firebase/changelog"}},b=[{value:"AndroidX",id:"androidx",children:[]},{value:"Firebase update",id:"firebase-update",children:[]}],c={rightToc:b};function d(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(i.b)("wrapper",Object(r.a)({},c,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,"Version 4 brings a major update of the Firebase extensions and with it a series of changes."),Object(i.b)("p",null,"The main changes you will need to do are for the Android implementation. "),Object(i.b)("h2",{id:"androidx"},"AndroidX"),Object(i.b)("p",null,"Firstly migrate all AndroidSupport extensions to AndroidX.  AndroidX is a major improvement to the original Android Support Library, which is no longer maintained. androidx packages fully replace the Support Library by providing feature parity and new libraries."),Object(i.b)("p",null,"As there will be no further updates to the Android Support libraries we are migrating all our extensions to AndroidX. Importantly Android Support libraries are not compatible with AndroidX so applications have to migrate all functionality from the support libraries to AndroidX together."),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"This means you cannot use older extensions that rely on the Android Support libraries with the latest builds of our extensions and you must upgrade all of our extensions simultaneously.")," "),Object(i.b)("p",null,"Generally migrating is fairly simple. "),Object(i.b)("p",null,"Simply use the table below to swap the extensions you currently have in your application."),Object(i.b)("table",null,Object(i.b)("thead",{parentName:"table"},Object(i.b)("tr",{parentName:"thead"},Object(i.b)("th",Object(r.a)({parentName:"tr"},{align:null}),"Android Support"),Object(i.b)("th",Object(r.a)({parentName:"tr"},{align:null}),"Android X"))),Object(i.b)("tbody",{parentName:"table"},Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(r.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"com.distriqt.androidsupport.V4")),Object(i.b)("td",Object(r.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"androidx.core"))),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(r.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"com.distriqt.androidsupport.AppCompatV7")),Object(i.b)("td",Object(r.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"androidx.appcompat"))),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(r.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"com.distriqt.androidsupport.CardViewV7")),Object(i.b)("td",Object(r.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"androidx.cardview"))),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(r.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"com.distriqt.androidsupport.CustomTabs")),Object(i.b)("td",Object(r.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"androidx.browser"))),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(r.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"com.distriqt.androidsupport.Design")),Object(i.b)("td",Object(r.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"com.google.android.material"))),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(r.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"com.distriqt.androidsupport.InstallReferrer")),Object(i.b)("td",Object(r.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"com.android.installreferrer"))),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(r.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"com.distriqt.androidsupport.RecyclerView")),Object(i.b)("td",Object(r.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"androidx.recyclerview"))))),Object(i.b)("p",null,"We have included all these extensions in the existing Android Support repository and will continue to use this repository to hold any common Google provided Android libraries that aren't dependent on the Google Play Services. "),Object(i.b)("blockquote",null,Object(i.b)("p",{parentName:"blockquote"},"You should remove any android support ANEs you are using and replace them with the androidx equivalents.\nCheck the documentation on the extensions you are using to confirm which of the new extensions you will need.")),Object(i.b)("h2",{id:"firebase-update"},"Firebase update"),Object(i.b)("p",null,"Now that we have access to AndroidX we have been able to update the Android Firebase libraries to the latest releases. The migration to AndroidX has been holding back this development."),Object(i.b)("p",null,"This means that there has been many changes to the manifest and extension dependency of the ANEs."),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"Firstly you will need to add the ",Object(i.b)("inlineCode",{parentName:"p"},"com.google.firebase.core")," extension. This extension contains all the common core Firebase functionality that is needed across any extensino that utilises Firebase, including Firebase Messaging (in the Push Notifications extension) and all the Firebase collection extensions.")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},'Then check the "Add the Extension" page for each of the Firebase components you use. There have been a lot of manifest changes, in particular around the ',Object(i.b)("inlineCode",{parentName:"p"},"ComponentDiscoveryService"),"."))),Object(i.b)("blockquote",null,Object(i.b)("p",{parentName:"blockquote"},"As always, if you have any problems during the migration, please contact support through the github issue tracker and we will help you through the migration. ")))}d.isMDXComponent=!0},886:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return m}));var r=n(0),a=n.n(r);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=a.a.createContext({}),d=function(e){var t=a.a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},s=function(e){var t=d(e.components);return a.a.createElement(c.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},u=a.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,o=e.parentName,c=b(e,["components","mdxType","originalType","parentName"]),s=d(n),u=r,m=s["".concat(o,".").concat(u)]||s[u]||p[u]||i;return n?a.a.createElement(m,l(l({ref:t},c),{},{components:n})):a.a.createElement(m,l({ref:t},c))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=u;var l={};for(var b in t)hasOwnProperty.call(t,b)&&(l[b]=t[b]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var c=2;c<i;c++)o[c]=n[c];return a.a.createElement.apply(null,o)}return a.a.createElement.apply(null,n)}u.displayName="MDXCreateElement"}}]);
"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[47846],{28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>c});var i=t(96540);const a={},s=i.createContext(a);function o(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),i.createElement(s.Provider,{value:n},e.children)}},72501:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/windows-actions-f40d4a036c362429a4909da87c973acf.png"},77684:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"pushnotifications/windows/windows-wns-payload","title":"Windows WNS Payload","description":"The payload for the WNS notificaiton contains a Windows Toast XML structure.","source":"@site/docs/pushnotifications/windows/windows-wns-payload.md","sourceDirName":"pushnotifications/windows","slug":"/pushnotifications/windows/windows-wns-payload","permalink":"/docs/pushnotifications/windows/windows-wns-payload","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Windows WNS Payload","sidebar_label":"Windows WNS Payload"},"sidebar":"pushnotifications","previous":{"title":"FCM-GCM Payload","permalink":"/docs/pushnotifications/firebase/fcm-gcm-payload"},"next":{"title":"Pushy Payload","permalink":"/docs/pushnotifications/pushy/pushy-payload"}}');var a=t(74848),s=t(28453);const o={title:"Windows WNS Payload",sidebar_label:"Windows WNS Payload"},c=void 0,l={},d=[{value:"Text",id:"text",level:3},{value:"Images",id:"images",level:3},{value:"Actions",id:"actions",level:3},{value:"Example",id:"example",level:3}];function r(e){const n={a:"a",code:"code",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.p,{children:"The payload for the WNS notificaiton contains a Windows Toast XML structure."}),"\n",(0,a.jsx)(n.p,{children:"There are a couple of important fields you will need to specify in order that the notification works correctly with the Push Notifications extension."}),"\n",(0,a.jsx)(n.p,{children:"The simplest structure is a simple text notification, containing a single line of text:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:"<toast launch='payload=PAYLOADFORTHENOTIFICATION'>\n  <visual lang='en-US'>\n    <binding template='ToastGeneric'>\n    <text>Test Notification</text>\n    </binding>\n  </visual>\n</toast>\n"})}),"\n",(0,a.jsxs)(n.p,{children:["The important thing to note in all notifications in the ",(0,a.jsx)(n.code,{children:"launch"})," attribute of the root ",(0,a.jsx)(n.code,{children:"toast"})," node. This must contain your payload."]}),"\n",(0,a.jsxs)(n.p,{children:["You can either specify it as a url encoded parameters as above incuding the ",(0,a.jsx)(n.code,{children:"payload"})," parameter, or if this isn't included the entire value of the ",(0,a.jsx)(n.code,{children:"launch"})," attribute will be returned as the payload. We recommend the parameter approach as it matches up with actions."]}),"\n",(0,a.jsx)(n.h3,{id:"text",children:"Text"}),"\n",(0,a.jsxs)(n.p,{children:["You can include multiple lines of text, each wrapped in a ",(0,a.jsx)(n.code,{children:"text"})," node, eg:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:"<toast launch='payload=%7B%22test%22%3A%22value%22%7D'>\n  <visual lang='en-US'>\n    <binding template='ToastGeneric'>\n    <text>Test Notification</text>\n    <text>A notification sent via WNS</text>\n    </binding>\n  </visual>\n</toast>\n"})}),"\n",(0,a.jsx)(n.p,{children:"The first will be used as a title for the notification and subsequent lines will be used as the content of the notification."}),"\n",(0,a.jsx)(n.h3,{id:"images",children:"Images"}),"\n",(0,a.jsxs)(n.p,{children:["To add an image to your notification add an ",(0,a.jsx)(n.code,{children:"image"})," node to your ",(0,a.jsx)(n.code,{children:"visual"})," component, alongside the ",(0,a.jsx)(n.code,{children:"text"})," nodes."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:"<toast launch='payload=%7B%22test%22%3A%22value%22%7D'>\n  <visual lang='en-US'>\n    <binding template='ToastGeneric'>\n    <image src='ms-appx:///assets/notifications/bigImage.png' placement='inline' />\n    <text>Test Notification</text>\n    <text>A notification sent via WNS</text>\n    </binding>\n  </visual>\n</toast>\n"})}),"\n",(0,a.jsxs)(n.p,{children:["You can specify their ",(0,a.jsx)(n.code,{children:"placement"})," as one of the following:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"appLogoOverride"}),": Acts as a large icon for the notification, appearing beside the text;"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"inline"}),": Adds the image into the content of the notification;"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"hero"}),': Adds the image at the top of the notification as a "hero" image (only supported on recent versions of Windows);']}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Example:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:"<image src='https://airnativeextensions.com/images/extensions/icons/ane-pushnotifications-icon.png' placement='appLogoOverride' />\n<image src='ms-appx:///assets/notifications/bigImage.png' placement='inline' />\n<image src='ms-appx:///assets/notifications/bigImage3.png' placement='hero' />\n"})}),"\n",(0,a.jsx)(n.p,{children:"The source of the notification as either a url or an application packaged asset."}),"\n",(0,a.jsxs)(n.p,{children:["To specify a url, use the complete url of the file as the ",(0,a.jsx)(n.code,{children:"src"})," attribute."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:"<image src='https://airnativeextensions.com/images/extensions/icons/ane-pushnotifications-icon.png' placement='appLogoOverride' />\n"})}),"\n",(0,a.jsxs)(n.p,{children:["To specify a packaged asset, use the relative path to the asset in your application package, prefixed by ",(0,a.jsx)(n.code,{children:"ms-appx:///"}),". For example to use an asset packaged as ",(0,a.jsx)(n.code,{children:"assets/notifications/bigImage.png"}),", you would use ",(0,a.jsx)(n.code,{children:"ms-appx:///assets/notifications/bigImage.png"})," as the ",(0,a.jsx)(n.code,{children:"src"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:"<image src='ms-appx:///assets/notifications/bigImage.png' placement='inline' />\n"})}),"\n",(0,a.jsx)(n.h3,{id:"actions",children:"Actions"}),"\n",(0,a.jsxs)(n.p,{children:["Actions are added to a notification in an ",(0,a.jsx)(n.code,{children:"actions"})," node alongside the ",(0,a.jsx)(n.code,{children:"visual"})," node:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:"<toast>\n    <visual>\n    </visual>\n    <actions>\n    </actions>\n</toast>\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:t(72501).A+"",width:"371",height:"157"})}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.code,{children:"actions"})," node contains a series of ",(0,a.jsx)(n.code,{children:"action"})," nodes, each specifying an action button the user can press."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:"<toast launch='payload=%7B%22test%22%3A%22value%22%7D'>\n  <visual lang='en-US'>\n    <binding template='ToastGeneric'>\n    <text>Test Notification</text>\n    </binding>\n  </visual>\n  <actions>\n    <action \n        content='Accept' \n        activationType='foreground' \n        arguments='action=ACCEPT_IDENTIFIER&amp;payload=%7B%22test%22%3A%22value%22%2C%20%22action%22%3A%22accept%22%7D' />\n  </actions>\n</toast>\n"})}),"\n",(0,a.jsx)(n.p,{children:"An action has the following attributes:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"content"}),": The label on the action button;"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"activationType"}),": Must be ",(0,a.jsx)(n.code,{children:"foreground"}),";"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"arguments"}),": The arguments need to be in a url encoded paramaters format in order that the extension can correctly process the user interaction with the action, and they must include:","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"action"}),": The value being the identifier of the action returned in the ",(0,a.jsx)(n.code,{children:"ACTION"})," event (",(0,a.jsx)(n.code,{children:"ACCEPT_IDENTIFER"})," in the above example);"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"payload"}),": the payload of the notification returned in the ",(0,a.jsx)(n.code,{children:"ACTION"})," event, this can be different or the same as the main notification payload in the ",(0,a.jsx)(n.code,{children:"launch"})," parameter, but must be duplicated here. The above example contains a json string (url encoded):","\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{ \n    "test": "value",\n    "action": "accept"\n}\n'})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"example",children:"Example"}),"\n",(0,a.jsx)(n.p,{children:"The following is an example of a payload containing all of the above features:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:"<toast launch='payload=%7B%22test%22%3A%22value%22%7D'>\n  <visual lang='en-US'>\n    <binding template='ToastGeneric'>\n        <image src='https://airnativeextensions.com/images/extensions/icons/ane-pushnotifications-icon.png' placement='appLogoOverride' />\n        <image src='ms-appx:///assets/notifications/bigImage.png' placement='inline' />\n        <image src='ms-appx:///assets/notifications/bigImage3.png' placement='hero' />\n        <text>Test Notification</text>\n        <text>A notification sent via WNS</text>\n    </binding>\n  </visual>\n  <actions>\n    <action content='Accept' arguments='action=ACCEPT_IDENTIFIER&amp;payload=%7B%22test%22%3A%22value%22%2C%20%22action%22%3A%22accept%22%7D' activationType='foreground' />\n    <action content='Delete' arguments='action=DELETE_IDENTIFIER&amp;payload=%7B%22test%22%3A%22value%22%2C%20%22action%22%3A%22delete%22%7D' activationType='foreground' />\n  </actions>\n</toast>\n"})}),"\n",(0,a.jsx)(n.p,{children:"References:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://docs.microsoft.com/en-us/windows/uwp/design/shell/tiles-and-notifications/adaptive-interactive-toasts",children:"https://docs.microsoft.com/en-us/windows/uwp/design/shell/tiles-and-notifications/adaptive-interactive-toasts"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://docs.microsoft.com/en-au/uwp/schemas/tiles/toastschema/schema-root",children:"https://docs.microsoft.com/en-au/uwp/schemas/tiles/toastschema/schema-root"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(r,{...e})}):r(e)}}}]);
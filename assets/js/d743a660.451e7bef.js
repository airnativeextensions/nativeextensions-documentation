"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[32928],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return h}});var a=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),d=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},u=function(e){var t=d(e.components);return a.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),c=d(n),h=i,v=c["".concat(s,".").concat(h)]||c[h]||p[h]||r;return n?a.createElement(v,l(l({ref:t},u),{},{components:n})):a.createElement(v,l({ref:t},u))}));function h(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,l=new Array(r);l[0]=c;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:i,l[1]=o;for(var d=2;d<r;d++)l[d]=n[d];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},57611:function(e,t,n){n.r(t),n.d(t,{assets:function(){return u},contentTitle:function(){return s},default:function(){return h},frontMatter:function(){return o},metadata:function(){return d},toc:function(){return p}});var a=n(83117),i=n(80102),r=(n(67294),n(3905)),l=["components"],o={title:"Interstitials",sidebar_label:"Interstitials"},s=void 0,d={unversionedId:"adverts/interstitials",id:"adverts/interstitials",title:"Interstitials",description:"The interstitials are fullscreen adverts that you can use to transition between",source:"@site/docs/adverts/interstitials.md",sourceDirName:"adverts",slug:"/adverts/interstitials",permalink:"/docs/adverts/interstitials",draft:!1,tags:[],version:"current",frontMatter:{title:"Interstitials",sidebar_label:"Interstitials"},sidebar:"adverts",previous:{title:"Banner Adverts",permalink:"/docs/adverts/banner-adverts"},next:{title:"Rewarded Video Ads",permalink:"/docs/adverts/rewarded-video-ads"}},u={},p=[{value:"Support",id:"support",level:2},{value:"Creating an Interstitial",id:"creating-an-interstitial",level:2},{value:"Loading",id:"loading",level:2},{value:"Testing and Development",id:"testing-and-development",level:2},{value:"Checking Loaded",id:"checking-loaded",level:2},{value:"Display",id:"display",level:2},{value:"Events",id:"events",level:2},{value:"Refresh",id:"refresh",level:2}],c={toc:p};function h(e){var t=e.components,n=(0,i.Z)(e,l);return(0,r.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"The interstitials are fullscreen adverts that you can use to transition between\nscenes in your application, such as after a game level."),(0,r.kt)("p",null,"Interstitials are represented by the ",(0,r.kt)("inlineCode",{parentName:"p"},"InterstitialAd")," class. You create an instance of this class using the extension and then use this instance to set properties, load and display the interstitial."),(0,r.kt)("p",null,"All of the interstitial functionality is provided through the ",(0,r.kt)("inlineCode",{parentName:"p"},"Adverts.service.interstitials")," singleton."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"You must initialise an advert platform before calling any of the interstitial functionality.\nSee the ",(0,r.kt)("a",{parentName:"p",href:"initialise-platform"},"Initialise Platform")," section.")),(0,r.kt)("h2",{id:"support"},"Support"),(0,r.kt)("p",null,"The interstitials have their own ",(0,r.kt)("inlineCode",{parentName:"p"},"isSupported")," flag as interstitials aren't available on all platform and services."),(0,r.kt)("p",null,"To check if interstitials are supported:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},"if (Adverts.service.interstitials.isSupported)\n{\n    // Interstitials are supported\n}\n")),(0,r.kt)("p",null,"This allows you to create a fallback scenario if interstitials aren't supported on the current platform and device. "),(0,r.kt)("h2",{id:"creating-an-interstitial"},"Creating an Interstitial"),(0,r.kt)("p",null,"To create an ",(0,r.kt)("inlineCode",{parentName:"p"},"InterstitialAd")," use the ",(0,r.kt)("inlineCode",{parentName:"p"},"createInterstitialAd")," function:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},"var interstitial:InterstitialAd = Adverts.service.interstitials.createInterstitialAd();\n")),(0,r.kt)("p",null,"This will instanciate an instance of the ",(0,r.kt)("inlineCode",{parentName:"p"},"InterstitialAd")," class. "),(0,r.kt)("p",null,"You must set the ad unit on this ad as soon as possible by using the ",(0,r.kt)("inlineCode",{parentName:"p"},"setAdUnitId")," function:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},'interstitial.setAdUnitId( "interstitial_adUnitId" );\n')),(0,r.kt)("p",null,"Without setting the ad unit id everything else regarding the interstitial will fail."),(0,r.kt)("h2",{id:"loading"},"Loading"),(0,r.kt)("p",null,"Interstitials should be preloaded in your application. This allows you to start the load at any time, and only display when your application is ready or when the advert has been loaded."),(0,r.kt)("p",null,"To load an advert you use the ",(0,r.kt)("inlineCode",{parentName:"p"},"load")," function and pass it an ",(0,r.kt)("inlineCode",{parentName:"p"},"AdRequest")," object which will specify the details of the ad request to load. You create an ",(0,r.kt)("inlineCode",{parentName:"p"},"AdRequest")," by using the ",(0,r.kt)("inlineCode",{parentName:"p"},"AdRequestBuilder"),". The builder is used to correctly create the request object and easily set the availble properties on the request."),(0,r.kt)("p",null,"The simplest example is to just use a generic request:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},"interstitial.load( new AdRequestBuilder().build() );\n")),(0,r.kt)("p",null,"See ",(0,r.kt)("a",{parentName:"p",href:"targeting"},"Targeting")," for more on the ",(0,r.kt)("inlineCode",{parentName:"p"},"AdRequestBuilder")," targetting options."),(0,r.kt)("p",null,"You can listen for events that will inform you on when an advert is available or if there were any errors in loading the advert.\nThere are two events of interest here:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"InterstitialAdEvent.LOADED"),": dispatched when an ad has finished loading;"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"InterstitialAdEvent.ERROR"),": dispatched if the ad failed to load")),(0,r.kt)("p",null,"You can use the loaded event to delay displaying the ad until you are sure an ad is available."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},'interstitial.addEventListener( InterstitialAdEvent.LOADED, loadedHandler );\ninterstitial.addEventListener( InterstitialAdEvent.ERROR, errorHandler );\n\n\nfunction loadedHandler( event:InterstitialAdEvent ):void\n{\n    // interstitial loaded and ready to be displayed\n}\n\nfunction errorHandler( event:InterstitialAdEvent ):void\n{\n    // Load error occurred. The errorCode will contain more information\n    trace( "Error" + event.errorCode );\n}\n')),(0,r.kt)("p",null,"If an error occurs you can use the ",(0,r.kt)("inlineCode",{parentName:"p"},"errorCode")," on the event to determine what type of error occurred. See the ",(0,r.kt)("a",{parentName:"p",href:"troubleshooting"},"troubleshooting")," guide to determine what happened."),(0,r.kt)("h2",{id:"testing-and-development"},"Testing and Development"),(0,r.kt)("p",null,"It is very important that while you are developing your application that you do not serve live ads. ",(0,r.kt)("strong",{parentName:"p"},"This is a requirement of the usage of AdMob and not following this correctly can have your application id blocked from using AdMob.")),(0,r.kt)("p",null,"While in development you should either use the test ad unit ids available or specify your test device id in your request configuration. More information on this is located in the section on ",(0,r.kt)("a",{parentName:"p",href:"test-ads"},"Test Ads")),(0,r.kt)("p",null,"The following Ad Unit IDs can be used to test interstitial ads in your application:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Android: ",(0,r.kt)("inlineCode",{parentName:"li"},"ca-app-pub-3940256099942544/1033173712")),(0,r.kt)("li",{parentName:"ul"},"iOS: ",(0,r.kt)("inlineCode",{parentName:"li"},"ca-app-pub-3940256099942544/4411468910"),"\t\t")),(0,r.kt)("h2",{id:"checking-loaded"},"Checking Loaded"),(0,r.kt)("p",null,"You can check whether the advert is loaded by waiting for the ",(0,r.kt)("inlineCode",{parentName:"p"},"InterstitialEvent.LOADED"),"\nor checking the ",(0,r.kt)("inlineCode",{parentName:"p"},"isLoaded()")," flag. It is useful to use the flag to confirm that the ad is loaded before attempting to display the ad:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},"if (interstitial.isLoaded())\n{\n    // Show the ad\n}\n")),(0,r.kt)("h2",{id:"display"},"Display"),(0,r.kt)("p",null,"When you are ready to display your advert you call ",(0,r.kt)("inlineCode",{parentName:"p"},"show()")," as below."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},"interstitial.show();\n")),(0,r.kt)("p",null,"When showing an advert you should save any content in your application as the advert may take the user out of your application if they follow the presented action. The ",(0,r.kt)("inlineCode",{parentName:"p"},"InterstitialAdEvent.CLOSED")," event is dispatched when the user closes the advert and control returns to your application and you can then resume operation."),(0,r.kt)("p",null,"As noted above you should check if the advert is loaded before calling show:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},"if (interstitial.isLoaded())\n{\n    interstitial.show();\n}\n")),(0,r.kt)("h2",{id:"events"},"Events"),(0,r.kt)("p",null,"There are several events dispatched by the advert as the user interacts with it:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"FullScreenContentEvent.SHOW"),": dispatched when an ad opens an overlay that covers the screen;"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"FullScreenContentEvent.FAILED_TO_SHOW"),": dispatched when an ad fails to be shown;"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"FullScreenContentEvent.DISMISSED"),": dispatched when a user returns to the app, having dismissed the interstitial;")),(0,r.kt)("p",null,"At the very least we suggest you should listen for the closed event to know when control returns to your application."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},"interstitial.addEventListener( FullScreenContentEvent.SHOW, showHandler );\ninterstitial.addEventListener( FullScreenContentEvent.FAILED_TO_SHOW, failedToShowHandler );\ninterstitial.addEventListener( FullScreenContentEvent.DISMISSED, dismissedHandler );\n\nif (interstitial.isLoaded())\n{\n    interstitial.show();\n}\n\n\nfunction showHandler( event:FullScreenContentEvent ):void \n{\n    // The interstitial has been opened and is now visible to the user \n}\n\nfunction failedToShowHandler( event:FullScreenContentEvent ):void \n{\n    // The ad failed to be shown \n}\n\nfunction dismissedHandler( event:FullScreenContentEvent ):void \n{\n    // Control has returned to your application\n    // you should reactivate any paused / stopped parts of your application.\n}\n")),(0,r.kt)("h2",{id:"refresh"},"Refresh"),(0,r.kt)("p",null,"Once you have displayed an interstitial a new ad needs to be loaded in order to display the interstitial again. This is a simple matter of starting a new ad request load:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},"interstitial.load( new AdRequestBuilder().build() );\n")),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"FullScreenContentEvent.DISMISSED")," event is generally a good place to trigger this load so that you ensure you always have a loaded ad available to display in your application, however you can handle this process as you see fit."))}h.isMDXComponent=!0}}]);
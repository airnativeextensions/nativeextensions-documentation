"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[3668],{28453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>o});var s=n(96540);const r={},a=s.createContext(r);function i(e){const t=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),s.createElement(a.Provider,{value:t},e.children)}},45527:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"firebase/auth/manage-users","title":"Auth - Manage Users","description":"If a user has signed in successfully you can get their account data","source":"@site/docs/firebase/auth/manage-users.md","sourceDirName":"firebase/auth","slug":"/firebase/auth/manage-users","permalink":"/docs/firebase/auth/manage-users","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Auth - Manage Users","sidebar_label":"Manage Users"},"sidebar":"firebase","previous":{"title":"Initialise","permalink":"/docs/firebase/auth/initialise"},"next":{"title":"Email","permalink":"/docs/firebase/auth/provider/email"}}');var r=n(74848),a=n(28453);const i={title:"Auth - Manage Users",sidebar_label:"Manage Users"},o=void 0,c={},l=[{value:"Provider specific profile information",id:"provider-specific-profile-information",level:2},{value:"Update profile",id:"update-profile",level:2},{value:"Update email",id:"update-email",level:2},{value:"Verification email",id:"verification-email",level:2},{value:"Update Password",id:"update-password",level:2},{value:"Send a password reset email",id:"send-a-password-reset-email",level:2},{value:"Delete a user",id:"delete-a-user",level:2},{value:"Re-authenticate a user",id:"re-authenticate-a-user",level:2},{value:"User Token",id:"user-token",level:2}];function d(e){const t={a:"a",blockquote:"blockquote",code:"code",h2:"h2",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(t.p,{children:["If a user has signed in successfully you can get their account data\nat any point with the ",(0,r.jsx)(t.code,{children:"getCurrentUser"})," method."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-actionscript",children:'var user:FirebaseUser = FirebaseAuth.service.getCurrentUser();\nif (user != null)\n{\n\ttrace( "displayName: " + user.displayName );\n\ttrace( "email:       " + user.email );\n\ttrace( "photo Uri:   " + user.photoUri );\n\n\t// The user\'s ID, unique to the Firebase project. Do NOT use this value to\n\t// authenticate with your backend server, if you have one. Use\n\t// FirebaseUser.getToken() instead.\n\ttrace( "identifier:  " + user.identifier );\n}\nelse \n{\n\ttrace( "Not signed in" );\n}\n'})}),"\n",(0,r.jsx)(t.h2,{id:"provider-specific-profile-information",children:"Provider specific profile information"}),"\n",(0,r.jsxs)(t.p,{children:["To get the profile information retrieved from the sign-in providers linked to a user,\nuse the Vector array of ",(0,r.jsx)(t.code,{children:"UserInfo"})," objects."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-actionscript",children:'var user:FirebaseUser = FirebaseAuth.service.getCurrentUser();\nif (user != null)\n{\n\tfor each (var info:UserInfo in user.providers)\n\t{\n\t\ttrace( "provider:    " + info.providerId );\n\t\ttrace( "identifier:  " + info.identifier );\n\t\ttrace( "displayName: " + info.displayName );\n\t\ttrace( "email:       " + info.email );\n\t}\n}\n'})}),"\n",(0,r.jsx)(t.h2,{id:"update-profile",children:"Update profile"}),"\n",(0,r.jsxs)(t.p,{children:["You can update a user's basic profile information\u2014the user's display name and profile\nphoto URL\u2014with the ",(0,r.jsx)(t.code,{children:"updateProfile"})," method. For example:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-actionscript",children:'var request:UserProfileChangeRequest = new UserProfileChangeRequestBuilder()\n\t\t.setDisplayName( "Jane Q. User" )\n\t\t.setPhotoUri( "https://example.com/jane-q-user/profile.jpg" )\n\t\t.build();\n\nFirebaseAuth.service.getCurrentUser().addEventListener( \n\tFirebaseUserEvent.UPDATE_PROFILE_COMPLETE,\n\tupdateProfile_completeHandler );\n\nFirebaseAuth.service.getCurrentUser().updateProfile( request );\n'})}),"\n",(0,r.jsxs)(t.p,{children:["You can use the ",(0,r.jsx)(t.code,{children:"FirebaseUserEvent.UPDATE_PROFILE_COMPLETE"})," event to listen for the completion\nof the ",(0,r.jsx)(t.code,{children:"updateProfile"})," method."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-actionscript",children:'private function updateProfile_completeHandler( event:FirebaseUserEvent ):void\n{\n\ttrace( "updateProfile(): complete: "+event.success +"::"+event.message );\n\tFirebaseAuth.service.getCurrentUser().removeEventListener( \n\t\tFirebaseUserEvent.UPDATE_PROFILE_COMPLETE,\n\t\tupdateProfile_completeHandler );\n}\n'})}),"\n",(0,r.jsx)(t.h2,{id:"update-email",children:"Update email"}),"\n",(0,r.jsxs)(t.p,{children:["You can set a user's email address with the ",(0,r.jsx)(t.code,{children:"updateEmail"})," method. For example:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-actionscript",children:'FirebaseAuth.service.getCurrentUser().addEventListener( \n\tFirebaseUserEvent.UPDATE_EMAIL_COMPLETE,\n\tupdateEmail_completeHandler );\n\nFirebaseAuth.service.getCurrentUser().updateEmail( "user@example.com" );\n'})}),"\n",(0,r.jsxs)(t.p,{children:["You can use the ",(0,r.jsx)(t.code,{children:"FirebaseUserEvent.UPDATE_EMAIL_COMPLETE"})," event to listen for the completion\nof the ",(0,r.jsx)(t.code,{children:"updateEmail"})," method."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-actionscript",children:'private function updateEmail_completeHandler( event:FirebaseUserEvent ):void\n{\n\ttrace( "updateEmail(): complete: "+event.success +"::"+event.message );\n\tFirebaseAuth.service.getCurrentUser().removeEventListener( \n\t\tFirebaseUserEvent.UPDATE_EMAIL_COMPLETE,\n\t\tupdateEmail_completeHandler );\n}\n'})}),"\n",(0,r.jsxs)(t.blockquote,{children:["\n",(0,r.jsx)(t.p,{children:"Important: To set a user's email address, the user must have signed in recently.\nSee Re-authenticate a user."}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"verification-email",children:"Verification email"}),"\n",(0,r.jsxs)(t.p,{children:["You can send an address verification email to a user with the ",(0,r.jsx)(t.code,{children:"sendEmailVerification"})," method. For example:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-actionscript",children:"FirebaseAuth.service.getCurrentUser().addEventListener(\n\tFirebaseUserEvent.SEND_EMAIL_VERIFICATION_COMPLETE,\n\tsendEmailVerification_completeHandler );\n\nFirebaseAuth.service.getCurrentUser().sendEmailVerification();\n"})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-actionscript",children:'private function sendEmailVerification_completeHandler( event:FirebaseUserEvent ):void\n{\n\tlog( "sendEmailVerification(): complete: " + event.success +"::"+event.message );\n\tFirebaseAuth.service.getCurrentUser().removeEventListener(\n\t\tFirebaseUserEvent.SEND_EMAIL_VERIFICATION_COMPLETE,\n\t\tsendEmailVerification_completeHandler );\n}\n'})}),"\n",(0,r.jsxs)(t.p,{children:["You can customize the email template that is used in Authentication section of the\n",(0,r.jsx)(t.a,{href:"https://firebase.google.com/console/",children:"Firebase console"}),", on the Email Templates page.\nSee ",(0,r.jsx)(t.a,{href:"https://support.google.com/firebase/answer/7000714",children:"Email Templates"})," in Firebase Help Center."]}),"\n",(0,r.jsx)(t.h2,{id:"update-password",children:"Update Password"}),"\n",(0,r.jsxs)(t.p,{children:["You can set a user's password with the ",(0,r.jsx)(t.code,{children:"updatePassword"})," method. For example:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-actionscript",children:'FirebaseAuth.service.getCurrentUser().addEventListener( \n\tFirebaseUserEvent.UPDATE_PASSWORD_COMPLETE,\n\tupdatePassword_completeHandler );\n\nFirebaseAuth.service.getCurrentUser().updatePassword( "SOME-SECURE-PASSWORD" );\n'})}),"\n",(0,r.jsxs)(t.p,{children:["You can use the ",(0,r.jsx)(t.code,{children:"FirebaseUserEvent.UPDATE_PASSWORD_COMPLETE"})," event to listen for the completion\nof the ",(0,r.jsx)(t.code,{children:"updatePassword"})," method."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-actionscript",children:'private function updatePassword_completeHandler( event:FirebaseUserEvent ):void\n{\n\ttrace( "updatePassword(): complete: "+event.success +"::"+event.message );\n\tFirebaseAuth.service.getCurrentUser().removeEventListener( \n\t\tFirebaseUserEvent.UPDATE_PASSWORD_COMPLETE,\n\t\tupdatePassword_completeHandler );\n}\n'})}),"\n",(0,r.jsxs)(t.blockquote,{children:["\n",(0,r.jsx)(t.p,{children:"Important: To set a user's email address, the user must have signed in recently.\nSee Re-authenticate a user."}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"send-a-password-reset-email",children:"Send a password reset email"}),"\n",(0,r.jsx)(t.p,{children:"You can send a password reset email to a user with the sendPasswordResetEmail method. For example:"}),"\n",(0,r.jsxs)(t.p,{children:["You can customize the email template that is used in Authentication section of the\n",(0,r.jsx)(t.a,{href:"https://firebase.google.com/console/",children:"Firebase console"}),", on the Email Templates page.\nSee ",(0,r.jsx)(t.a,{href:"https://support.google.com/firebase/answer/7000714",children:"Email Templates"})," in Firebase Help Center."]}),"\n",(0,r.jsx)(t.p,{children:"You can also send password rest emails from the Firebase console."}),"\n",(0,r.jsx)(t.h2,{id:"delete-a-user",children:"Delete a user"}),"\n",(0,r.jsx)(t.p,{children:"You can delete a user account with the delete method. For example:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-actionscript",children:"FirebaseAuth.service.getCurrentUser().addEventListener( \n\tFirebaseUserEvent.DELETE_USER_COMPLETE, \n\tdeleteUser_completeHandler );\n\nFirebaseAuth.service.getCurrentUser().deleteUser();\n"})}),"\n",(0,r.jsxs)(t.p,{children:["You can use the ",(0,r.jsx)(t.code,{children:"FirebaseUserEvent.DELETE_USER_COMPLETE"})," event to listen for the completion of this method."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-actionscript",children:'private function deleteUser_completeHandler( event:FirebaseUserEvent ):void\n{\n\ttrace( "deleteUser(): complete: " + event.success +"::"+event.message );\n}\n'})}),"\n",(0,r.jsxs)(t.p,{children:["Once deleted ",(0,r.jsx)(t.code,{children:"getCurrentUser()"})," will return ",(0,r.jsx)(t.code,{children:"null"})," and your user will be signed out."]}),"\n",(0,r.jsx)(t.h2,{id:"re-authenticate-a-user",children:"Re-authenticate a user"}),"\n",(0,r.jsxs)(t.p,{children:["Some security-sensitive actions\u2014such as deleting an account, setting a primary email address,\nand changing a password\u2014require that the user has recently signed in.\nIf you perform one of these actions, and the user signed in too long ago,\nthe action fails (",(0,r.jsx)(t.code,{children:"event.success"})," will be ",(0,r.jsx)(t.code,{children:"false"}),")."]}),"\n",(0,r.jsxs)(t.p,{children:["When this happens, re-authenticate the user by getting new sign-in credentials\nfrom the user and passing the credentials to ",(0,r.jsx)(t.code,{children:"reauthenticate"}),"."]}),"\n",(0,r.jsx)(t.p,{children:"For example:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-actionscript",children:'var credential:AuthCredential = EmailAuthProvider.getEmailAuthCredential( "user@example.com", "password1234" );\n\nFirebaseAuth.service.getCurrentUser().addEventListener( \n\tFirebaseUserEvent.REAUTHENTICATE_COMPLETE, \n\treauthenticate_completeHandler );\n\nFirebaseAuth.service.getCurrentUser().reauthenticate( credential );\n'})}),"\n",(0,r.jsxs)(t.p,{children:["You can use the ",(0,r.jsx)(t.code,{children:"FirebaseUserEvent.REAUTHENTICATE_COMPLETE"})," event to listen for the completion of this method."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-actionscript",children:"private function reauthenticate_completeHandler( event:FirebaseUserEvent ):void\n{\n\tFirebaseAuth.service.getCurrentUser().removeEventListener( \n\t\tFirebaseUserEvent.REAUTHENTICATE_COMPLETE, \n\t\treauthenticate_completeHandler );\n}\n"})}),"\n",(0,r.jsx)(t.h2,{id:"user-token",children:"User Token"}),"\n",(0,r.jsx)(t.p,{children:"You may wish to authenticate a user on your server for actions in Firebase from your application.\nTo do this you'll need the users authentication token."}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-actionscript",children:"FirebaseAuth.service.getCurrentUser().addEventListener( \n\tFirebaseUserEvent.GET_TOKEN_COMPLETE,\n\tgetToken_completeHandler );\n\nFirebaseAuth.service.getCurrentUser().getToken( true );\n"})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-actionscript",children:"private function getToken_completeHandler(event:FirebaseUserEvent ):void\n{\n\tif (event.success)\n\t{\n\t\t// Success means the event has a valid token in event.data\n\t\ttrace( event.data );\n\t}\n\n\tFirebaseAuth.service.getCurrentUser().removeEventListener( \n\t\tFirebaseUserEvent.GET_TOKEN_COMPLETE,\n\t\tgetToken_completeHandler );\n}\n"})})]})}function u(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);
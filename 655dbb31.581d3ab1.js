(window.webpackJsonp=window.webpackJsonp||[]).push([[303],{358:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return a})),t.d(n,"metadata",(function(){return l})),t.d(n,"rightToc",(function(){return c})),t.d(n,"default",(function(){return p}));var i=t(2),r=t(6),o=(t(0),t(808)),a={title:"OneSignal - Signing",sidebar_label:"OneSignal - Signing"},l={unversionedId:"pushnotifications/onesignal---signing",id:"pushnotifications/onesignal---signing",isDocsHomePage:!1,title:"OneSignal - Signing",description:"This is no longer required from AIR 30+",source:"@site/docs/pushnotifications/onesignal---signing.md",slug:"/pushnotifications/onesignal---signing",permalink:"/docs/pushnotifications/onesignal---signing",version:"current",sidebar_label:"OneSignal - Signing"},c=[],s={rightToc:c};function p(e){var n=e.components,t=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(i.a)({},s,t,{components:n,mdxType:"MDXLayout"}),Object(o.b)("blockquote",null,Object(o.b)("p",{parentName:"blockquote"},"This is no longer required from AIR 30+")),Object(o.b)("h1",{id:"signing-your-ios-application"},"Signing your iOS application"),Object(o.b)("p",null,"With AIR 27 Adobe has partially completed the ability to use dynamic frameworks in your iOS application. This is the additional ",Object(o.b)("inlineCode",{parentName:"p"},"Frameworks")," directory that you added to the build."),Object(o.b)("p",null,"Everything will work up to a point including debug builds should work well, however AIR will incorrectly sign a release version of your IPA and it will fail AppStore submission with an error from the Application Loader tool."),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Please vote to resolve this issue here: ",Object(o.b)("a",Object(i.a)({parentName:"strong"},{href:"https://tracker.adobe.com/#/view/AIR-4198407"}),"https://tracker.adobe.com/#/view/AIR-4198407"))),Object(o.b)("p",null,"To get around this, before you upload your application to iTunesConnect you will need to run a script to resign your IPA.\nThis script is available in the repository alongside the OneSignal ANE in the ",Object(o.b)("inlineCode",{parentName:"p"},"OneSignal/scripts")," directory."),Object(o.b)("blockquote",null,Object(o.b)("p",{parentName:"blockquote"},"This script will only work on a macOS machine with Xcode installed and your distribution certificate installed in Keychain")),Object(o.b)("p",null,"Copy this script to a directory in your development environment."),Object(o.b)("p",null,"Firstly edit the script to change the details of the IPA, provisioning profile and signing identity for your application. These details are located at the top of the script."),Object(o.b)("pre",null,Object(o.b)("code",Object(i.a)({parentName:"pre"},{}),'#####################################\n## CONFIG\n\n# You need to set the values below for your application\n# We suggest they are full paths to the files. \n\n# The path to the ipa generated from your AIR application packaging\nIPA="/path/to/yourApp.ipa"\n\n# The distribution provisioning profile for your application\nPROVISIONING_PROFILE="/path/to/profile.mobileprovision"\n\n# The name of the signing identity. You get this by running the following in a terminal \n# and selecting the name of your distribution certificate:\n# \n# security find-identity -v -p codesigning\nSIGNING_IDENTITY="iPhone Distribution: XXXXXXXXX (XXXXX)"\n')),Object(o.b)("p",null,"Now open a Terminal at the script location. ",Object(o.b)("em",{parentName:"p"},"You will need to run the script from this directory.")),Object(o.b)("pre",null,Object(o.b)("code",Object(i.a)({parentName:"pre"},{}),"./resign\n")),Object(o.b)("p",null,"This should output a few informational items to the console and then once complete you should have a new IPA file in the directory named: ",Object(o.b)("inlineCode",{parentName:"p"},"yourApp_resigned.ipa"),". If there were any errors or warnings displayed, make sure the information above is all correct."),Object(o.b)("p",null,"This resigned IPA is the file you should upload to iTunesConnect"),Object(o.b)("p",null,"If you have any issues please contact us on github. "))}p.isMDXComponent=!0},808:function(e,n,t){"use strict";t.d(n,"a",(function(){return u})),t.d(n,"b",(function(){return g}));var i=t(0),r=t.n(i);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n){if(null==e)return{};var t,i,r=function(e,n){if(null==e)return{};var t,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)t=o[i],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)t=o[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var s=r.a.createContext({}),p=function(e){var n=r.a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},u=function(e){var n=p(e.components);return r.a.createElement(s.Provider,{value:n},e.children)},b={inlineCode:"code",wrapper:function(e){var n=e.children;return r.a.createElement(r.a.Fragment,{},n)}},d=r.a.forwardRef((function(e,n){var t=e.components,i=e.mdxType,o=e.originalType,a=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),u=p(t),d=i,g=u["".concat(a,".").concat(d)]||u[d]||b[d]||o;return t?r.a.createElement(g,l(l({ref:n},s),{},{components:t})):r.a.createElement(g,l({ref:n},s))}));function g(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var o=t.length,a=new Array(o);a[0]=d;var l={};for(var c in n)hasOwnProperty.call(n,c)&&(l[c]=n[c]);l.originalType=e,l.mdxType="string"==typeof e?e:i,a[1]=l;for(var s=2;s<o;s++)a[s]=t[s];return r.a.createElement.apply(null,a)}return r.a.createElement.apply(null,t)}d.displayName="MDXCreateElement"}}]);
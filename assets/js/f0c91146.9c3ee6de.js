"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[39101],{28453:(e,t,i)=>{i.d(t,{R:()=>r,x:()=>o});var n=i(96540);const s={},a=n.createContext(s);function r(e){const t=n.useContext(a);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),n.createElement(a.Provider,{value:t},e.children)}},96085:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>r,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"adverts/initialise-platform","title":"Initialise Platform","description":"Setup the platform","source":"@site/docs/adverts/initialise-platform.md","sourceDirName":"adverts","slug":"/adverts/initialise-platform","permalink":"/docs/adverts/initialise-platform","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Initialise Platform","sidebar_label":"Initialise Platform"},"sidebar":"adverts","previous":{"title":"Huawei Ads Kit","permalink":"/docs/adverts/platform/huawei/"},"next":{"title":"Advertising Identifier","permalink":"/docs/adverts/advertising-identifier"}}');var s=i(74848),a=i(28453);const r={title:"Initialise Platform",sidebar_label:"Initialise Platform"},o=void 0,l={},d=[{value:"Setup the platform",id:"setup-the-platform",level:2},{value:"Open Bidding",id:"open-bidding",level:3},{value:"Checking Support",id:"checking-support",level:3}];function c(e){const t={blockquote:"blockquote",code:"code",em:"em",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h2,{id:"setup-the-platform",children:"Setup the platform"}),"\n",(0,s.jsx)(t.p,{children:"You should perform this once in your application preferrably early well before any adverts will be displayed."}),"\n",(0,s.jsxs)(t.p,{children:["This is a two step process. You should initially call ",(0,s.jsx)(t.code,{children:"setup"})," specifying you platform selection and then call ",(0,s.jsx)(t.code,{children:"initialise"})," to initialise the platform."]}),"\n",(0,s.jsx)(t.p,{children:"Firstly select the platform:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-actionscript",children:"Adverts.service.setup( AdvertPlatform.PLATFORM_ADMOB );\n"})}),"\n",(0,s.jsx)(t.p,{children:"This simply specifies the platform the extension will use, so the correct implementation will be used for all other functionality. At this point you can use other functionality of the extension around consent and the user messaging platform, however adverts will not function."}),"\n",(0,s.jsxs)(t.p,{children:["Next call ",(0,s.jsx)(t.code,{children:"initialise()"}),":"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-actionscript",children:"Adverts.service.initialise();\n"})}),"\n",(0,s.jsx)(t.p,{children:"This will initialise the actual platforms advertising SDK."}),"\n",(0,s.jsxs)(t.blockquote,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Warning"}),": Ads may be preloaded by the underlying advertising SDK or mediation partner SDKs upon calling ",(0,s.jsx)(t.code,{children:"initialise()"}),". If you need to obtain consent from users in the European Economic Area (EEA), set any request-specific flags (such as tagForChildDirectedTreatment or tag_for_under_age_of_consent), or otherwise take action before loading ads, ensure you do so before calling ",(0,s.jsx)(t.code,{children:"initialise()"}),"."]}),"\n",(0,s.jsx)(t.p,{children:"This is the main reason there are two steps in the process to allow you to acquire consent before loading any ads."}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"The initialisation process is asynchronous and will take a short amount of time depending on the platform. An event is dispatched when this process is complete."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-as3",children:"Adverts.service.addEventListener( AdvertsEvent.INITIALISED, initialisedHandler );\n\nAdverts.service.initialise();\n\nfunction initialisedHandler( event:AdvertsEvent ):void \n{\n\t// Platform is now initialised and ready to load ads\n}\n"})}),"\n",(0,s.jsx)(t.h3,{id:"open-bidding",children:"Open Bidding"}),"\n",(0,s.jsxs)(t.p,{children:['If you are planning to use "Open Bidding Mediation" then you need to ensure you await the initialised event. ',(0,s.jsx)(t.em,{children:"Before an open bidding adapter can participate in an ad request, it must first be initialized."})," The ",(0,s.jsx)(t.code,{children:"initialise()"})," method initializes open bidding adapters and dispatches the ",(0,s.jsx)(t.code,{children:"AdvertsEvent.INITIALISED"})," event once all adapters complete initialisation (or after a 30 second timeout)."]}),"\n",(0,s.jsx)(t.p,{children:"The initialised event will contain details of the available mediator adapters, including their state and latency:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-as3",children:'Adverts.service.addEventListener( AdvertsEvent.INITIALISED, initialisedHandler );\n\nAdverts.service.initialise();\n\nfunction initialisedHandler( event:AdvertsEvent ):void \n{\n\tfor each (var adapterStatus:AdapterStatus in e.adapterStatus)\n\t{\n\t\ttrace( "adapter: " + adapterStatus.name + " : " + adapterStatus.state + " [" + adapterStatus.latency + "] - " + adapterStatus.description );\n\t}\n}\n'})}),"\n",(0,s.jsx)(t.h3,{id:"checking-support",children:"Checking Support"}),"\n",(0,s.jsxs)(t.p,{children:["You can also check whether a platform is supported before initialising it to dynamically swap platforms,\nby using the ",(0,s.jsx)(t.code,{children:"isPlatformSupported"})," function."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-actionscript",children:'if (Adverts.service.isPlatformSupported( AdvertPlatform.PLATFORM_HUAWEI_ADS ))\n{\n\tAdverts.service.setup( AdvertPlatform.PLATFORM_HUAWEI_ADS );\n}\nelse if (Adverts.service.isPlatformSupported( AdvertPlatform.PLATFORM_ADMOB ))\n{\n\tAdverts.service.setup( AdvertPlatform.PLATFORM_ADMOB );\n}\nelse\n{\n\ttrace( "No platform supported on the current device" );\n}\n'})})]})}function p(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}}}]);
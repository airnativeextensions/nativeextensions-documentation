(window.webpackJsonp=window.webpackJsonp||[]).push([[483],{539:function(e,n,a){"use strict";a.r(n),a.d(n,"frontMatter",(function(){return r})),a.d(n,"metadata",(function(){return i})),a.d(n,"rightToc",(function(){return l})),a.d(n,"default",(function(){return d}));var o=a(2),t=(a(0),a(807));const r={title:"Audio Player - Background Audio",sidebar_label:"Audio Player - Background Audio"},i={unversionedId:"mediaplayer/audio-player---background-audio",id:"mediaplayer/audio-player---background-audio",isDocsHomePage:!1,title:"Audio Player - Background Audio",description:"The Audio Player can be used to play back audio files using the native audio player in the background. This allows you to introduce background audio playback, and remote control center display of audio media information.",source:"@site/docs/mediaplayer/audio-player---background-audio.md",slug:"/mediaplayer/audio-player---background-audio",permalink:"/docs/mediaplayer/audio-player---background-audio",version:"current",sidebar_label:"Audio Player - Background Audio",sidebar:"mediaplayer",previous:{title:"Audio Player",permalink:"/docs/mediaplayer/audio-player"},next:{title:"Sound Pool",permalink:"/docs/mediaplayer/sound-pool"}},l=[{value:"Background Audio",id:"background-audio",children:[{value:"iOS",id:"ios",children:[]},{value:"Android",id:"android",children:[]}]}],u={rightToc:l};function d({components:e,...n}){return Object(t.b)("wrapper",Object(o.a)({},u,n,{components:e,mdxType:"MDXLayout"}),Object(t.b)("p",null,"The Audio Player can be used to play back audio files using the native audio player in the background. This allows you to introduce background audio playback, and remote control center display of audio media information."),Object(t.b)("h2",{id:"background-audio"},"Background Audio"),Object(t.b)("p",null,"The process to play audio while your application is in the background varies on the different operating systems."),Object(t.b)("p",null,"There are some general rules here. "),Object(t.b)("ul",null,Object(t.b)("li",{parentName:"ul"},"Only use one AudioPlayer instance with the background audio enabled. Using multiple players with background audio enabled can have undesired affects"),Object(t.b)("li",{parentName:"ul"},"When using background audio the extension may display the remote controls automatically as this is required by some platforms (Android in particular requires you to display a notification showing the playback)")),Object(t.b)("p",null,"In order to enable background audio on a player you need to enable the option in the ",Object(t.b)("inlineCode",{parentName:"p"},"AudioPlayerOptions"),":"),Object(t.b)("pre",null,Object(t.b)("code",Object(o.a)({parentName:"pre"},{className:"language-actionscript"}),"var options:AudioPlayerOptions = new AudioPlayerOptions()\n    .enableBackgroundAudio();\n")),Object(t.b)("p",null,"Creating a background audio player will enable the remote command center for this player and automatically enable the play and pause commands."),Object(t.b)("p",null,'If you wish to set more advance controls including setting the media information and artwork, please see the dedicated documentation on the "Remote Command Center". Using the "Remote Command Center" events allows you to create a more complete player experience for your user across multiple files and players.'),Object(t.b)("h3",{id:"ios"},"iOS"),Object(t.b)("p",null,"In order to play audio in the background you will firstly need to add the ",Object(t.b)("inlineCode",{parentName:"p"},"audio")," background mode to the ",Object(t.b)("inlineCode",{parentName:"p"},"UIBackgroundModes")," key in your info additions section of your application descriptor."),Object(t.b)("pre",null,Object(t.b)("code",Object(o.a)({parentName:"pre"},{className:"language-xml"}),"<iPhone>\n    <InfoAdditions><![CDATA[\n\n        \x3c!-- OTHER NODES --\x3e\n\n\n        <key>UIBackgroundModes</key>\n        <array>\n            <string>audio</string>\n        </array>\n\n\n\n    ]]></InfoAdditions>\n    <requestedDisplayResolution>high</requestedDisplayResolution>\n    <Entitlements>\n        <![CDATA[\n        ]]>\n    </Entitlements>\n</iPhone>\n")),Object(t.b)("p",null,"Secondly you will have to inform the ANE to change the audio session to support background audio. This is done by enabling the background audio in the ",Object(t.b)("inlineCode",{parentName:"p"},"AudioPlayerOptions"),":"),Object(t.b)("pre",null,Object(t.b)("code",Object(o.a)({parentName:"pre"},{className:"language-actionscript"}),"var options:AudioPlayerOptions = new AudioPlayerOptions()\n    .enableBackgroundAudio();\n\nvar player:AudioPlayer = MediaPlayer.service.createAudioPlayer( options ); \n")),Object(t.b)("p",null,"This will change the audio session mode to support background audio. "),Object(t.b)("blockquote",null,Object(t.b)("p",{parentName:"blockquote"},"Be aware that this mode change will affect your entire application not just this player.")),Object(t.b)("h3",{id:"android"},"Android"),Object(t.b)("p",null,"On Android, background audio will be played through a service using a completely different implementation from the normal audio playback. This is a requirement of Android to continue playback of audio when the application loses focus."),Object(t.b)("p",null,"Additionally, it is a requirement that a notification be displayed indicating the playback. This will be automatically created for you and you can modify it's contents through the Remote Command Center. "))}d.isMDXComponent=!0},807:function(e,n,a){"use strict";a.d(n,"a",(function(){return p})),a.d(n,"b",(function(){return y}));var o=a(0),t=a.n(o);function r(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function i(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,o)}return a}function l(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?i(Object(a),!0).forEach((function(n){r(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function u(e,n){if(null==e)return{};var a,o,t=function(e,n){if(null==e)return{};var a,o,t={},r=Object.keys(e);for(o=0;o<r.length;o++)a=r[o],n.indexOf(a)>=0||(t[a]=e[a]);return t}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)a=r[o],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(t[a]=e[a])}return t}var d=t.a.createContext({}),c=function(e){var n=t.a.useContext(d),a=n;return e&&(a="function"==typeof e?e(n):l(l({},n),e)),a},p=function(e){var n=c(e.components);return t.a.createElement(d.Provider,{value:n},e.children)},s={inlineCode:"code",wrapper:function(e){var n=e.children;return t.a.createElement(t.a.Fragment,{},n)}},b=t.a.forwardRef((function(e,n){var a=e.components,o=e.mdxType,r=e.originalType,i=e.parentName,d=u(e,["components","mdxType","originalType","parentName"]),p=c(a),b=o,y=p["".concat(i,".").concat(b)]||p[b]||s[b]||r;return a?t.a.createElement(y,l(l({ref:n},d),{},{components:a})):t.a.createElement(y,l({ref:n},d))}));function y(e,n){var a=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var r=a.length,i=new Array(r);i[0]=b;var l={};for(var u in n)hasOwnProperty.call(n,u)&&(l[u]=n[u]);l.originalType=e,l.mdxType="string"==typeof e?e:o,i[1]=l;for(var d=2;d<r;d++)i[d]=a[d];return t.a.createElement.apply(null,i)}return t.a.createElement.apply(null,a)}b.displayName="MDXCreateElement"}}]);
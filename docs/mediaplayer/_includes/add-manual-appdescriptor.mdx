
### Extension IDs

The following should be added to your `extensions` node in your application descriptor to identify all the required ANEs in your application:

```xml
<extensions>
	<extensionID>com.distriqt.Core</extensionID>
	<extensionID>com.distriqt.MediaPlayer</extensionID>
	<extensionID>androidx.core</extensionID>
	<extensionID>androidx.appcompat</extensionID>
	<extensionID>androidx.media3</extensionID>
	<extensionID>androidx.vectordrawable</extensionID>
	<extensionID>com.google.guava</extensionID>
	<extensionID>com.jetbrains.kotlin</extensionID>
</extensions>
```



### Android

#### Manifest Additions

Displaying video on Android requires that we enable hardware acceleration on most devices. 
You can check whether this is required for your supported device list however generally we advise you enable acceleration.

You also need to add a service and a receiver. These are only required if you are using background audio playback or the remote command center on Android, however it doesn't hurt to add them either way.

```xml
<manifest android:installLocation="auto" >
	<uses-sdk android:minSdkVersion="21" android:targetSdkVersion="35" />

	<uses-permission android:name="android.permission.INTERNET"/>
	<uses-permission android:name="android.permission.FOREGROUND_SERVICE"/>
	<uses-permission android:name="android.permission.FOREGROUND_SERVICE_MEDIA_PLAYBACK"/>

	<application android:hardwareAccelerated="true">

		<service android:name="com.distriqt.extension.mediaplayer.audio.AudioPlayerService"
			android:enabled="true"
			android:exported="true"
			android:permission="android.permission.FOREGROUND_SERVICE"
			android:foregroundServiceType="mediaPlayback" />

		<receiver android:name="com.distriqt.extension.mediaplayer.remotecommandcenter.RemoteCommandCenterReceiver" android:exported="true">
			<intent-filter>
				<action android:name="com.distriqt.mediaplayer.next.custom"/>
				<action android:name="com.distriqt.mediaplayer.prev.custom"/>
				<action android:name="com.distriqt.mediaplayer.skip_forward"/>
				<action android:name="com.distriqt.mediaplayer.skip_backward"/>
				<action android:name="androidx.media3.ui.notification.play"/>
				<action android:name="androidx.media3.ui.notification.pause"/>
				<action android:name="androidx.media3.ui.notification.prev"/>
				<action android:name="androidx.media3.ui.notification.next"/>
				<action android:name="androidx.media3.ui.notification.ffwd"/>
				<action android:name="androidx.media3.ui.notification.rewind"/>
				<action android:name="androidx.media3.ui.notification.stop"/>
				<action android:name="androidx.media3.ui.notification.dismiss"/>
			</intent-filter>
		</receiver>

		<activity android:name="com.distriqt.core.auth.AuthorisationActivity" android:exported="false" android:theme="@android:style/Theme.Translucent.NoTitleBar"/>

	</application>

</manifest>
```

#### Android Gradle Version 

We have updated the required gradle version used to build your application to be higher than the default AIR currently uses (April 2025). 

To specify a higher version add the following to your android node in your application descriptor:

```xml
<android>
    <gradleVersion>8.9</gradleVersion>
    <androidGradlePluginVersion>8.7.3</androidGradlePluginVersion>

  ...
</android>
```

If you don't do this you will see the following error when building your application:

```
Unexpected failure: Unable to run java: com.adobe.air.ADTException: gradle tool failed: 
FAILURE: Build failed with an exception.

...

   > BUG! exception in phase 'semantic analysis' in source unit '_BuildScript_' Unsupported class file major version 65
```


### iOS

#### InfoAdditions

Nothing additional required here.
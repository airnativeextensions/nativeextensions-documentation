"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[67397],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>h});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var o=a.createContext({}),u=function(e){var t=a.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},c=function(e){var t=u(e.components);return a.createElement(o.Provider,{value:t},e.children)},m="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,o=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),m=u(n),d=r,h=m["".concat(o,".").concat(d)]||m[d]||p[d]||i;return n?a.createElement(h,l(l({ref:t},c),{},{components:n})):a.createElement(h,l({ref:t},c))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,l=new Array(i);l[0]=d;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s[m]="string"==typeof e?e:r,l[1]=s;for(var u=2;u<i;u++)l[u]=n[u];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},85162:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(67294),r=n(86010);const i={tabItem:"tabItem_Ymn6"};function l(e){let{children:t,hidden:n,className:l}=e;return a.createElement("div",{role:"tabpanel",className:(0,r.Z)(i.tabItem,l),hidden:n},t)}},74866:(e,t,n)=>{n.d(t,{Z:()=>T});var a=n(87462),r=n(67294),i=n(86010),l=n(12466),s=n(16550),o=n(91980),u=n(67392),c=n(50012);function m(e){return function(e){var t,n;return null!=(t=null==(n=r.Children.map(e,(e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})))?void 0:n.filter(Boolean))?t:[]}(e).map((e=>{let{props:{value:t,label:n,attributes:a,default:r}}=e;return{value:t,label:n,attributes:a,default:r}}))}function p(e){const{values:t,children:n}=e;return(0,r.useMemo)((()=>{const e=null!=t?t:m(n);return function(e){const t=(0,u.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error('Docusaurus error: Duplicate values "'+t.map((e=>e.value)).join(", ")+'" found in <Tabs>. Every value needs to be unique.')}(e),e}),[t,n])}function d(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function h(e){let{queryString:t=!1,groupId:n}=e;const a=(0,s.k6)(),i=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=n?n:null}({queryString:t,groupId:n});return[(0,o._X)(i),(0,r.useCallback)((e=>{if(!i)return;const t=new URLSearchParams(a.location.search);t.set(i,e),a.replace({...a.location,search:t.toString()})}),[i,a])]}function b(e){const{defaultValue:t,queryString:n=!1,groupId:a}=e,i=p(e),[l,s]=(0,r.useState)((()=>function(e){var t;let{defaultValue:n,tabValues:a}=e;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!d({value:n,tabValues:a}))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+n+'" but none of its children has the corresponding value. Available values are: '+a.map((e=>e.value)).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");return n}const r=null!=(t=a.find((e=>e.default)))?t:a[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:t,tabValues:i}))),[o,u]=h({queryString:n,groupId:a}),[m,b]=function(e){let{groupId:t}=e;const n=function(e){return e?"docusaurus.tab."+e:null}(t),[a,i]=(0,c.Nk)(n);return[a,(0,r.useCallback)((e=>{n&&i.set(e)}),[n,i])]}({groupId:a}),f=(()=>{const e=null!=o?o:m;return d({value:e,tabValues:i})?e:null})();(0,r.useLayoutEffect)((()=>{f&&s(f)}),[f]);return{selectedValue:l,selectValue:(0,r.useCallback)((e=>{if(!d({value:e,tabValues:i}))throw new Error("Can't select invalid tab value="+e);s(e),u(e),b(e)}),[u,b,i]),tabValues:i}}var f=n(72389);const v={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function g(e){let{className:t,block:n,selectedValue:s,selectValue:o,tabValues:u}=e;const c=[],{blockElementScrollPositionUntilNextRender:m}=(0,l.o5)(),p=e=>{const t=e.currentTarget,n=c.indexOf(t),a=u[n].value;a!==s&&(m(t),o(a))},d=e=>{var t;let n=null;switch(e.key){case"Enter":p(e);break;case"ArrowRight":{var a;const t=c.indexOf(e.currentTarget)+1;n=null!=(a=c[t])?a:c[0];break}case"ArrowLeft":{var r;const t=c.indexOf(e.currentTarget)-1;n=null!=(r=c[t])?r:c[c.length-1];break}}null==(t=n)||t.focus()};return r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":n},t)},u.map((e=>{let{value:t,label:n,attributes:l}=e;return r.createElement("li",(0,a.Z)({role:"tab",tabIndex:s===t?0:-1,"aria-selected":s===t,key:t,ref:e=>c.push(e),onKeyDown:d,onClick:p},l,{className:(0,i.Z)("tabs__item",v.tabItem,null==l?void 0:l.className,{"tabs__item--active":s===t})}),null!=n?n:t)})))}function y(e){let{lazy:t,children:n,selectedValue:a}=e;const i=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=i.find((e=>e.props.value===a));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return r.createElement("div",{className:"margin-top--md"},i.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==a}))))}function k(e){const t=b(e);return r.createElement("div",{className:(0,i.Z)("tabs-container",v.tabList)},r.createElement(g,(0,a.Z)({},e,t)),r.createElement(y,(0,a.Z)({},e,t)))}function T(e){const t=(0,f.Z)();return r.createElement(k,(0,a.Z)({key:String(t)},e))}},55216:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>s,metadata:()=>u,toc:()=>m});var a=n(87462),r=(n(67294),n(3905)),i=n(74866),l=n(85162);const s={title:"Email",sidebar_label:"Email"},o=void 0,u={unversionedId:"share/email",id:"share/email",title:"Email",description:"Support",source:"@site/docs/share/email.mdx",sourceDirName:"share",slug:"/share/email",permalink:"/docs/share/email",draft:!1,tags:[],version:"current",frontMatter:{title:"Email",sidebar_label:"Email"},sidebar:"share",previous:{title:"Positioning",permalink:"/docs/share/positioning"},next:{title:"SMS",permalink:"/docs/share/sms"}},c={},m=[{value:"Support",id:"support",level:2},{value:"Simple Email",id:"simple-email",level:2},{value:"Send Email with Options",id:"send-email-with-options",level:2},{value:"Attachments",id:"attachments",level:3}],p={toc:m},d="wrapper";function h(e){let{components:t,...n}=e;return(0,r.kt)(d,(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"support"},"Support"),(0,r.kt)("p",null,"You can check whether the current user can send emails using the ",(0,r.kt)("inlineCode",{parentName:"p"},"isMailSupported")," call."),(0,r.kt)("p",null,"This performs some basic checks as to whether the user can send an email."),(0,r.kt)(i.Z,{groupId:"framework",defaultValue:"air",values:[{label:"AIR",value:"air"},{label:"Unity",value:"unity"}],mdxType:"Tabs"},(0,r.kt)(l.Z,{value:"air",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},"if (Share.service.email.isMailSupported)\n{\n    // You should be able to send an email\n}\n"))),(0,r.kt)(l.Z,{value:"unity",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"if (Share.Instance.Email.IsMailSupported)\n{\n    // You should be able to send an email\n}\n")))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"On Apple devices this checks that the user has an email account setup in the settings."),(0,r.kt)("li",{parentName:"ul"},"On Android devices this checks that there is an email client application installed.")),(0,r.kt)("h2",{id:"simple-email"},"Simple Email"),(0,r.kt)("p",null,"Sending an email is a simple task of calling the ",(0,r.kt)("inlineCode",{parentName:"p"},"sendMail()")," function, specifying the subject, body and recipients."),(0,r.kt)(i.Z,{groupId:"framework",defaultValue:"air",values:[{label:"AIR",value:"air"},{label:"Unity",value:"unity"}],mdxType:"Tabs"},(0,r.kt)(l.Z,{value:"air",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},'var email:String = "emailaddress@test.com";\nvar subject:String = "Sending HTML email from AIR using the distriqt Message ANE";\nvar body:String = "The body content of the email";\n\nShare.service.email.sendMail( \n    subject, \n    body, \n    email\n);\n'))),(0,r.kt)(l.Z,{value:"unity",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},'string subject = "Test email from unity";\nstring body = "Some awesome message I want to send";\nstring toRecipients = "unityplugins@distriqt.com";\n\nShare.Instance.Email.OnCompose += Email_OnCompose;\nShare.Instance.Email.OnAttachmentError += Email_OnAttachmentError;\n\nbool success = Share.Instance.Email.SendMail(subject, body, toRecipients);\n\n\nprivate void Email_OnCompose(EmailEvent e)\n{\n    Debug.Log("Email_OnCompose: " + e.details);\n}\n\nprivate void Email_OnAttachmentError(EmailEvent e)\n{\n    Debug.Log("Email_OnAttachmentError: " + e.details);\n}\n')))),(0,r.kt)("h2",{id:"send-email-with-options"},"Send Email with Options"),(0,r.kt)("p",null," You can use the ",(0,r.kt)("inlineCode",{parentName:"p"},"sendMailWithOptions()")," function to send more complex data, including:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"CC and BCC recipients;"),(0,r.kt)("li",{parentName:"ul"},"file attachments; and"),(0,r.kt)("li",{parentName:"ul"},"HTML content;")),(0,r.kt)("p",null,"If you wish to send html content you can set the ",(0,r.kt)("inlineCode",{parentName:"p"},"isHTML")," flag in the ",(0,r.kt)("inlineCode",{parentName:"p"},"sendMailWithOptions()")," function to true and the extension will attempt to use the body text as html."),(0,r.kt)("p",null,"The following example shows the supported HTML content:"),(0,r.kt)(i.Z,{groupId:"framework",defaultValue:"air",values:[{label:"AIR",value:"air"},{label:"Unity",value:"unity"}],mdxType:"Tabs"},(0,r.kt)(l.Z,{value:"air",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},'var email:String = "emailaddress@test.com";\nvar subject:String = "Sending HTML email from AIR using the distriqt Message ANE";\nvar ccRecipients:String = "";\nvar bccRecipients:String = "";\n\nvar body:String = \n        "<div>"+\n        "<p>This HTML email was sent using the distriqt <b>Message ANE</b></p>"+\n        "A link: <a href=\'http://airnativeextensions.com\'>airnativeextensions.com</a>"+\n        "<br/>" +\n        "Block: <blockquote>Some quote</blockquote>"+\n        "<br/>" +\n        "Bold: <b>This text should be bold</b>"+\n        "<br/>" +\n        "Italic: <i>This text should be italic</i>"+\n        "<br/>" +\n        "Colour: <font color=\'#ff0000\'>This text should be red</font>"+\n        "<div/>" ;\n\nShare.service.email.sendMailWithOptions( \n        subject, \n        body, \n        email, \n        ccRecipients,\n        bccRecipients,\n        [],             // Attachments (see next section)\n        true            // isHTML flag\n    );\n'))),(0,r.kt)(l.Z,{value:"unity",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},'string subject = "Test email from unity";\nstring body = "Some awesome message I want to send";\nstring toRecipients = "unityplugins@distriqt.com";\nstring ccRecipients = "distriqt@distriqt.com";\nstring bccRecipients = "airnativeextensions@distriqt.com";\n\nstring body = \n        "<div>"+\n        "<p>This HTML email was sent using the distriqt <b>Message ANE</b></p>"+\n        "A link: <a href=\'http://airnativeextensions.com\'>airnativeextensions.com</a>"+\n        "<br/>" +\n        "Block: <blockquote>Some quote</blockquote>"+\n        "<br/>" +\n        "Bold: <b>This text should be bold</b>"+\n        "<br/>" +\n        "Italic: <i>This text should be italic</i>"+\n        "<br/>" +\n        "Colour: <font color=\'#ff0000\'>This text should be red</font>"+\n        "<div/>" ;\n\nShare.Instance.Email.SendMailWithOptions( \n        subject, \n        body, \n        toRecipients, \n        ccRecipients,\n        bccRecipients,\n        null,           // Attachments (see next section)\n        true            // isHTML flag\n    );\n')))),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"HTML content can depend on the client the user has installed. As this can vary greatly (on Android in particular) the HTML content functionality can have unexpected results in clients that don't respect or accept html content."),(0,r.kt)("p",{parentName:"admonition"},"Our extension uses the underlying standard method to format and flag the content as html however there are still cases you may encounter issues. We highly recommend you thoroughly test this feature to make sure it suits your needs.")),(0,r.kt)("h3",{id:"attachments"},"Attachments"),(0,r.kt)("p",null,"You can specify an ",(0,r.kt)("inlineCode",{parentName:"p"},"Array")," of ",(0,r.kt)("inlineCode",{parentName:"p"},"Attachment")," objects each representing a file to attach to the email."),(0,r.kt)("p",null,"You create an attachment using the constructor and passing the native path to the file and we suggest passing a mime type."),(0,r.kt)(i.Z,{groupId:"framework",defaultValue:"air",values:[{label:"AIR",value:"air"},{label:"Unity",value:"unity"}],mdxType:"Tabs"},(0,r.kt)(l.Z,{value:"air",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},'var attachmentImage:File = File.applicationStorage.resolvePath( "image.jpg" );\n\nvar attachment:Attachment = new Attachment( attachmentFile.nativePath, "image/jpg" );\n')),(0,r.kt)("p",null,"Then you pass your attachments to the send mail function in an ",(0,r.kt)("inlineCode",{parentName:"p"},"Array"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},'var attachments:Array = [ attachment ];\n\nShare.service.email.sendMailWithOptions( \n        subject, \n        body, \n        email, \n        "",\n        "",\n        attachments\n    );\n'))),(0,r.kt)(l.Z,{value:"unity",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"Attachment attachment = new Attachment();\nattachment.nativePath = imageFile; // Absolute native path to file \n")),(0,r.kt)("p",null,"Then you pass your attachments to the send mail function in an ",(0,r.kt)("inlineCode",{parentName:"p"},"Attachment[]")," array:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},'Attachment[] attachments = new Attachment[1];\nattachments[0] = attachment;\n\nShare.Instance.Email.SendMailWithOptions( \n        subject, \n        body, \n        toRecipients, \n        "",\n        "",\n        attachments\n    );\n')))))}h.isMDXComponent=!0}}]);
"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[81523],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>h});var r=a(67294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var s=r.createContext({}),l=function(e){var t=r.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},p=function(e){var t=l(e.components);return r.createElement(s.Provider,{value:t},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,s=e.parentName,p=c(e,["components","mdxType","originalType","parentName"]),u=l(a),d=n,h=u["".concat(s,".").concat(d)]||u[d]||m[d]||o;return a?r.createElement(h,i(i({ref:t},p),{},{components:a})):r.createElement(h,i({ref:t},p))}));function h(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,i=new Array(o);i[0]=d;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c[u]="string"==typeof e?e:n,i[1]=c;for(var l=2;l<o;l++)i[l]=a[l];return r.createElement.apply(null,i)}return r.createElement.apply(null,a)}d.displayName="MDXCreateElement"},84889:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>m,frontMatter:()=>o,metadata:()=>c,toc:()=>l});var r=a(87462),n=(a(67294),a(3905));const o={title:"Performance - Traces",sidebar_label:"Traces"},i=void 0,c={unversionedId:"firebase/performance/traces",id:"firebase/performance/traces",title:"Performance - Traces",description:"Automatic Traces",source:"@site/docs/firebase/performance/traces.md",sourceDirName:"firebase/performance",slug:"/firebase/performance/traces",permalink:"/docs/firebase/performance/traces",draft:!1,tags:[],version:"current",frontMatter:{title:"Performance - Traces",sidebar_label:"Traces"},sidebar:"firebase",previous:{title:"Add the extension",permalink:"/docs/firebase/performance/add-the-extension"},next:{title:"Disable Monitoring",permalink:"/docs/firebase/performance/disable-monitoring"}},s={},l=[{value:"Automatic Traces",id:"automatic-traces",level:2},{value:"Automatic Trace Definitions",id:"automatic-trace-definitions",level:3},{value:"Custom Traces",id:"custom-traces",level:2},{value:"Attributes",id:"attributes",level:3},{value:"Check the Firebase console for Performance Monitoring results",id:"check-the-firebase-console-for-performance-monitoring-results",level:2}],p={toc:l},u="wrapper";function m(e){let{components:t,...a}=e;return(0,n.kt)(u,(0,r.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h2",{id:"automatic-traces"},"Automatic Traces"),(0,n.kt)("p",null,"A trace is a report of performance data captured between two points in time in your app. When installed, the Performance Monitoring SDK automatically provides the following types of traces:"),(0,n.kt)("p",null,"App start traces, which measure the time between when the user opens the app and when the app is responsive.\nApp in background traces, which measure the time when the app is running in the background.\nApp in foreground traces, which measure the time when the app is running in the foreground and available to the user."),(0,n.kt)("h3",{id:"automatic-trace-definitions"},"Automatic Trace Definitions"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Trace Name"),(0,n.kt)("th",{parentName:"tr",align:null},"iOS"),(0,n.kt)("th",{parentName:"tr",align:null},"Android"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"App start"),(0,n.kt)("td",{parentName:"tr",align:null},"Starts when the application loads the first Object to memory and stops after the first successful run loop that occurs after the application receives the UIApplicationDidBecomeActiveNotification notification."),(0,n.kt)("td",{parentName:"tr",align:null},"Starts when the app's FirebasePerfProvider ContentProvider completes its onCreate method and stops when the first activity's onResume() method is called.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"App in background"),(0,n.kt)("td",{parentName:"tr",align:null},"Starts when the application receives the UIApplicationWillResignActiveNotification notification and stops when it receives the UIApplicationDidBecomeActiveNotification notification."),(0,n.kt)("td",{parentName:"tr",align:null},"Starts when the last activity to leave the foreground has its onStop() method called and stops when the first activity to reach the foreground has its onResume() method called.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"App in foreground"),(0,n.kt)("td",{parentName:"tr",align:null},"Starts when the application receives the UIApplicationDidBecomeActiveNotification notification and stops when it receives the UIApplicationWillResignActiveNotification notification."),(0,n.kt)("td",{parentName:"tr",align:null},"Starts when the first activity to reach the foreground has its onResume() method called and stops when the last activity to leave the foreground has its onStop() method called.")))),(0,n.kt)("h2",{id:"custom-traces"},"Custom Traces"),(0,n.kt)("p",null,"A custom trace is a report of performance data associated with some of the code in your app. "),(0,n.kt)("p",null,"You can have multiple custom traces in your app, and it is possible to have more than one custom trace running at a time. Each custom trace can have one or more counters to count performance-related events in your app, and those counters are associated with the traces that create them."),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Add the following imports:")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-actionscript"},"import com.distriqt.extension.firebase.performance.FirebasePerformance;\nimport com.distriqt.extension.firebase.performance.metrics.Trace;\n")),(0,n.kt)("ol",{start:2},(0,n.kt)("li",{parentName:"ol"},"Just before the code where you want to start a trace in your app, add the following line of code to start a trace called ",(0,n.kt)("inlineCode",{parentName:"li"},"test_trace"),":")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-actionscript"},'var testTrace:Trace = FirebasePerformance.service.newTrace( "test_trace" );\ntestTrace.start();\n')),(0,n.kt)("ol",{start:3},(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("em",{parentName:"li"},"Optional")," To count performance-related events that occur in your app (such as cache hits and misses), add a line of code similar to the following each time that the event occurs, using a string other than ",(0,n.kt)("inlineCode",{parentName:"li"},"item_counter")," to name that event if you are counting a different type of event:")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-actionscript"},'testTrace.incrementCounter( "item_counter" );\n')),(0,n.kt)("ol",{start:4},(0,n.kt)("li",{parentName:"ol"},"Just after the code where you want to stop your trace, add the following line of code:")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-actionscript"},"testTrace.stop();\n")),(0,n.kt)("h3",{id:"attributes"},"Attributes"),(0,n.kt)("p",null,"To use custom attributes, add code to your app that defines the attribute and associates it with a specific custom code trace. You can set the custom attribute anytime between when the trace starts and when the trace stops."),(0,n.kt)("p",null,"Note the following:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Names for custom attributes must meet the following requirements:",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"No leading or trailing whitespace, no leading underscore (_) character"),(0,n.kt)("li",{parentName:"ul"},"No spaces"),(0,n.kt)("li",{parentName:"ul"},"Max length is 32 characters"),(0,n.kt)("li",{parentName:"ul"},"Allowed characters for the name are A-Z, a-z, and _."))),(0,n.kt)("li",{parentName:"ul"},"Each custom code trace can record up to 5 custom attributes."),(0,n.kt)("li",{parentName:"ul"},"Please ensure that custom attributes do not contain any information that personally identifies an individual to Google.")),(0,n.kt)("p",null,"To set an attribute:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-actionscript"},'testTrace.setAttribute( "experiment", "A" );\n')),(0,n.kt)("p",null,"To read an attribute:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-actionscript"},'var experimentValue:String = testTrace.getAttribue( "experiment" );\n')),(0,n.kt)("p",null,"To delete an attribute:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-actionscript"},'testTrace.removeAttribute( "experiment" );\n')),(0,n.kt)("h2",{id:"check-the-firebase-console-for-performance-monitoring-results"},"Check the Firebase console for Performance Monitoring results"),(0,n.kt)("p",null,"Results should appear in the Performance Monitoring section of the Firebase console within 12 hours."))}m.isMDXComponent=!0}}]);
"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[68397],{3905:function(e,a,r){r.d(a,{Zo:function(){return c},kt:function(){return m}});var t=r(67294);function n(e,a,r){return a in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}function o(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),r.push.apply(r,t)}return r}function l(e){for(var a=1;a<arguments.length;a++){var r=null!=arguments[a]?arguments[a]:{};a%2?o(Object(r),!0).forEach((function(a){n(e,a,r[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))}))}return e}function i(e,a){if(null==e)return{};var r,t,n=function(e,a){if(null==e)return{};var r,t,n={},o=Object.keys(e);for(t=0;t<o.length;t++)r=o[t],a.indexOf(r)>=0||(n[r]=e[r]);return n}(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)r=o[t],a.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var d=t.createContext({}),s=function(e){var a=t.useContext(d),r=a;return e&&(r="function"==typeof e?e(a):l(l({},a),e)),r},c=function(e){var a=s(e.components);return t.createElement(d.Provider,{value:a},e.children)},p={inlineCode:"code",wrapper:function(e){var a=e.children;return t.createElement(t.Fragment,{},a)}},u=t.forwardRef((function(e,a){var r=e.components,n=e.mdxType,o=e.originalType,d=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),u=s(r),m=n,h=u["".concat(d,".").concat(m)]||u[m]||p[m]||o;return r?t.createElement(h,l(l({ref:a},c),{},{components:r})):t.createElement(h,l({ref:a},c))}));function m(e,a){var r=arguments,n=a&&a.mdxType;if("string"==typeof e||n){var o=r.length,l=new Array(o);l[0]=u;var i={};for(var d in a)hasOwnProperty.call(a,d)&&(i[d]=a[d]);i.originalType=e,i.mdxType="string"==typeof e?e:n,l[1]=i;for(var s=2;s<o;s++)l[s]=r[s];return t.createElement.apply(null,l)}return t.createElement.apply(null,r)}u.displayName="MDXCreateElement"},46408:function(e,a,r){r.r(a),r.d(a,{frontMatter:function(){return i},contentTitle:function(){return d},metadata:function(){return s},toc:function(){return c},default:function(){return u}});var t=r(87462),n=r(63366),o=(r(67294),r(3905)),l=["components"],i={title:"Leaderboards",sidebar_label:"Leaderboards"},d=void 0,s={unversionedId:"gameservices/leaderboards",id:"gameservices/leaderboards",title:"Leaderboards",description:"Leaderboards can be a fun way to drive competition among your players, both for your most hardcore fans (who will be fighting for the top spot in a public leaderboard) and for your more casual players (who will be interested in comparing their progress to their friends').",source:"@site/docs/gameservices/leaderboards.md",sourceDirName:"gameservices",slug:"/gameservices/leaderboards",permalink:"/docs/gameservices/leaderboards",tags:[],version:"current",frontMatter:{title:"Leaderboards",sidebar_label:"Leaderboards"},sidebar:"gameservices",previous:{title:"Sign In",permalink:"/docs/gameservices/sign-in"},next:{title:"Achievements",permalink:"/docs/gameservices/achievements"}},c=[{value:"A Leaderboard",id:"a-leaderboard",children:[],level:2},{value:"Score Order",id:"score-order",children:[],level:2},{value:"Creating Leaderboards",id:"creating-leaderboards",children:[],level:2},{value:"Usage",id:"usage",children:[{value:"Supported",id:"supported",children:[],level:3},{value:"Submit Score",id:"submit-score",children:[],level:3},{value:"Score Tags",id:"score-tags",children:[],level:3},{value:"Load Leaderboards",id:"load-leaderboards",children:[],level:3},{value:"Loading Scores",id:"loading-scores",children:[{value:"Load Player Score",id:"load-player-score",children:[],level:4},{value:"Load Top Scores",id:"load-top-scores",children:[],level:4},{value:"Load Player Centered Scores",id:"load-player-centered-scores",children:[],level:4}],level:3},{value:"Displaying Leaderboard UI",id:"displaying-leaderboard-ui",children:[],level:3}],level:2}],p={toc:c};function u(e){var a=e.components,i=(0,n.Z)(e,l);return(0,o.kt)("wrapper",(0,t.Z)({},p,i,{components:a,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Leaderboards can be a fun way to drive competition among your players, both for your most hardcore fans (who will be fighting for the top spot in a public leaderboard) and for your more casual players (who will be interested in comparing their progress to their friends')."),(0,o.kt)("p",null,"When you create a leaderboard, the games service will take care of managing most aspects of this leaderboard for you. The typical process works like this:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"At the end of a game (or at an appropriate moment that you've determined), the game submits the player's score to one or more leaderboards you've created for the game."),(0,o.kt)("li",{parentName:"ul"},"The games service checks if this score is better than the player's current leaderboard entry for the daily, weekly, or all-time score. If it is, the games service updates the corresponding leaderboards with the new score."),(0,o.kt)("li",{parentName:"ul"},"To retrieve a player's results for a leaderboard, you can requests a time frame (daily, weekly, or all-time), and specify whether or not the user wants to see a social or public leaderboard. The Games service performs all the necessary filtering, and then sends the results back to the client.")),(0,o.kt)("h2",{id:"a-leaderboard"},"A Leaderboard"),(0,o.kt)("p",null,"A leaderboard is represented by the ",(0,o.kt)("inlineCode",{parentName:"p"},"Leaderboard")," class and is made up of a series of pieces of information that describe and identify the leaderboard."),(0,o.kt)("p",null,"These basic elements are associated with every leaderboard:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"id"),": A unique string that identifies the leaderboard in the game service."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"displayName"),': A short display name of the leaderboard (for example, "High Scores" or "Level 3").'),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"scoreOrder"),": The order in which the scores are ordered in the leaderboard")),(0,o.kt)("h2",{id:"score-order"},"Score Order"),(0,o.kt)("p",null,"The score order represents the order in which the scores are ordered in the leaderboard. Generally larger values are better however there are circumstances where smaller are better, such as lap times in a racing game."),(0,o.kt)("p",null,"These orders are defined in the Leaderboard class:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"Leaderboard.SCORE_ORDER_LARGEST_FIRST"),": Larger is better leaderboards are the default. This is typically what you would see in most games where players earn points."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"Leaderboard.SCORE_ORDER_LARGEST_FIRST"),": Smaller is better leaderboards are occasionally used in cases where a smaller score would be better. The most common examples of this type of leaderboard are in racing games, where the score represents the player's time to finish the race.")),(0,o.kt)("h2",{id:"creating-leaderboards"},"Creating Leaderboards"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Google Play: ",(0,o.kt)("a",{parentName:"li",href:"https://developers.google.com/games/services/common/concepts/leaderboards#creating_a_leaderboard"},"https://developers.google.com/games/services/common/concepts/leaderboards#creating_a_leaderboard")),(0,o.kt)("li",{parentName:"ul"},"Apple Game Center: ...")),(0,o.kt)("h2",{id:"usage"},"Usage"),(0,o.kt)("p",null,"To access the leaderboards functionality you will be using the functionality defined in the ",(0,o.kt)("inlineCode",{parentName:"p"},"Leaderboards")," interface accessed by ",(0,o.kt)("inlineCode",{parentName:"p"},"GameServices.service.leaderboards"),"."),(0,o.kt)("p",null,"You must have a ",(0,o.kt)("a",{parentName:"p",href:"sign-in"},"signed in player")," in order to access the leaderboards functionality."),(0,o.kt)("p",null,"Generally it is good practice to define the leaderboard IDs as static strings in your application. This reduces the requirement for you to load the leaderboards from the service. Most of the calls do not require usage of a ",(0,o.kt)("inlineCode",{parentName:"p"},"Leaderboard")," object but just specify the ID."),(0,o.kt)("h3",{id:"supported"},"Supported"),(0,o.kt)("p",null,"Checking for support of leaderboards can be done via the ",(0,o.kt)("inlineCode",{parentName:"p"},"isSupported")," flag on the ",(0,o.kt)("inlineCode",{parentName:"p"},"Leaderboards")," interface:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-actionscript"},"if (GameServices.service.leaderboards.isSupported)\n{\n    // Leaderboards functionality is supported\n}\n")),(0,o.kt)("p",null,"Some services may not implement leaderboards or may not support the user's current device (operating system or version). You should check this flag before attempting to use the leaderboards functionality."),(0,o.kt)("h3",{id:"submit-score"},"Submit Score"),(0,o.kt)("p",null,"When the player's score changes (for example, when the player finishes the game), your game can update their score on the leaderboard by calling ",(0,o.kt)("inlineCode",{parentName:"p"},"submitScore()"),", and passing in the leaderboard ID and the raw score value."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-actionscript"},'GameServices.service.leaderboards.submitScore( "leaderboard_id", score );\n')),(0,o.kt)("p",null,"The score value must be an integer."),(0,o.kt)("h3",{id:"score-tags"},"Score Tags"),(0,o.kt)("p",null,'You can associate a "tag" with a score to give the score some context within your application.'),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-actionscript"},'GameServices.service.leaderboards.submitScore( "leaderboard_id", score, "1" );\n')),(0,o.kt)("p",null,'This "tag" value will then be returned when retrieving scores from a leaderboard and allows you to customise the appearance of the score in your application with this additional context information.'),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"The ",(0,o.kt)("inlineCode",{parentName:"p"},"tag")," is a string value here however certain services limit the type that can be used. So we suggest using only numeric characters for the tag value."),(0,o.kt)("ul",{parentName:"div"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("em",{parentName:"li"},"Game Center"),' uses a "context" integer value so we will strip and non-numeric characters out of the tag before passing to Game Center;'),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("em",{parentName:"li"},"Google Play")," accepts a string value so the value will be passed directly;")))),(0,o.kt)("h3",{id:"load-leaderboards"},"Load Leaderboards"),(0,o.kt)("p",null,"You can load the leaderboards that are associated with your game by calling the ",(0,o.kt)("inlineCode",{parentName:"p"},"loadLeaderboards()")," function."),(0,o.kt)("p",null,"This will query the server for the available leaderboards and return the details as an array of ",(0,o.kt)("inlineCode",{parentName:"p"},"Leaderboard")," objects in the ",(0,o.kt)("inlineCode",{parentName:"p"},"LeaderboardEvent.LEADERBOARDS_LOADED")," event."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-actionscript"},"GameServices.service.leaderboards.addEventListener( LeaderboardEvent.LEADERBOARDS_LOADED, leaderboardsLoadedHandler );\nGameServices.service.leaderboards.addEventListener( LeaderboardEvent.LEADERBOARDS_ERROR, leaderboardsLoadErrorHandler );\n\nGameServices.service.leaderboards.loadLeaderboards();\n")),(0,o.kt)("p",null,"On success an array of ",(0,o.kt)("inlineCode",{parentName:"p"},"Leaderboard")," objects will be avilable:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-actionscript"},'function leaderboardsLoadedHandler( event:LeaderboardEvent ):void\n{\n    var boards:Array = event.data;\n    for each (var board:Leaderboard in boards)\n    {\n        trace( "["+board.id+"] "+board.displayName );\n    }\n}\n')),(0,o.kt)("p",null,"On error, the ",(0,o.kt)("inlineCode",{parentName:"p"},"data")," property will contain information about the error:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-actionscript"},'function leaderboardsLoadErrorHandler( event:LeaderboardEvent ):void\n{\n    trace( "ERROR " + event.data );\n}\n')),(0,o.kt)("h3",{id:"loading-scores"},"Loading Scores"),(0,o.kt)("p",null,"Each leaderboard has a series of ",(0,o.kt)("inlineCode",{parentName:"p"},"LeaderboardScore"),"s attached each representing a score entry in the leaderboard. You load these values by using one of the load methods below:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"loadPlayerScore()")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"loadTopScores()")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"loadPlayerCenteredScores()"))),(0,o.kt)("p",null,"Each of these functions accept a range of parameters,"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"leaderboardId"),": The id of the specific leaderboard"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"span"),": The timespan of interest. Defaults to ",(0,o.kt)("inlineCode",{parentName:"li"},"Leaderboard.TIME_SPAN_ALL_TIME")," but can also be daily or weekly."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"collection"),": The collection of scores of interest, defaults to ",(0,o.kt)("inlineCode",{parentName:"li"},"Leaderboard.COLLECTION_PUBLIC")," but if you wish to load the player's friends scores you can change this to ",(0,o.kt)("inlineCode",{parentName:"li"},"Leaderboard.COLLECTION_SOCIAL"),".")),(0,o.kt)("p",null,"Some will also take a ",(0,o.kt)("inlineCode",{parentName:"p"},"maxResults")," parameter that allow you to suggest the number of results to return."),(0,o.kt)("h4",{id:"load-player-score"},"Load Player Score"),(0,o.kt)("p",null,"You can load the player's score for a particular leaderboard by calling the ",(0,o.kt)("inlineCode",{parentName:"p"},"loadPlayerScore()")," function.\nThe success event should contain one ",(0,o.kt)("inlineCode",{parentName:"p"},"LeaderboardScore")," value being the player's score in the specified leaderboard."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-actionscript"},'GameServices.service.leaderboards.addEventListener( LeaderboardEvent.PLAYERSCORE_LOADED, playerScoreLoadedHandler );\nGameServices.service.leaderboards.addEventListener( LeaderboardEvent.PLAYERSCORE_ERROR, playerScoreErrorHandler );\n\nGameServices.service.leaderboards.loadPlayerScore( "leaderboard_id" );\n\n\nfunction playerScoreLoadedHandler( event:LeaderboardEvent ):void\n{\n    var score:LeaderboardScore = event.data[0];\n    trace( "PLAYER SCORE LOADED: ["+score.rank+"] "+score.displayScore );\n}\n\nfunction playerScoreErrorHandler( event:LeaderboardEvent ):void\n{\n    trace( "PLAYER SCORE ERROR" );\n}\n')),(0,o.kt)("h4",{id:"load-top-scores"},"Load Top Scores"),(0,o.kt)("p",null,"You can load the top scores of a leaderboard by using the ",(0,o.kt)("inlineCode",{parentName:"p"},"loadTopScores()")," function with the leaderboard id of interest. This will dispatch either ",(0,o.kt)("inlineCode",{parentName:"p"},"LeaderboardEvent.TOPSCORES_LOADED")," or ",(0,o.kt)("inlineCode",{parentName:"p"},"LeaderboardEvent.TOPSCORES_ERROR")," in the case of success and failure respectively."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-actionscript"},'GameServices.service.leaderboards.addEventListener( LeaderboardEvent.TOPSCORES_LOADED, scoresLoadedHandler );\nGameServices.service.leaderboards.addEventListener( LeaderboardEvent.TOPSCORES_ERROR, scoresErrorHandler );\n\nGameServices.service.leaderboards.loadTopScores( "leaderboard_id" );\n')),(0,o.kt)("p",null,"On success you will have access to an array of score values:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-actionscript"},'function scoresLoadedHandler( event:LeaderboardEvent ):void\n{\n    var board:Leaderboard = event.leaderboard;\n    var scores:Array = event.data;\n\n    for each (var score:LeaderboardScore in scores)\n    {\n        trace( score.displayRank +" :: "+ score.displayScore +" :: "+ score.player.displayName );\n    }\n}\n')),(0,o.kt)("p",null,"On error, the ",(0,o.kt)("inlineCode",{parentName:"p"},"data")," property will contain information about the error:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-actionscript"},'function scoresErrorHandler( event:LeaderboardEvent ):void\n{\n    trace( "ERROR::"+ event.data );\n}\n')),(0,o.kt)("h4",{id:"load-player-centered-scores"},"Load Player Centered Scores"),(0,o.kt)("p",null,"Similar to loading the top scores of a leaderboard, you can load the scores around the players score by using the ",(0,o.kt)("inlineCode",{parentName:"p"},"loadPlayerCenteredScores()")," function with the leaderboard id of interest. This will dispatch either ",(0,o.kt)("inlineCode",{parentName:"p"},"LeaderboardEvent.PLAYERCENTEREDSCORES_LOADED")," or ",(0,o.kt)("inlineCode",{parentName:"p"},"LeaderboardEvent.PLAYERCENTEREDSCORES_ERROR")," in the case of success and failure respectively."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-actionscript"},'GameServices.service.leaderboards.addEventListener( LeaderboardEvent.PLAYERCENTEREDSCORES_LOADED, scoresLoadedHandler );\nGameServices.service.leaderboards.addEventListener( LeaderboardEvent.PLAYERCENTEREDSCORES_ERROR, scoresErrorHandler );\n\nGameServices.service.leaderboards.loadPlayerCenteredScores( "leaderboard_id" );\n')),(0,o.kt)("p",null,"On success you will have access to an array of score values:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-actionscript"},'function scoresLoadedHandler( event:LeaderboardEvent ):void\n{\n    var board:Leaderboard = event.leaderboard;\n    var scores:Array = event.data;\n\n    for each (var score:LeaderboardScore in scores)\n    {\n        trace( score.displayRank +" :: "+ score.displayScore +" :: "+ score.player.displayName );\n    }\n}\n')),(0,o.kt)("p",null,"On error, the ",(0,o.kt)("inlineCode",{parentName:"p"},"data")," property will contain information about the error:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-actionscript"},'function scoresErrorHandler( event:LeaderboardEvent ):void\n{\n    trace( "ERROR::"+ event.data );\n}\n')),(0,o.kt)("h3",{id:"displaying-leaderboard-ui"},"Displaying Leaderboard UI"),(0,o.kt)("p",null,"To display the native leaderboard UI, call ",(0,o.kt)("inlineCode",{parentName:"p"},"displayLeaderboardUI()")," with the leaderboard id of interest."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-actionscript"},'GameServices.service.leaderboards.displayLeaderboardUI( "leaderboard_id" );\n')),(0,o.kt)("p",null,"Your game will then display the leaderboard UI for the specified leaderboard, for example, Google Play Games on Android:"),(0,o.kt)("p",null,(0,o.kt)("img",{src:r(84568).Z,width:"1280",height:"720"})),(0,o.kt)("p",null,"Game Center on iOS:"),(0,o.kt)("p",null,(0,o.kt)("img",{src:r(32414).Z,width:"1316",height:"658"})),(0,o.kt)("p",null,"You can also listen for the ",(0,o.kt)("inlineCode",{parentName:"p"},"LeaderboardEvent.UI_CLOSED")," event to be informed about the user closing the native UI:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-actionscript"},'GameServices.service.leaderboards.addEventListener( LeaderboardEvent.UI_CLOSED, uiClosedHandler );\n\nGameServices.service.leaderboards.displayLeaderboardUI( "leaderboard_id" );\n\nfunction uiClosedHandler( event:AchievementEvent ):void\n{\n    // ui closed .. resume your game\n}\n')))}u.isMDXComponent=!0},32414:function(e,a,r){a.Z=r.p+"assets/images/gamecenter-showui-leaderboard-3c17e7122c5ad9e980dc3be153977e72.png"},84568:function(e,a,r){a.Z=r.p+"assets/images/googleplay_leaderboards_leaderboardUI-fae222be0e1f86e6a50bff7821bcc25e.png"}}]);
"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[6876],{28453:(n,e,t)=>{t.d(e,{R:()=>r,x:()=>a});var i=t(96540);const s={},o=i.createContext(s);function r(n){const e=i.useContext(o);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:r(n.components),i.createElement(o.Provider,{value:e},n.children)}},81604:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"scanner/migrating-to-version-5","title":"Migrating to version 5","description":"Version 5 brings several new features including:","source":"@site/docs/scanner/migrating-to-version-5.md","sourceDirName":"scanner","slug":"/scanner/migrating-to-version-5","permalink":"/docs/scanner/migrating-to-version-5","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Migrating to version 5","sidebar_label":"Migrating to version 5"},"sidebar":"scanner","previous":{"title":"Migrating to v5.1","permalink":"/docs/scanner/migrating-to-v5.1"},"next":{"title":"Migrating to AndroidX","permalink":"/docs/scanner/migrating-to-androidx"}}');var s=t(74848),o=t(28453);const r={title:"Migrating to version 5",sidebar_label:"Migrating to version 5"},a=void 0,c={},l=[{value:"Options",id:"options",level:2},{value:"Scanning",id:"scanning",level:2},{value:"Migrating",id:"migrating",level:3},{value:"Events",id:"events",level:2}];function d(n){const e={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.p,{children:"Version 5 brings several new features including:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Displaying the camera preview in a viewport;"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"With these new features we have cleaned up the API and refactored several of the methods."}),"\n",(0,s.jsx)(e.h2,{id:"options",children:"Options"}),"\n",(0,s.jsxs)(e.p,{children:["Most notably the old ",(0,s.jsx)(e.code,{children:"ScannerOptions"})," class has been broken up into several options classes controlling different aspects of the process:"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"ScannerOptions"})," : Now only contains options to control the scanning algorithm (eg symbologies);"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"ActivityOptons"}),": Contains all the view elements and text that is used in the fullscreen scanning activity (which was the only method in the previous versions);"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"CameraOptions"}),": Contains options for configuring the camera such as whether to use the front or rear camera;"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"ViewportOptions"})," (NEW): Contains options for configuring the viewport implementation;"]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"These classes are used in the start scanning methods, used to initiate the scanning process."}),"\n",(0,s.jsx)(e.h2,{id:"scanning",children:"Scanning"}),"\n",(0,s.jsx)(e.p,{children:"There are now 2 approaches to use to create your scanning interface."}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"startScanActivity()"}),": This method is equivalent to the old ",(0,s.jsx)(e.code,{children:"startScan()"})," method but with the new options;"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"startScanInViewport()"}),": Allows you to launch a camera preview contained to a viewport within your application;"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"migrating",children:"Migrating"}),"\n",(0,s.jsxs)(e.p,{children:["If you wish to continue using the previous full screen activity method the ",(0,s.jsx)(e.code,{children:"startScan()"})," method has been removed and you should now use ",(0,s.jsx)(e.code,{children:"startScanActivity()"}),"."]}),"\n",(0,s.jsx)(e.p,{children:"So you may have something like the following code:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-actionscript",children:"var options:ScannerOptions = new ScannerOptions();\noptions.singleResult = true;\n\nScanner.service.startScan( options );\n"})}),"\n",(0,s.jsx)(e.p,{children:"This should become:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-actionscript",children:"var uiOptions:ActivityOptions = new ActivityOptions();\nuiOptions.singleResult = false;\n\nvar scanOptions:ScannerOptions = new ScannerOptions();\n\nvar cameraOptions:CameraOptions = new CameraOptions();\n\nScanner.service.startScanActivity(\n    uiOptions,\n    scanOptions,\n    cameraOptions\n);\n"})}),"\n",(0,s.jsxs)(e.p,{children:["You can pass ",(0,s.jsx)(e.code,{children:"null"})," for any of these options if you just wish to use the defaults. eg the above is the equivalent of:"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-actionscript",children:"var uiOptions:ActivityOptions = new ActivityOptions();\nuiOptions.singleResult = false;\n\nScanner.service.startScanActivity( uiOptions );\n"})}),"\n",(0,s.jsx)(e.h2,{id:"events",children:"Events"}),"\n",(0,s.jsxs)(e.p,{children:["The events are mainly the same except that the code found results are no longer directly attached to the Event object, but contained within a ",(0,s.jsx)(e.code,{children:"ScanResult"})," instance."]}),"\n",(0,s.jsx)(e.p,{children:"So the following code:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-actionscript",children:"Scanner.service.addEventListener( ScannerEvent.CODE_FOUND, codeFoundHandler );\n\nfunction codeFoundHandler( event:ScannerEvent ):void \n{\n    trace( event.data );\n    trace( event.symbologyType );\n}\n"})}),"\n",(0,s.jsx)(e.p,{children:"becomes:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-actionscript",children:"Scanner.service.addEventListener( ScannerEvent.CODE_FOUND, codeFoundHandler );\n\nfunction codeFoundHandler( event:ScannerEvent ):void \n{\n    trace( event.result.data );\n    trace( event.result.symbologyType );\n}\n"})})]})}function h(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(d,{...n})}):d(n)}}}]);
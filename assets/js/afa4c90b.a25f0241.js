"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[18195],{28453:(e,n,i)=>{i.d(n,{R:()=>s,x:()=>a});var o=i(96540);const t={},d=o.createContext(t);function s(e){const n=o.useContext(d);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),o.createElement(d.Provider,{value:n},e.children)}},93166:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>o,toc:()=>r});const o=JSON.parse('{"id":"facebookapi-legacy/account-kit---add-the-extension","title":"Account Kit - Add the Extension","description":"This is the legacy extension documentation. Find the new documentation here","source":"@site/docs/facebookapi-legacy/account-kit---add-the-extension.md","sourceDirName":"facebookapi-legacy","slug":"/facebookapi-legacy/account-kit---add-the-extension","permalink":"/docs/facebookapi-legacy/account-kit---add-the-extension","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Account Kit - Add the Extension","sidebar_label":"Account Kit - Add the Extension"}}');var t=i(74848),d=i(28453);const s={title:"Account Kit - Add the Extension",sidebar_label:"Account Kit - Add the Extension"},a=void 0,c={},r=[{value:"Android Manifest Additions",id:"android-manifest-additions",level:2},{value:"Phone Permissions",id:"phone-permissions",level:3},{value:"Auto-fill confirmation code from received SMS",id:"auto-fill-confirmation-code-from-received-sms",level:4},{value:"Read Phone Number on Device",id:"read-phone-number-on-device",level:4},{value:"Email Permissions",id:"email-permissions",level:3},{value:"iOS Info Additions",id:"ios-info-additions",level:2}];function l(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,d.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.admonition,{type:"caution",children:(0,t.jsxs)(n.p,{children:["This is the legacy extension documentation. Find the new documentation ",(0,t.jsx)(n.a,{href:"../facebookapi/",children:"here"})]})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Account Kit has been discontinued and has been removed"})}),"\n",(0,t.jsxs)(n.p,{children:["Account Kit was deprecated on March 9, 2020. For more information, see ",(0,t.jsx)(n.a,{href:"https://developers.facebook.com/blog/post/2019/09/09/account-kit-services-no-longer-available-starting-march",children:"Account Kit services no longer available starting in March"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"android-manifest-additions",children:"Android Manifest Additions"}),"\n",(0,t.jsx)(n.p,{children:"If you are using Account Kit then you will need to add some additional information here, including"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"meta-data tags"}),"\n",(0,t.jsx)(n.li,{children:"activities"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["You will need to replace ",(0,t.jsx)(n.code,{children:"[YOUR_FACEBOOK_APP_NAME]"}),", ",(0,t.jsx)(n.code,{children:"[YOUR_ACCOUNT_KIT_CLIENT_TOKEN]"}),"and ",(0,t.jsx)(n.code,{children:"[YOUR_FACEBOOK_APP_ID]"})," in the\nbelow with the relevant details for your application."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:'<meta-data android:name="com.facebook.accountkit.ApplicationName" android:value="[YOUR_FACEBOOK_APP_NAME]" />\n<meta-data android:name="com.facebook.accountkit.ClientToken" android:value="[YOUR_ACCOUNT_KIT_CLIENT_TOKEN]" />\n\n<activity android:name="com.facebook.accountkit.ui.AccountKitActivity" android:theme="@style/AppLoginTheme" android:launchMode="singleTop" android:windowSoftInputMode="adjustResize" />\n\n<activity android:name="com.facebook.accountkit.ui.AccountKitEmailRedirectActivity" android:exported="true" android:noHistory="true">\n\t<intent-filter>\n\t\t<action android:name="android.intent.action.VIEW" />\n\t\t<category android:name="android.intent.category.DEFAULT" />\n\t\t<category android:name="android.intent.category.BROWSABLE" />\n\t\t<data android:scheme="ak[YOUR_FACEBOOK_APP_ID]" />\n\t</intent-filter>\n</activity>\n'})}),"\n",(0,t.jsxs)(n.p,{children:["These should be added within the ",(0,t.jsx)(n.code,{children:"application"})," node."]}),"\n",(0,t.jsx)(n.h3,{id:"phone-permissions",children:"Phone Permissions"}),"\n",(0,t.jsx)(n.p,{children:"Facebook recommends requesting the following permissions for SMS:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"RECEIVE_SMS"})," - auto-fill SMS confirmation code"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"READ_PHONE_STATE"})," - auto-read device's phone number"]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"auto-fill-confirmation-code-from-received-sms",children:"Auto-fill confirmation code from received SMS"}),"\n",(0,t.jsxs)(n.p,{children:["If people grant the ",(0,t.jsx)(n.code,{children:"RECEIVE_SMS"})," permission, the Account Kit SDK automatically fills in the confirmation code sent to the device. People still need to manually submit the code to continue the login process."]}),"\n",(0,t.jsx)(n.p,{children:"Add the following permission to your manifest additions to allow the SDK to auto-fill the confirmation code from the SMS:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:'<uses-permission android:name="android.permission.RECEIVE_SMS" />\n'})}),"\n",(0,t.jsx)(n.h4,{id:"read-phone-number-on-device",children:"Read Phone Number on Device"}),"\n",(0,t.jsxs)(n.p,{children:["If people grant the ",(0,t.jsx)(n.code,{children:"READ_PHONE_STATE"})," permission, the SDK can automatically fill in the device\u2019s phone number. People still need to manually submit their phone number to continue the login process"]}),"\n",(0,t.jsx)(n.p,{children:"Add the following permission to your manifest additions to allow the SDK to auto-fill the device's phone number:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:'<uses-permission android:name="android.permission.READ_PHONE_STATE" />\n'})}),"\n",(0,t.jsx)(n.h3,{id:"email-permissions",children:"Email Permissions"}),"\n",(0,t.jsx)(n.p,{children:"Facebook recommends requesting the following permissions:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"GET_ACCOUNTS"})," - provide drop-down list of device emails"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Certain features of the Account Kit SDK are only available when specific Android Permissions are granted to your app. If people grant the ",(0,t.jsx)(n.code,{children:"GET_ACCOUNTS"})," permission, the SDK allows them to select the emails available on the device."]}),"\n",(0,t.jsx)(n.p,{children:"Add the following permission to your manifest additions to allow the SDK to populate a drop-down of emails:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:'<uses-permission android:name="android.permission.GET_ACCOUNTS" />\n'})}),"\n",(0,t.jsx)(n.h2,{id:"ios-info-additions",children:"iOS Info Additions"}),"\n",(0,t.jsx)(n.p,{children:"If you are using Account Kit then you will need to add some additional information\nadded to the Info Additions on top of the base Facebook API additions:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["An additional url scheme with the ",(0,t.jsx)(n.code,{children:"ak"})," prefix"]}),"\n",(0,t.jsxs)(n.li,{children:["The ",(0,t.jsx)(n.code,{children:"AccountKitClientToken"})," key from your Account Kit configuration"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Your info additions should end up looking like the following:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:"<key>CFBundleURLTypes</key>\n<array>\n\t<dict>\n\t\t<key>CFBundleURLSchemes</key>\n\t\t<array>\t\n\t\t\t\x3c!-- Don't remove the 'fb' prefix --\x3e\n\t\t\t<string>fb[YOUR_FACEBOOK_APP_ID]</string>\n\t\t\t\x3c!-- Account Kit Addition --\x3e\n\t\t\t<string>ak[YOUR_FACEBOOK_APP_ID]</string>\n\t\t</array>\n\t</dict>\n</array>\n<key>FacebookAppID</key>\n<string>[YOUR_FACEBOOK_APP_ID]</string>\n<key>FacebookDisplayName</key>\n<string>[YOUR_FACEBOOK_APP_NAME]</string>\n<key>AccountKitClientToken</key>\n<string>[YOUR_ACCOUNT_KIT_CLIENT_TOKEN]</string>\n"})})]})}function h(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}}}]);
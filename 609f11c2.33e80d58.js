(window.webpackJsonp=window.webpackJsonp||[]).push([[295],{350:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return i})),t.d(n,"metadata",(function(){return l})),t.d(n,"rightToc",(function(){return c})),t.d(n,"default",(function(){return p}));var o=t(2),a=t(6),r=(t(0),t(821)),i={title:"Performance - Disable Monitoring",sidebar_label:"Disable Monitoring"},l={unversionedId:"firebase/performance/disable-monitoring",id:"firebase/performance/disable-monitoring",isDocsHomePage:!1,title:"Performance - Disable Monitoring",description:"Disable the Firebase Performance Monitoring",source:"@site/docs/firebase/performance/disable-monitoring.md",slug:"/firebase/performance/disable-monitoring",permalink:"/docs/firebase/performance/disable-monitoring",version:"current",sidebar_label:"Disable Monitoring"},c=[{value:"Disable the Firebase Performance Monitoring",id:"disable-the-firebase-performance-monitoring",children:[]},{value:"Disable during your app build process",id:"disable-during-your-app-build-process",children:[{value:"iOS",id:"ios",children:[]},{value:"Android",id:"android",children:[]}]},{value:"Disable your app at runtime",id:"disable-your-app-at-runtime",children:[]}],b={rightToc:c};function p(e){var n=e.components,t=Object(a.a)(e,["components"]);return Object(r.b)("wrapper",Object(o.a)({},b,t,{components:n,mdxType:"MDXLayout"}),Object(r.b)("h2",{id:"disable-the-firebase-performance-monitoring"},"Disable the Firebase Performance Monitoring"),Object(r.b)("p",null,"To let you users opt-in or opt-out of using Firebase Performance Monitoring, you might want to configure your app so that you can enable and disable Performance Monitoring. You might also find this capability to be useful during app development and testing."),Object(r.b)("p",null,"You can disable the Performance Monitoring SDK when building your app with the option to re-enable it at runtime, or build your app with Performance Monitoring enabled and then have the option to disable it at runtime using Firebase Remote Config. You can also completely deactivate Performance Monitoring, with no option to enable it at runtime."),Object(r.b)("h2",{id:"disable-during-your-app-build-process"},"Disable during your app build process"),Object(r.b)("p",null,"One situation where disabling Performance Monitoring during your app build process could\nbe useful is to avoid reporting performance data from a pre-release version of your app\nduring app development and testing."),Object(r.b)("h3",{id:"ios"},"iOS"),Object(r.b)("p",null,"You can add one of two keys to the Info Additions for your iOS app to disable or deactivate Performance Monitoring:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"To disable Performance Monitoring, but allow your app to enable it at runtime, set ",Object(r.b)("inlineCode",{parentName:"li"},"firebase_performance_collection_enabled")," to ",Object(r.b)("inlineCode",{parentName:"li"},"false")),Object(r.b)("li",{parentName:"ul"},"To completely deactivate Performance Monitoring with no option to enable it at runtime, set ",Object(r.b)("inlineCode",{parentName:"li"},"firebase_performance_collection_deactivated")," to ",Object(r.b)("inlineCode",{parentName:"li"},"true"),". This setting overrides the ",Object(r.b)("inlineCode",{parentName:"li"},"firebase_performance_collection_enabled")," setting and must be removed to re-enable Performance Monitoring.")),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-xml"}),"<iPhone>\n    <InfoAdditions><![CDATA[\n\n        <key>firebase_performance_collection_enabled</key>\n        <false/>\n\n        <key>firebase_performance_collection_deactivated</key>\n        <true/>\n\n    ]]></InfoAdditions>\n\n    \x3c!-- Other iPhone settings --\x3e\n\n</iPhone>\n")),Object(r.b)("h3",{id:"android"},"Android"),Object(r.b)("p",null,"You can disable Performance Monitoring at build time, but allow your app to enable it at runtime,\nby adding a ",Object(r.b)("inlineCode",{parentName:"p"},"<meta-data>")," element to the ",Object(r.b)("inlineCode",{parentName:"p"},"<application>")," element of your app's manifest additions as follows:"),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-xml"}),'<application>\n    ...\n    <meta-data android:name="firebase_performance_collection_enabled" android:value="false" />\n    ...\n</application>\n')),Object(r.b)("p",null,"To completely deactivate Performance Monitoring with no option to enable it at runtime,\nadd a ",Object(r.b)("inlineCode",{parentName:"p"},"<meta-data>")," element to the ",Object(r.b)("inlineCode",{parentName:"p"},"<application>")," element of your app's manifest additions, as follows:"),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-xml"}),'<application>\n    ...\n    <meta-data android:name="firebase_performance_collection_deactivated" android:value="true" />\n    ...\n</application>\n')),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"Note: This setting overrides the ",Object(r.b)("inlineCode",{parentName:"p"},"firebase_performance_collection_enabled")," setting and must be\nremoved from your app's manifest additions to re-enable Performance Monitoring.")),Object(r.b)("h2",{id:"disable-your-app-at-runtime"},"Disable your app at runtime"),Object(r.b)("p",null,"To disable or enable your app at runtime you can use the ",Object(r.b)("inlineCode",{parentName:"p"},"setPerformanceCollectionEnabled")," method."),Object(r.b)("p",null,"For example to enable the collection at runtime:"),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-actionscript"}),"FirebasePerformance.service.setPerformanceCollectionEnabled( true );\n")),Object(r.b)("p",null,"You can also use the ",Object(r.b)("inlineCode",{parentName:"p"},"isPerformanceCollectionEnabled")," method to check if performance monitoring\nis enabled in your application."),Object(r.b)("p",null,"Remote Config lets you make changes to the behavior and appearance of your app,\nso it provides an ideal way to let you disable Performance Monitoring in deployed\ninstances of your app. Simply use a remote config variable to pass to the\n",Object(r.b)("inlineCode",{parentName:"p"},"setPerformanceCollectionEnabled")," function."))}p.isMDXComponent=!0},821:function(e,n,t){"use strict";t.d(n,"a",(function(){return s})),t.d(n,"b",(function(){return m}));var o=t(0),a=t.n(o);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n){if(null==e)return{};var t,o,a=function(e,n){if(null==e)return{};var t,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var b=a.a.createContext({}),p=function(e){var n=a.a.useContext(b),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},s=function(e){var n=p(e.components);return a.a.createElement(b.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return a.a.createElement(a.a.Fragment,{},n)}},u=a.a.forwardRef((function(e,n){var t=e.components,o=e.mdxType,r=e.originalType,i=e.parentName,b=c(e,["components","mdxType","originalType","parentName"]),s=p(t),u=o,m=s["".concat(i,".").concat(u)]||s[u]||d[u]||r;return t?a.a.createElement(m,l(l({ref:n},b),{},{components:t})):a.a.createElement(m,l({ref:n},b))}));function m(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var r=t.length,i=new Array(r);i[0]=u;var l={};for(var c in n)hasOwnProperty.call(n,c)&&(l[c]=n[c]);l.originalType=e,l.mdxType="string"==typeof e?e:o,i[1]=l;for(var b=2;b<r;b++)i[b]=t[b];return a.a.createElement.apply(null,i)}return a.a.createElement.apply(null,t)}u.displayName="MDXCreateElement"}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[369],{425:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return a})),n.d(t,"rightToc",(function(){return l})),n.d(t,"default",(function(){return s}));var r=n(2),i=(n(0),n(854));const o={title:"Introductory Prices",sidebar_label:"Introductory Prices"},a={unversionedId:"inappbilling/introductory-prices",id:"inappbilling/introductory-prices",isDocsHomePage:!1,title:"Introductory Prices",description:"Offer introductory pricing for auto-renewable subscriptions to eligible users.",source:"@site/docs/inappbilling/introductory-prices.md",slug:"/inappbilling/introductory-prices",permalink:"/docs/inappbilling/introductory-prices",version:"current",sidebar_label:"Introductory Prices",sidebar:"inappbilling",previous:{title:"Discounts",permalink:"/docs/inappbilling/discounts"},next:{title:"Testing",permalink:"/docs/inappbilling/testing"}},l=[{value:"Retrieving Discounts",id:"retrieving-discounts",children:[]},{value:"Determine Eligibility",id:"determine-eligibility",children:[{value:"Google Play Billing",id:"google-play-billing",children:[]},{value:"Apple In-App Purchases",id:"apple-in-app-purchases",children:[]}]},{value:"Display Offer",id:"display-offer",children:[]},{value:"Make the Purchase",id:"make-the-purchase",children:[]},{value:"Notes",id:"notes",children:[]}],c={rightToc:l};function s({components:e,...t}){return Object(i.b)("wrapper",Object(r.a)({},c,t,{components:e,mdxType:"MDXLayout"}),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Offer introductory pricing for auto-renewable subscriptions to eligible users.")),Object(i.b)("blockquote",null,Object(i.b)("p",{parentName:"blockquote"},"Available through Google Play Billing and Apple In-App Purchases")),Object(i.b)("p",null,"Apps with auto-renewable subscriptions can offer a discounted introductory price, including a free trial, to eligible users. You can make introductory offers to customers who haven\u2019t previously received an introductory offer for the given product, or for any products in the same subscription group."),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},Object(i.b)("strong",{parentName:"p"},"Free trial period"),": An amount of time during which a user may access a subscription without being billed. A free trial period is a way to entice users to try your subscription before committing to purchase it.")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},Object(i.b)("strong",{parentName:"p"},"Introductory price"),': The price of the subscription over a certain number of initial, "introductory" billing periods. Introductory price is a way to entice users to try your subscription while simultaneously gaining some revenue. The Introductory price must be less than the subscription\'s normal price.'))),Object(i.b)("p",null,"Start by setting up introductory offers in App Store Connect or the Google Play Console. "),Object(i.b)("p",null,"The process then follows:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Retrieving discounts"),Object(i.b)("li",{parentName:"ul"},"Determine eligibility"),Object(i.b)("li",{parentName:"ul"},"Display the offer"),Object(i.b)("li",{parentName:"ul"},"Make Purchase")),Object(i.b)("p",null,"On iOS you will need to determine if the user is eligible to receive an introductory offer. When the app queries the App Store for a list of available products, display the introductory pricing if the user is eligible to receive them."),Object(i.b)("p",null,"Before you can display introductory offers and free trials in your app, you must first configure the offers in App Store Connect and the Google Play Console. "),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"App Store Connect, see ",Object(i.b)("a",Object(r.a)({parentName:"li"},{href:"https://help.apple.com/app-store-connect/#/deve1d49254f"}),"Set an introductory offer for an auto-renewable subscription"),"."),Object(i.b)("li",{parentName:"ul"},"Google Play Console, see ",Object(i.b)("a",Object(r.a)({parentName:"li"},{href:"https://support.google.com/googleplay/android-developer/answer/140504"}),"Create a subscription"))),Object(i.b)("h2",{id:"retrieving-discounts"},"Retrieving Discounts"),Object(i.b)("p",null,"Information on the discounts for a product are retrieved as part of the ",Object(i.b)("inlineCode",{parentName:"p"},"getProducts()")," call."),Object(i.b)("p",null,"If the product has an introductory offer then there will be a ",Object(i.b)("inlineCode",{parentName:"p"},"ProductDiscount")," object in the ",Object(i.b)("inlineCode",{parentName:"p"},"product.discounts")," array that has a type of ",Object(i.b)("inlineCode",{parentName:"p"},"ProductDiscount.TYPE_INTRODUCTORY"),". There may be multiple introductory offers, eg a free trial and an introductory price. ",Object(i.b)("em",{parentName:"p"},"A free trial will have a ",Object(i.b)("inlineCode",{parentName:"em"},"paymentMode")," of ",Object(i.b)("inlineCode",{parentName:"em"},"ProductDiscount.PAYMENTMODE_FREE_TRIAL"),".")),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-actionscript"}),"InAppBilling.service.addEventListener( \n    InAppBillingEvent.PRODUCTS_LOADED, \n    products_loadedHandler );\n                \nInAppBilling.service.getProducts( [ productId ] );\n\n\nfunction products_loadedHandler( event:InAppBillingEvent ):void \n{\n    for each (var product:Product in event.data)\n    {\n        if (product.discounts != null)\n        {\n            for each (var discount:ProductDiscount in product.discounts)\n            {\n                if (discount.type == ProductDiscount.TYPE_INTRODUCTORY)\n                {\n                    if (discount.paymentMode == ProductDiscount.PAYMENTMODE_FREE_TRIAL)\n                    {\n                        // this is a free trial\n                    }\n                    else \n                    {\n                        // this is an introductory discount \n                    }\n                }\n            }\n        }\n    }\n}\n")),Object(i.b)("h2",{id:"determine-eligibility"},"Determine Eligibility"),Object(i.b)("p",null,"Depending on the store, you may need to determine whether the current user is eligible for the discount. You can check this by inspecting the ",Object(i.b)("inlineCode",{parentName:"p"},"storeDeterminedEligible")," flag on the ",Object(i.b)("inlineCode",{parentName:"p"},"ProductDiscount")," instance.\nThis flag indicates whether the current user is determined to be eligible for the discount by the source store."),Object(i.b)("p",null,"If this value is ",Object(i.b)("inlineCode",{parentName:"p"},"true")," then you can assume the user is eligible for the discount. If it is ",Object(i.b)("inlineCode",{parentName:"p"},"false")," then you will need to use the process defined by the current store to determine user eligibility."),Object(i.b)("p",null,"For example, Google Play Billing only provides details on these offers to users who are eligible for the discount and so this value will be ",Object(i.b)("inlineCode",{parentName:"p"},"true"),"."),Object(i.b)("p",null,"As opposed to Apple In-App Purchases where you must determine eligibility by determining if the user has previously purchased a subscription."),Object(i.b)("h3",{id:"google-play-billing"},"Google Play Billing"),Object(i.b)("p",null,"The discount will only be available in the ",Object(i.b)("inlineCode",{parentName:"p"},"discounts")," array if the user is eligible for the offer. "),Object(i.b)("h3",{id:"apple-in-app-purchases"},"Apple In-App Purchases"),Object(i.b)("p",null,"To determine if a user is eligible for an introductory offer, check their receipt:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Validate the receipt as described in ",Object(i.b)("a",Object(r.a)({parentName:"li"},{href:"https://developer.apple.com/documentation/storekit/in-app_purchase/validating_receipts_with_the_app_store?language=objc"}),"Validating Receipts with the App Store"),".",Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"Send the receipt to your server;"),Object(i.b)("li",{parentName:"ul"},"Call the Apple verify receipt end point;"),Object(i.b)("li",{parentName:"ul"},"Process the response;"))),Object(i.b)("li",{parentName:"ul"},"In the receipt, check the values of the is_trial_period and the is_in_intro_offer_period for all in-app purchase transactions. If either of these fields are true for a given subscription, the user is not eligible for an introductory offer on that subscription product or any other products within the same subscription group. ")),Object(i.b)("p",null,"Based on the receipt, you will find that new and returning customers are eligible for introductory offers, including free trials:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"New subscribers are always eligible."),Object(i.b)("li",{parentName:"ul"},"Lapsed subscribers who renew are eligible if they haven't previously used an introductory offer for the given product (or any product within the same subscription group).")),Object(i.b)("h2",{id:"display-offer"},"Display Offer"),Object(i.b)("p",null,"Once you determine the user is eligible for an introductory discount, query the extension for available products, and inspect the ",Object(i.b)("inlineCode",{parentName:"p"},"discounts")," property."),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"You will have to display the alternate pricing based on whether you determined the user to be eligible.")," "),Object(i.b)("p",null,"There may be more than one introductory offer, so ensure that you display information on both. Eg, you may have a free trial period, followed by an introductory price discount, before the normal subscription price is applied. It is considered very important by the store policies that all this information is clearly displayed."),Object(i.b)("h2",{id:"make-the-purchase"},"Make the Purchase"),Object(i.b)("p",null,"There is nothing required to present the introductory discount or free trial. "),Object(i.b)("p",null,"When you call ",Object(i.b)("inlineCode",{parentName:"p"},"makePurchase()")," for a user that has an eligible introductory offer, the purchase process will automatically present the offer to the user during the purchase dialogs. Purchase flow will continue as normal."),Object(i.b)("h2",{id:"notes"},"Notes"),Object(i.b)("p",null,"There are some policy guidelines you will need to adhere to when displaying the discounts, mainly around the information that is displayed to the user when asking them to subscribe. Make sure you have read and followed the guidelines when implementing discounts:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"Google Play Billing:\n",Object(i.b)("a",Object(r.a)({parentName:"p"},{href:"https://play.google.com/about/monetization-ads/subscriptions/#!?zippy_activeEl=management-cancellation#management-cancellation"}),"https://play.google.com/about/monetization-ads/subscriptions/#!?zippy_activeEl=management-cancellation#management-cancellation"))),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"Apple In-App Purchases:  ",Object(i.b)("a",Object(r.a)({parentName:"p"},{href:"https://developer.apple.com/design/human-interface-guidelines/in-app-purchase/overview/"}),"https://developer.apple.com/design/human-interface-guidelines/in-app-purchase/overview/")))))}s.isMDXComponent=!0},854:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return h}));var r=n(0),i=n.n(r);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=i.a.createContext({}),p=function(e){var t=i.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},u=function(e){var t=p(e.components);return i.a.createElement(s.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return i.a.createElement(i.a.Fragment,{},t)}},d=i.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,a=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),u=p(n),d=r,h=u["".concat(a,".").concat(d)]||u[d]||b[d]||o;return n?i.a.createElement(h,l(l({ref:t},s),{},{components:n})):i.a.createElement(h,l({ref:t},s))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,a=new Array(o);a[0]=d;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:r,a[1]=l;for(var s=2;s<o;s++)a[s]=n[s];return i.a.createElement.apply(null,a)}return i.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"}}]);
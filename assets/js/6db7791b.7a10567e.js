"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[11833],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>m});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=a.createContext({}),s=function(e){var t=a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=s(e.components);return a.createElement(c.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},h=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,c=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),p=s(n),h=r,m=p["".concat(c,".").concat(h)]||p[h]||d[h]||o;return n?a.createElement(m,i(i({ref:t},u),{},{components:n})):a.createElement(m,i({ref:t},u))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=h;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l[p]="string"==typeof e?e:r,i[1]=l;for(var s=2;s<o;s++)i[s]=n[s];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}h.displayName="MDXCreateElement"},85162:(e,t,n)=>{n.d(t,{Z:()=>i});var a=n(67294),r=n(86010);const o={tabItem:"tabItem_Ymn6"};function i(e){let{children:t,hidden:n,className:i}=e;return a.createElement("div",{role:"tabpanel",className:(0,r.Z)(o.tabItem,i),hidden:n},t)}},74866:(e,t,n)=>{n.d(t,{Z:()=>S});var a=n(87462),r=n(67294),o=n(86010),i=n(12466),l=n(16550),c=n(91980),s=n(67392),u=n(50012);function p(e){return function(e){var t,n;return null!=(t=null==(n=r.Children.map(e,(e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})))?void 0:n.filter(Boolean))?t:[]}(e).map((e=>{let{props:{value:t,label:n,attributes:a,default:r}}=e;return{value:t,label:n,attributes:a,default:r}}))}function d(e){const{values:t,children:n}=e;return(0,r.useMemo)((()=>{const e=null!=t?t:p(n);return function(e){const t=(0,s.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error('Docusaurus error: Duplicate values "'+t.map((e=>e.value)).join(", ")+'" found in <Tabs>. Every value needs to be unique.')}(e),e}),[t,n])}function h(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function m(e){let{queryString:t=!1,groupId:n}=e;const a=(0,l.k6)(),o=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=n?n:null}({queryString:t,groupId:n});return[(0,c._X)(o),(0,r.useCallback)((e=>{if(!o)return;const t=new URLSearchParams(a.location.search);t.set(o,e),a.replace({...a.location,search:t.toString()})}),[o,a])]}function f(e){const{defaultValue:t,queryString:n=!1,groupId:a}=e,o=d(e),[i,l]=(0,r.useState)((()=>function(e){var t;let{defaultValue:n,tabValues:a}=e;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!h({value:n,tabValues:a}))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+n+'" but none of its children has the corresponding value. Available values are: '+a.map((e=>e.value)).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");return n}const r=null!=(t=a.find((e=>e.default)))?t:a[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:t,tabValues:o}))),[c,s]=m({queryString:n,groupId:a}),[p,f]=function(e){let{groupId:t}=e;const n=function(e){return e?"docusaurus.tab."+e:null}(t),[a,o]=(0,u.Nk)(n);return[a,(0,r.useCallback)((e=>{n&&o.set(e)}),[n,o])]}({groupId:a}),y=(()=>{const e=null!=c?c:p;return h({value:e,tabValues:o})?e:null})();(0,r.useLayoutEffect)((()=>{y&&l(y)}),[y]);return{selectedValue:i,selectValue:(0,r.useCallback)((e=>{if(!h({value:e,tabValues:o}))throw new Error("Can't select invalid tab value="+e);l(e),s(e),f(e)}),[s,f,o]),tabValues:o}}var y=n(72389);const k={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function v(e){let{className:t,block:n,selectedValue:l,selectValue:c,tabValues:s}=e;const u=[],{blockElementScrollPositionUntilNextRender:p}=(0,i.o5)(),d=e=>{const t=e.currentTarget,n=u.indexOf(t),a=s[n].value;a!==l&&(p(t),c(a))},h=e=>{var t;let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{var a;const t=u.indexOf(e.currentTarget)+1;n=null!=(a=u[t])?a:u[0];break}case"ArrowLeft":{var r;const t=u.indexOf(e.currentTarget)-1;n=null!=(r=u[t])?r:u[u.length-1];break}}null==(t=n)||t.focus()};return r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":n},t)},s.map((e=>{let{value:t,label:n,attributes:i}=e;return r.createElement("li",(0,a.Z)({role:"tab",tabIndex:l===t?0:-1,"aria-selected":l===t,key:t,ref:e=>u.push(e),onKeyDown:h,onClick:d},i,{className:(0,o.Z)("tabs__item",k.tabItem,null==i?void 0:i.className,{"tabs__item--active":l===t})}),null!=n?n:t)})))}function g(e){let{lazy:t,children:n,selectedValue:a}=e;const o=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=o.find((e=>e.props.value===a));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return r.createElement("div",{className:"margin-top--md"},o.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==a}))))}function b(e){const t=f(e);return r.createElement("div",{className:(0,o.Z)("tabs-container",k.tabList)},r.createElement(v,(0,a.Z)({},e,t)),r.createElement(g,(0,a.Z)({},e,t)))}function S(e){const t=(0,y.Z)();return r.createElement(b,(0,a.Z)({key:String(t)},e))}},90474:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>c,default:()=>m,frontMatter:()=>l,metadata:()=>s,toc:()=>p});var a=n(87462),r=(n(67294),n(3905)),o=n(74866),i=n(85162);const l={title:"App Shortcuts",sidebar_label:"App Shortcuts"},c=void 0,s={unversionedId:"forcetouch/app-shortcuts",id:"forcetouch/app-shortcuts",title:"App Shortcuts",description:"Application Shortcuts",source:"@site/docs/forcetouch/app-shortcuts.mdx",sourceDirName:"forcetouch",slug:"/forcetouch/app-shortcuts",permalink:"/docs/forcetouch/app-shortcuts",draft:!1,tags:[],version:"current",frontMatter:{title:"App Shortcuts",sidebar_label:"App Shortcuts"},sidebar:"forcetouch",previous:{title:"Force Touch Events",permalink:"/docs/forcetouch/force-touch-events"},next:{title:"changelog",permalink:"/docs/forcetouch/changelog"}},u={},p=[{value:"Application Shortcuts",id:"application-shortcuts",level:2},{value:"Limits",id:"limits",level:3},{value:"Dynamic Shortcuts",id:"dynamic-shortcuts",level:2},{value:"Icons",id:"icons",level:3},{value:"Removing Dynamic Shortcuts",id:"removing-dynamic-shortcuts",level:3},{value:"Events",id:"events",level:2},{value:"Static Shortcuts",id:"static-shortcuts",level:2},{value:"iOS",id:"ios",level:3}],d={toc:p},h="wrapper";function m(e){let{components:t,...l}=e;return(0,r.kt)(h,(0,a.Z)({},d,l,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(69702).Z,width:"800",height:"600"})),(0,r.kt)("h2",{id:"application-shortcuts"},"Application Shortcuts"),(0,r.kt)("p",null,'Application Shortcuts are additional options presented to the user when they "Force Touch" (iOS) or long press (Android) your\napplication icon.'),(0,r.kt)("p",null,"Shortcuts deliver access to specific content to your users by helping them quickly access parts of your app."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Android"),(0,r.kt)("th",{parentName:"tr",align:null},"iOS"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("img",{src:n(66089).Z,width:"460",height:"500"})),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("img",{src:n(98670).Z,width:"406",height:"500"}))))),(0,r.kt)("p",null,"How you deliver content with shortcuts depends on your use case and whether the shortcut's context is app-driven or user-driven."),(0,r.kt)("p",null,"These shortcuts can be added ",(0,r.kt)("strong",{parentName:"p"},"dynamically")," using code or ",(0,r.kt)("strong",{parentName:"p"},"statically"),"."),(0,r.kt)("p",null,"Static shortcuts are currently only supported on iOS. You use the info additions section in your application descriptor to add static shortcuts."),(0,r.kt)("p",null,"This functionality is provided through the ",(0,r.kt)("inlineCode",{parentName:"p"},"ApplicationShortcuts")," interface accessed by ",(0,r.kt)("inlineCode",{parentName:"p"},"ForceTouch.service.shortcuts"),"."),(0,r.kt)("h3",{id:"limits"},"Limits"),(0,r.kt)("p",null,"Generally, a maximum of 4 shortcuts are supported, and static items take precedence over\ndynamically added items. As such, if you use 2 static shortcuts in your descriptor,\nyou can only add 2 additional dynamic shortcuts to your app."),(0,r.kt)("h2",{id:"dynamic-shortcuts"},"Dynamic Shortcuts"),(0,r.kt)("p",null,"You can add shortcut items programmatically in your application, these are called ",(0,r.kt)("em",{parentName:"p"},"dynamic shortcuts"),"."),(0,r.kt)("p",null,"To do this you construct an instance of an ",(0,r.kt)("inlineCode",{parentName:"p"},"ApplicationShortcut")," and then call ",(0,r.kt)("inlineCode",{parentName:"p"},"addDynamicShortcut()")," with this item\nas a parameter."),(0,r.kt)("p",null,"For example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},'var shortcut:ApplicationShortcut = new ApplicationShortcut()\n        .setIdentifier( "com.distriqt.test.item1" )\n        .setTitle( "Item 1" );\n\nForceTouch.service.shortcuts.addDynamicShortcut( shortcut );\n')),(0,r.kt)("p",null,"The minimum amount of data on a shortcut is an identifier, and a title, but we also suggest setting an icon."),(0,r.kt)("p",null,"A shortcut has the following pieces of information:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"identifier"),": This is a unique identifier for the shortcut"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"title"),": Main title text for the shortcut item"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"subtitle"),": Subtitle text for the shortcut item (optional)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"icon"),": The icon type - built-in iOS system icons (optional)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"iconBitmap"),": Bitmap data to be used to construct an icon (Android) (optional)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"userInfo"),": Custom data to be attached to the shortcut item and returned in events (optional)")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Note: Your ",(0,r.kt)("inlineCode",{parentName:"p"},"identifier")," must be unique. If a shortcut with the same ",(0,r.kt)("inlineCode",{parentName:"p"},"identifier")," already exists then the ",(0,r.kt)("inlineCode",{parentName:"p"},"addDynamicShortcut()")," function will return ",(0,r.kt)("inlineCode",{parentName:"p"},"false")," and the shortcut will not be added. You should decide if you need to remove the shortcut and update it."),(0,r.kt)("p",{parentName:"blockquote"},"For example if you always want to update a shortcut:"),(0,r.kt)("pre",{parentName:"blockquote"},(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},"var success:Boolean = ForceTouch.service.shortcuts.addDynamicShortcut( shortcut );\nif (!success)\n{\n    ForceTouch.service.shortcuts.removeDynamicShortcut( shortcut.identifier );\n    ForceTouch.service.shortcuts.addDynamicShortcut( shortcut );\n}\n"))),(0,r.kt)("h3",{id:"icons"},"Icons"),(0,r.kt)("p",null,"Icons are handled differently on iOS and Android. They are optional but highly recommended!"),(0,r.kt)("p",null,"On iOS you must select one of the predefined iOS system icons from the ",(0,r.kt)("inlineCode",{parentName:"p"},"ShortcutIconType")," class."),(0,r.kt)("p",null,"You set the icon using the ",(0,r.kt)("inlineCode",{parentName:"p"},"setIcon()")," function and specifying the type, eg:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},'var shortcut:ApplicationShortcut = new ApplicationShortcut()\n        .setIdentifier( "com.distriqt.test.item1" )\n        .setTitle( "Item 1" )\n\n        .setIcon( ShortcutIconType.Alarm );\n')),(0,r.kt)("p",null,"On Android, you provide ",(0,r.kt)("inlineCode",{parentName:"p"},"BitmapData")," representing your icon to display, eg using an embedded asset:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},'[Embed(source="alarm_clock.png")]\npublic var AlarmIcon:Class;\n\nvar alarmIcon:Bitmap = new AlarmIcon() as Bitmap;\n\nvar shortcut:ApplicationShortcut = new ApplicationShortcut()\n        .setIdentifier( "com.distriqt.test.item1" )\n        .setTitle( "Item 1" )\n\n        .setIconBitmap( alarmIcon.bitmapData );\n')),(0,r.kt)("h3",{id:"removing-dynamic-shortcuts"},"Removing Dynamic Shortcuts"),(0,r.kt)("p",null,"To remove a dynamic shortcut simply call ",(0,r.kt)("inlineCode",{parentName:"p"},"removeDynamicShortcut()")," with the ",(0,r.kt)("inlineCode",{parentName:"p"},"identifier")," of the item to remove."),(0,r.kt)("p",null,"For example, to remove the previous example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},'ForceTouch.service.shortcuts.removeDynamicShortcut( "com.distriqt.test.item1" );\n')),(0,r.kt)("h2",{id:"events"},"Events"),(0,r.kt)("p",null,"To listen for shortcut events you must add the ",(0,r.kt)("inlineCode",{parentName:"p"},"SHORTCUT_SELECTED")," event listener to the ",(0,r.kt)("inlineCode",{parentName:"p"},"shortcuts")," interface as below:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},"ForceTouch.service.shortcuts.addEventListener(\n    ApplicationShortcutEvent.SHORTCUT_SELECTED,\n    shortcutSelectedHandler\n);\n")),(0,r.kt)("p",null,"When your shortcut is selected your handler will be triggered and you will receive the information associated with the selected shortcut. The event ",(0,r.kt)("inlineCode",{parentName:"p"},"item")," property will contain an ",(0,r.kt)("inlineCode",{parentName:"p"},"ApplicationShortcut")," instance where the ",(0,r.kt)("inlineCode",{parentName:"p"},"identifier")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"userInfo")," are valid (other fields will be invalid, i.e. title/subtitle/icons)."),(0,r.kt)("p",null,"If your application is running in the background, it will be brought to the foreground."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},'function shortcutSelectedHandler( event:ApplicationShortcutEvent ):void\n{\n    trace( "Shortcut selected: " + event.item.identifier );\n    // event.item.userInfo is an object which contains any custom data.\n}\n')),(0,r.kt)("p",null,"If your application wasn't running, it will be launched and brought to the foreground."),(0,r.kt)("p",null,"This event will be dispatched after the first time you call ",(0,r.kt)("inlineCode",{parentName:"p"},"addEventListener()")," for the ",(0,r.kt)("inlineCode",{parentName:"p"},"SHORTCUT_SELECTED")," event, so you should be prepared to handle this event as soon as you add the listener."),(0,r.kt)("h2",{id:"static-shortcuts"},"Static Shortcuts"),(0,r.kt)("h3",{id:"ios"},"iOS"),(0,r.kt)("p",null,"The ForceTouch extension supports static shortcut items on iOS.  If included, these items are always present in the shortcut menu for your app."),(0,r.kt)(o.Z,{groupId:"packagemanager",defaultValue:"apm",values:[{label:"APM",value:"apm"},{label:"Manual",value:"manual"}],mdxType:"Tabs"},(0,r.kt)(i.Z,{value:"apm",mdxType:"TabItem"},(0,r.kt)("p",null,"Firstly add a custom iOS configuration file by running:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"apm generate config ios\n")),(0,r.kt)("p",null,"Edit the ",(0,r.kt)("inlineCode",{parentName:"p"},"config/ios/InfoAdditions.xml")," file that was generated add the content below as required.")),(0,r.kt)(i.Z,{value:"manual",mdxType:"TabItem"},(0,r.kt)("p",null,"To add static shortcuts you must modify your application descriptor and add the details of your short cuts to the iPhone Info Additions."),(0,r.kt)("p",null,"These additions go into your application descriptor inside the iPhone / InfoAdditions node:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},"<iPhone>\n    <InfoAdditions><![CDATA[\n        \x3c!-- HERE --\x3e\n    ]]></InfoAdditions>\n</iPhone>\n")))),(0,r.kt)("p",null,"This is an example of how to add static shortcut items in your descriptor:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},"<key>UIApplicationShortcutItems</key>\n<array>\n    <dict>\n        <key>UIApplicationShortcutItemTitle</key>\n        <string>Static Shortcut 1</string>\n        <key>UIApplicationShortcutItemType</key>\n        <string>com.distriqt.test.static_shortcut_1</string>\n        <key>UIApplicationShortcutItemIconFile</key>\n        <string>open-favorites</string>\n        <key>UIApplicationShortcutItemUserInfo</key>\n        <dict>\n            <key>key1</key>\n            <string>value1</string>\n        </dict>\n    </dict>\n    <dict>\n        <key>UIApplicationShortcutItemTitle</key>\n        <string>Static Shortcut 2</string>\n        <key>UIApplicationShortcutItemType</key>\n        <string>com.distriqt.test.static_shortcut_2</string>\n        <key>UIApplicationShortcutItemIconType</key>\n        <string>UIApplicationShortcutIconTypeCompose</string>\n        <key>UIApplicationShortcutItemUserInfo</key>\n        <dict>\n            <key>key2</key>\n            <string>value2</string>\n        </dict>\n    </dict>\n</array>\n")))}m.isMDXComponent=!0},66089:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/android_shortcuts-9aa44fe985f904fdef03d51fdf3d0f58.png"},98670:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/ios_shortcuts-d3fa4dd41a832d9ff2686887de7dc815.png"},69702:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/shortcuts-eecef5d81263a64fa48abf55ff688416.png"}}]);
"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[97933],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>m});var i=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=i.createContext({}),p=function(e){var t=i.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},u=function(e){var t=p(e.components);return i.createElement(l.Provider,{value:t},e.children)},d="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},g=i.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),d=p(n),g=o,m=d["".concat(l,".").concat(g)]||d[g]||c[g]||r;return n?i.createElement(m,a(a({ref:t},u),{},{components:n})):i.createElement(m,a({ref:t},u))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,a=new Array(r);a[0]=g;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[d]="string"==typeof e?e:o,a[1]=s;for(var p=2;p<r;p++)a[p]=n[p];return i.createElement.apply(null,a)}return i.createElement.apply(null,n)}g.displayName="MDXCreateElement"},51244:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>c,frontMatter:()=>r,metadata:()=>s,toc:()=>p});var i=n(87462),o=(n(67294),n(3905));const r={title:"Setup",sidebar_label:"Setup"},a=void 0,s={unversionedId:"googleidentity/setup",id:"googleidentity/setup",title:"Setup",description:"Setup the extension",source:"@site/docs/googleidentity/setup.md",sourceDirName:"googleidentity",slug:"/googleidentity/setup",permalink:"/docs/googleidentity/setup",draft:!1,tags:[],version:"current",frontMatter:{title:"Setup",sidebar_label:"Setup"},sidebar:"googleidentity",previous:{title:"Add the Extension",permalink:"/docs/googleidentity/add-the-extension"},next:{title:"Signing In",permalink:"/docs/googleidentity/signing-in"}},l={},p=[{value:"Setup the extension",id:"setup-the-extension",level:2},{value:"Automatic silent sign in",id:"automatic-silent-sign-in",level:3},{value:"Games Signin",id:"games-signin",level:2}],u={toc:p},d="wrapper";function c(e){let{components:t,...r}=e;return(0,o.kt)(d,(0,i.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"setup-the-extension"},"Setup the extension"),(0,o.kt)("p",null,"You need to setup the platform using your Google API client ID and specify any additional\noptions such as scopes you require:"),(0,o.kt)("p",null,"At a minimum you will need to specify the iOS and Android client IDs:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-actionscript"},"var options:GoogleIdentityOptions = new GoogleIdentityOptionsBuilder()\n    .requestEmail()\n    .setIOSClientID( IOS_CLIENT_ID )\n    .setAndroidServerClientID( WEB_CLIENT_ID )\n    .build();\n\nGoogleIdentity.service.setup( options );\n")),(0,o.kt)("p",null,"The options here specify the permissions and scopes that you require from your users. This information will get displayed as part of the sign in process. "),(0,o.kt)("p",null,"For more information on these options see the ",(0,o.kt)("a",{parentName:"p",href:"/docs/googleidentity/google-identity-options"},"Google Identity Options")," section."),(0,o.kt)("p",null,"This call will be asynchronous, certain situations require checks that perform asynchronous operations.\nYou should await the ",(0,o.kt)("inlineCode",{parentName:"p"},"GoogleIdentityEvent.SETUP_COMPLETE")," event before continuing with any other functionality of the extension:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-actionscript"},"GoogleIdentity.service.addEventListener( GoogleIdentityEvent.SETUP_COMPLETE, setupCompleteHandler );\n\nfunction setupCompleteHandler( event:GoogleIdentityEvent ):void \n{\n    // Setup has completed\n}\n")),(0,o.kt)("h3",{id:"automatic-silent-sign-in"},"Automatic silent sign in"),(0,o.kt)("p",null,"The setup process will perform an automatic silent sign in if the user has previously signed in successfully.\nThis process is needed to ensure the ",(0,o.kt)("inlineCode",{parentName:"p"},"isSignedIn")," flag is correct after setup. "),(0,o.kt)("p",null,'The means your user may be presented a view showing something like "signing you in" as part of the ',(0,o.kt)("inlineCode",{parentName:"p"},"setup()")," call. "),(0,o.kt)("p",null,(0,o.kt)("img",{src:n(54236).Z,width:"400",height:"299"})),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"You can disable this functionality by changing the ",(0,o.kt)("inlineCode",{parentName:"p"},"attemptSilentSignIn")," value in the options:"),(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre",className:"language-actionscript"},"var options:GoogleIdentityOptions = new GoogleIdentityOptionsBuilder()\n    \n    ...\n\n    .setAttemptSilentSignIn( false )\n    .build();\n")),(0,o.kt)("p",{parentName:"admonition"},"This will mean you can manage this process yourself, storing a flag for when users have successfully signed in and then performing a silent sign in when it suits your application."),(0,o.kt)("p",{parentName:"admonition"},(0,o.kt)("strong",{parentName:"p"},"If you disable this process the ",(0,o.kt)("inlineCode",{parentName:"strong"},"isSignedIn")," flag may be incorrect after ",(0,o.kt)("inlineCode",{parentName:"strong"},"setup()"))),(0,o.kt)("p",{parentName:"admonition"},"More information on how to ",(0,o.kt)("a",{parentName:"p",href:"/docs/googleidentity/signing-in#sign-in-silently"},"sign in silently"),".")),(0,o.kt)("h2",{id:"games-signin"},"Games Signin"),(0,o.kt)("admonition",{type:"danger"},(0,o.kt)("p",{parentName:"admonition"},"This process is no longer supported. Please reach out to us if you require this integration.")),(0,o.kt)("p",null,"If you are planning to use Google Play Games on Android in your application then you can use this ANE to handle the signin process for games rather than handling two authentication processes. Additionally this ANE gives you more control over the sign in options and adding extra scopes that you don't get with the Game Services ANE. "),(0,o.kt)("p",null,"To do this we have added some default functionality to make the setup process simpler. Simply pass the ",(0,o.kt)("inlineCode",{parentName:"p"},"GoogleIdentityOptions.DEFAULT_GAMES_SIGN_IN")," to the builder constructor and then set any additional options as required. "),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-actionscript"},"var options:GoogleIdentityOptions = new GoogleIdentityOptionsBuilder( GoogleIdentityOptions.DEFAULT_GAMES_SIGN_IN )\n    .requestProfile()\n    .setIOSClientID( IOS_CLIENT_ID )\n    .build();\n")),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"You will most likely want to request the profile so you can retrieve the player information so make sure you add the ",(0,o.kt)("inlineCode",{parentName:"p"},"requestProfile()")," call to the builder (as above).")),(0,o.kt)("p",null,"Utilising this method automatically adds the required scopes and permissions for games sign in along with any other options you add to the builder."),(0,o.kt)("admonition",{title:"iOS",type:"info"},(0,o.kt)("p",{parentName:"admonition"},"As Play Games is no longer supported on iOS this addition does nothing on iOS and you will simply get the normal Google signin on iOS.")))}c.isMDXComponent=!0},54236:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/silent-sign-in-ui-c75947b5b668bda6971d076d1d787243.png"}}]);
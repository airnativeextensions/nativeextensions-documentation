"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[95680],{3905:function(e,n,t){t.d(n,{Zo:function(){return c},kt:function(){return m}});var r=t(67294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var d=r.createContext({}),l=function(e){var n=r.useContext(d),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},c=function(e){var n=l(e.components);return r.createElement(d.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},u=r.forwardRef((function(e,n){var t=e.components,i=e.mdxType,a=e.originalType,d=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),u=l(t),m=i,g=u["".concat(d,".").concat(m)]||u[m]||p[m]||a;return t?r.createElement(g,o(o({ref:n},c),{},{components:t})):r.createElement(g,o({ref:n},c))}));function m(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var a=t.length,o=new Array(a);o[0]=u;var s={};for(var d in n)hasOwnProperty.call(n,d)&&(s[d]=n[d]);s.originalType=e,s.mdxType="string"==typeof e?e:i,o[1]=s;for(var l=2;l<a;l++)o[l]=t[l];return r.createElement.apply(null,o)}return r.createElement.apply(null,t)}u.displayName="MDXCreateElement"},23606:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return o},contentTitle:function(){return s},metadata:function(){return d},toc:function(){return l},default:function(){return p}});var r=t(87462),i=t(63366),a=(t(67294),t(3905)),o={title:"Migrating to version 10",sidebar_label:"Migrating to version 10"},s=void 0,d={unversionedId:"adverts/migrating-to-version-10",id:"adverts/migrating-to-version-10",isDocsHomePage:!1,title:"Migrating to version 10",description:"Version 10 brings the latest consent gathering processes from Google utilising the User Messaging Platform and preparations for iOS 14's App Tracking Transparency framework requirement.",source:"@site/docs/adverts/migrating-to-version-10.md",sourceDirName:"adverts",slug:"/adverts/migrating-to-version-10",permalink:"/docs/adverts/migrating-to-version-10",tags:[],version:"current",frontMatter:{title:"Migrating to version 10",sidebar_label:"Migrating to version 10"},sidebar:"adverts",previous:{title:"Migrating to version 12",permalink:"/docs/adverts/migrating-to-version-12"},next:{title:"Migrating from version 4",permalink:"/docs/adverts/migrating-from-version-4"}},l=[],c={toc:l};function p(e){var n=e.components,t=(0,i.Z)(e,["components"]);return(0,a.kt)("wrapper",(0,r.Z)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Version 10 brings the latest consent gathering processes from Google utilising the User Messaging Platform and preparations for iOS 14's App Tracking Transparency framework requirement."),(0,a.kt)("h4",{id:"android-manifest"},"Android Manifest"),(0,a.kt)("p",null,"Ensure you have the latest manifest additions:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-xml"},'<manifest android:installLocation="auto">\n    \n    \x3c!--Required. Used to access the Internet to make ad requests--\x3e\n    <uses-permission android:name="android.permission.INTERNET"/>\n\n    \x3c!--Optional. Used to check if an internet connection is available prior to making an ad request.--\x3e\n    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/>\n\n    <uses-permission android:name="android.permission.WAKE_LOCK" />\n\n    <application \n        android:hardwareAccelerated="true"\n        android:appComponentFactory="androidx.core.app.CoreComponentFactory">\n\n        <meta-data android:name="com.google.android.gms.version" android:value="@integer/google_play_services_version"/>\n        \n        <meta-data\n            android:name="com.google.android.gms.ads.APPLICATION_ID"\n            android:value="ca-app-pub-AAAAAAAAAAAAAAAA~XXXXXXXXXX"/>\n\n        <activity \n            android:name="com.google.android.gms.ads.AdActivity"\n            android:configChanges="keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize" \n            android:exported="false"\n            android:theme="@android:style/Theme.Translucent" />\n\n        <provider\n            android:name="com.google.android.gms.ads.MobileAdsInitProvider"\n            android:authorities="air.com.distriqt.test.debug.mobileadsinitprovider"\n            android:exported="false"\n            android:initOrder="100" />\n\n        <service\n            android:name="com.google.android.gms.ads.AdService"\n            android:enabled="true"\n            android:exported="false" />\n            \n    </application>\n\n</manifest>\n')),(0,a.kt)("p",null,"See ",(0,a.kt)("a",{parentName:"p",href:"add-the-extension"},"Add the Extension")," for details."),(0,a.kt)("h4",{id:"ios-info-additions"},"iOS Info Additions"),(0,a.kt)("p",null,"Updates are required to support iOS 14, you need to make sure you have the following in your Info Addtions:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-xml"},"<key>GADApplicationIdentifier</key>\n<string>ca-app-pub-AAAAAAAAAAAAAAAA~XXXXXXXXXX</string>\n\n<key>NSUserTrackingUsageDescription</key>\n<string>This identifier will be used to deliver personalized ads to you.</string>\n\n<key>SKAdNetworkItems</key>\n<array>\n    <dict>\n        <key>SKAdNetworkIdentifier</key>\n        <string>cstr6suwn9.skadnetwork</string>\n    </dict>\n</array>\n")),(0,a.kt)("p",null,"See ",(0,a.kt)("a",{parentName:"p",href:"add-the-extension"},"Add the Extension")," for details."),(0,a.kt)("h4",{id:"initialisation"},"Initialisation"),(0,a.kt)("p",null,"You may notice that the ",(0,a.kt)("inlineCode",{parentName:"p"},"initialisePlatform()")," function has been deprecated. This is to ensure that you are aware that there is now a two step process involved:"),(0,a.kt)("p",null,"The legacy call to :"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-actionscript"},"Adverts.service.initialisePlatform( AdvertPlatform.PLATFORM_ADMOB );\n")),(0,a.kt)("p",null,"Is now the equivalent of :"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-actionscript"},"Adverts.service.setup( AdvertPlatform.PLATFORM_ADMOB );\nAdverts.service.initialise();\n")),(0,a.kt)("p",null,"This separation has been made so you can access the consent functionality before initialising the platform. ",(0,a.kt)("inlineCode",{parentName:"p"},"setup()")," must be called to setup the platform and make consent functionality available. Once initialise is called the SDK may make calls to preload ads so be sure to request any consent you require before calling ",(0,a.kt)("inlineCode",{parentName:"p"},"initialise()"),". "),(0,a.kt)("h4",{id:"consent-sdk"},"Consent SDK"),(0,a.kt)("p",null,"To migrate you need to change any usages of the existing consent SDK to the new User Messaging Platform."),(0,a.kt)("p",null,"Any calls to ",(0,a.kt)("inlineCode",{parentName:"p"},"Adverts.service.consent.*")," functionality need to be replaced with the new ",(0,a.kt)("inlineCode",{parentName:"p"},"Adverts.service.ump.*")," functionality. See the documentation on the ",(0,a.kt)("a",{parentName:"p",href:"user-messaging-platform"},"User Messaging Platform")," for details."))}p.isMDXComponent=!0}}]);
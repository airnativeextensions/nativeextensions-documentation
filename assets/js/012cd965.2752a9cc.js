"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[2545],{4955:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>m,frontMatter:()=>l,metadata:()=>a,toc:()=>u});const a=JSON.parse('{"id":"adverts/platform/admob/privacy-sandbox","title":"Privacy Sandbox","description":"Currently this is for Android only","source":"@site/docs/adverts/platform/admob/privacy-sandbox.mdx","sourceDirName":"adverts/platform/admob","slug":"/adverts/platform/admob/privacy-sandbox","permalink":"/docs/adverts/platform/admob/privacy-sandbox","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Privacy Sandbox","sidebar_label":"Privacy Sandbox"},"sidebar":"adverts","previous":{"title":"Google AdMob","permalink":"/docs/adverts/platform/admob/"},"next":{"title":"Huawei Ads Kit","permalink":"/docs/adverts/platform/huawei/"}}');var o=r(74848),s=r(28453),t=r(11470),i=r(19365);const l={title:"Privacy Sandbox",sidebar_label:"Privacy Sandbox"},c=void 0,d={},u=[{value:"Configure API-specific Ad Services",id:"configure-api-specific-ad-services",level:2},{value:"Opting out",id:"opting-out",level:2}];function p(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.admonition,{type:"note",children:(0,o.jsx)(n.p,{children:"Currently this is for Android only"})}),"\n",(0,o.jsx)(n.p,{children:"The Privacy Sandbox on Android introduces new technologies to improve user privacy and enable effective, personalized advertising experiences for mobile apps."}),"\n",(0,o.jsxs)(n.p,{children:["To read more on the Privacy Sandbox see the ",(0,o.jsx)(n.a,{href:"https://developers.google.com/privacy-sandbox/",children:"official documentation"}),"."]}),"\n",(0,o.jsx)(n.h2,{id:"configure-api-specific-ad-services",children:"Configure API-specific Ad Services"}),"\n",(0,o.jsxs)(n.p,{children:["This configuration gives you fine-grained control access to resources managed by the APIs in your app or embedded SDK. In your manifest, specify an ",(0,o.jsx)(n.code,{children:"adservicesConfig"})," property as shown in the following example:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:'<application ...>\n      ...\n    <property android:name="android.adservices.AD_SERVICES_CONFIG"\n        android:resource="@xml/gma_ad_services_config" />\n\n      ...\n</application>\n'})}),"\n",(0,o.jsxs)(n.p,{children:["Specify the ad services XML resource referenced in the manifest, such as ",(0,o.jsx)(n.code,{children:"res/xml/gma_ad_services_config.xml"}),". For each privacy-preserving API applicable to your app (or embedded SDK), set the allowAllToAccess attribute to true to grant access to any callers."]}),"\n",(0,o.jsxs)(n.p,{children:["Create a folder ",(0,o.jsx)(n.code,{children:"res"})," in your application source and a sub-folder named ",(0,o.jsx)(n.code,{children:"xml"}),". Ensure you package this folder as the custom resources for your AIR application by using the ",(0,o.jsx)(n.code,{children:"resdir"})," option (",(0,o.jsx)(n.a,{href:"https://airsdk.dev/docs/tutorials/platform/android/custom-resources",children:"more information here"}),")"]}),"\n",(0,o.jsxs)(n.p,{children:["Create the file ",(0,o.jsx)(n.code,{children:"gma_ad_services_config.xml"})," and add specify the configuration you require. The following example shows how to specify broad access to allow any enrollment account ID access to all privacy-preserving APIs:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:'<ad-services-config>\n   \x3c!-- Attribution API --\x3e\n   <attribution allowAllToAccess="true" />\n\n   \x3c!-- Topics API --\x3e\n   <topics allowAllToAccess="true" />\n\n   \x3c!-- Protected Audience on Android API --\x3e\n   <custom-audiences allowAllToAccess="true" />\n</ad-services-config>\n'})}),"\n",(0,o.jsx)(n.p,{children:"The following example shows how to specify fine-grained access to each privacy-preserving API for specific enrollment account IDs:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:'<ad-services-config>\n    \x3c!-- Attribution API --\x3e\n    <attribution allowAdPartnersToAccess="ENROLLMENT-ID" allowAllToAccess="false" />\n\n    \x3c!-- Topics API --\x3e\n    <includes-sdk-library name="ENROLLMENT-ID" />\n    <topics allowAdPartnersToAccess="ENROLLMENT-ID" allowAllToAccess="false" />\n\n    \x3c!-- Protected Audience on Android API --\x3e\n    <custom-audiences allowAdPartnersToAccess="ENROLLMENT-ID" allowAllToAccess="false" />\n</ad-services-config>\n'})}),"\n",(0,o.jsx)(n.h2,{id:"opting-out",children:"Opting out"}),"\n",(0,o.jsx)(n.p,{children:"To opt out of the Admob implemented Topics API and Attribution Reporting API you can remove the additions to the manifest from your application descriptor."}),"\n",(0,o.jsxs)(t.A,{groupId:"packagemanager",defaultValue:"apm",values:[{label:"APM",value:"apm"},{label:"Manual",value:"manual"}],children:[(0,o.jsxs)(i.A,{value:"apm",children:[(0,o.jsx)(n.p,{children:"Firstly create an Android config for specific manifest additions:"}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"apm generate config android\n"})}),(0,o.jsxs)(n.p,{children:["Then edit the file created at ",(0,o.jsx)(n.code,{children:"config/android/AndroidManifest.xml"})," and add the following content:"]}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0" encoding="utf-8"?>\n<manifest xmlns:android="http://schemas.android.com/apk/res/android" xmlns:tools="http://schemas.android.com/tools">\n\n    <uses-permission android:name="android.permission.ACCESS_ADSERVICES_TOPICS" tools:node="remove" />\n    <uses-permission android:name="android.permission.ACCESS_ADSERVICES_ATTRIBUTION" tools:node="remove" />\n    <uses-permission android:name="android.permission.ACCESS_ADSERVICES_AD_ID" tools:node="remove" />\n\n    <application>\n\n        <property tools:node="removeAll" />\n\n    </application>\n\n</manifest>\n'})}),(0,o.jsx)(n.p,{children:"Now generate your application descriptor and the privacy sandbox APIs will be disabled."})]}),(0,o.jsxs)(i.A,{value:"manual",children:[(0,o.jsx)(n.p,{children:"Remove the following lines from your manifest additions:"}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:'<uses-permission android:name="android.permission.ACCESS_ADSERVICES_TOPICS"  />\n<uses-permission android:name="android.permission.ACCESS_ADSERVICES_ATTRIBUTION" />\n<uses-permission android:name="android.permission.ACCESS_ADSERVICES_AD_ID"  />\n'})}),(0,o.jsxs)(n.p,{children:["Also from within the ",(0,o.jsx)(n.code,{children:"application"})," node remove the line:"]}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:'<property android:name="android.adservices.AD_SERVICES_CONFIG" android:resource="@xml/gma_ad_services_config"/>\n'})})]})]})]})}function m(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(p,{...e})}):p(e)}},11470:(e,n,r)=>{r.d(n,{A:()=>I});var a=r(96540),o=r(34164),s=r(17559),t=r(23104),i=r(56347),l=r(205),c=r(57485),d=r(31682),u=r(70679);function p(e){var n,r;return null!=(n=null==(r=a.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,a.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')}))?void 0:r.filter(Boolean))?n:[]}function m(e){const{values:n,children:r}=e;return(0,a.useMemo)(()=>{const e=null!=n?n:function(e){return p(e).map(e=>{let{props:{value:n,label:r,attributes:a,default:o}}=e;return{value:n,label:r,attributes:a,default:o}})}(r);return function(e){const n=(0,d.XI)(e,(e,n)=>e.value===n.value);if(n.length>0)throw new Error('Docusaurus error: Duplicate values "'+n.map(e=>e.value).join(", ")+'" found in <Tabs>. Every value needs to be unique.')}(e),e},[n,r])}function f(e){let{value:n,tabValues:r}=e;return r.some(e=>e.value===n)}function h(e){let{queryString:n=!1,groupId:r}=e;const o=(0,i.W6)(),s=function(e){let{queryString:n=!1,groupId:r}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!r)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=r?r:null}({queryString:n,groupId:r});return[(0,c.aZ)(s),(0,a.useCallback)(e=>{if(!s)return;const n=new URLSearchParams(o.location.search);n.set(s,e),o.replace(Object.assign({},o.location,{search:n.toString()}))},[s,o])]}function v(e){const{defaultValue:n,queryString:r=!1,groupId:o}=e,s=m(e),[t,i]=(0,a.useState)(()=>function(e){var n;let{defaultValue:r,tabValues:a}=e;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(r){if(!f({value:r,tabValues:a}))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+r+'" but none of its children has the corresponding value. Available values are: '+a.map(e=>e.value).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");return r}const o=null!=(n=a.find(e=>e.default))?n:a[0];if(!o)throw new Error("Unexpected error: 0 tabValues");return o.value}({defaultValue:n,tabValues:s})),[c,d]=h({queryString:r,groupId:o}),[p,v]=function(e){let{groupId:n}=e;const r=function(e){return e?"docusaurus.tab."+e:null}(n),[o,s]=(0,u.Dv)(r);return[o,(0,a.useCallback)(e=>{r&&s.set(e)},[r,s])]}({groupId:o}),b=(()=>{const e=null!=c?c:p;return f({value:e,tabValues:s})?e:null})();(0,l.A)(()=>{b&&i(b)},[b]);return{selectedValue:t,selectValue:(0,a.useCallback)(e=>{if(!f({value:e,tabValues:s}))throw new Error("Can't select invalid tab value="+e);i(e),d(e),v(e)},[d,v,s]),tabValues:s}}var b=r(92303);const x={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var g=r(74848);function A(e){let{className:n,block:r,selectedValue:a,selectValue:s,tabValues:i}=e;const l=[],{blockElementScrollPositionUntilNextRender:c}=(0,t.a_)(),d=e=>{const n=e.currentTarget,r=l.indexOf(n),o=i[r].value;o!==a&&(c(n),s(o))},u=e=>{var n;let r=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{var a;const n=l.indexOf(e.currentTarget)+1;r=null!=(a=l[n])?a:l[0];break}case"ArrowLeft":{var o;const n=l.indexOf(e.currentTarget)-1;r=null!=(o=l[n])?o:l[l.length-1];break}}null==(n=r)||n.focus()};return(0,g.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.A)("tabs",{"tabs--block":r},n),children:i.map(e=>{let{value:n,label:r,attributes:s}=e;return(0,g.jsx)("li",Object.assign({role:"tab",tabIndex:a===n?0:-1,"aria-selected":a===n,ref:e=>{l.push(e)},onKeyDown:u,onClick:d},s,{className:(0,o.A)("tabs__item",x.tabItem,null==s?void 0:s.className,{"tabs__item--active":a===n}),children:null!=r?r:n}),n)})})}function y(e){let{lazy:n,children:r,selectedValue:s}=e;const t=(Array.isArray(r)?r:[r]).filter(Boolean);if(n){const e=t.find(e=>e.props.value===s);return e?(0,a.cloneElement)(e,{className:(0,o.A)("margin-top--md",e.props.className)}):null}return(0,g.jsx)("div",{className:"margin-top--md",children:t.map((e,n)=>(0,a.cloneElement)(e,{key:n,hidden:e.props.value!==s}))})}function j(e){const n=v(e);return(0,g.jsxs)("div",{className:(0,o.A)(s.G.tabs.container,"tabs-container",x.tabList),children:[(0,g.jsx)(A,Object.assign({},n,e)),(0,g.jsx)(y,Object.assign({},n,e))]})}function I(e){const n=(0,b.A)();return(0,g.jsx)(j,Object.assign({},e,{children:p(e.children)}),String(n))}},19365:(e,n,r)=>{r.d(n,{A:()=>t});r(96540);var a=r(34164);const o={tabItem:"tabItem_Ymn6"};var s=r(74848);function t(e){let{children:n,hidden:r,className:t}=e;return(0,s.jsx)("div",{role:"tabpanel",className:(0,a.A)(o.tabItem,t),hidden:r,children:n})}},28453:(e,n,r)=>{r.d(n,{R:()=>t,x:()=>i});var a=r(96540);const o={},s=a.createContext(o);function t(e){const n=a.useContext(s);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:t(e.components),a.createElement(s.Provider,{value:n},e.children)}}}]);
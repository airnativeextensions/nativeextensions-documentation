
### Extension IDs

The following should be added to your `extensions` node in your application descriptor to identify all the required ANEs in your application:

```xml
<extensions>
    <extensionID>com.distriqt.InAppBilling</extensionID>
    <extensionID>com.distriqt.Core</extensionID>
    <extensionID>com.huawei.hms.base</extensionID>
    <extensionID>com.huawei.hms.coreinstaller</extensionID>
    <extensionID>com.huawei.hms.game</extensionID>
</extensions>
```



### Android

#### Manifest Additions


Add the following permissions to your manifest additions, these permissions are used by the Huawei SDK to access certain configuration data and request installation of packages if found missing from the device:

```xml
<uses-permission android:name="android.permission.INTERNET"/>
<uses-permission android:name="com.android.vending.BILLING" />
<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
<uses-permission android:name="android.permission.REQUEST_INSTALL_PACKAGES" />
<uses-permission android:name="android.permission.SYSTEM_ALERT_WINDOW" />
<uses-permission android:name="android.permission.GET_TASKS" />
<uses-permission android:name="android.permission.REAL_GET_TASKS" />

<uses-permission android:name="com.huawei.hwid.permission.gameservice.archive.access.provider" />
<uses-permission android:name="com.huawei.appmarket.service.commondata.permission.GET_COMMON_DATA" />
```

Add the following queries section:

```xml
<queries>
    <intent>
        <action android:name="com.apptouch.intent.action.update_hms" />
    </intent>
    <intent>
        <action android:name="com.huawei.appmarket.intent.action.AppDetail" />
    </intent>

    <package android:name="com.huawei.works" />
    <package android:name="com.hisilicon.android.hiRMService" />
    <intent>
        <action android:name="com.huawei.hms.core.aidlservice" />
    </intent>
    <intent>
        <action android:name="com.huawei.hms.core" />
    </intent>
    <intent>
        <action android:name="com.huawei.appmarket.intent.action.ThirdUpdateAction" />
    </intent>
</queries>
```


These should be added to the `application` node in your manifest additions. Replace any occurances of `APPLICATION_PACKAGE` with the Android java package name of your application.


```xml
<activity
    android:name="com.distriqt.extension.inappbilling.activities.ProductViewActivity"
    android:theme="@android:style/Theme.Translucent.NoTitleBar">
</activity>


<!-- HUAWEI APP GALLERY -->
<meta-data
    android:name="com.huawei.hms.client.service.name:iap"
    android:value="iap:6.10.0.300" />
<meta-data
    android:name="com.huawei.hms.min_api_level:iap:iap"
    android:value="1" />


<!-- HUAWEI BASE -->
<provider
    android:name="com.huawei.agconnect.core.provider.AGConnectInitializeProvider"
    android:authorities="APPLICATION_PACKAGE.AGCInitializeProvider"
    android:exported="false" />

<service
    android:name="com.huawei.agconnect.core.ServiceDiscovery"
    android:exported="false" />

<meta-data
    android:name="availableLoaded"
    android:value="yes" />

<meta-data
    android:name="com.huawei.hms.client.service.name:base"
    android:value="base:6.11.0.301" />

<meta-data
    android:name="com.huawei.hms.min_api_level:base:hmscore"
    android:value="1" />

<activity
    android:name="com.huawei.hms.hwid.internal.ui.activity.HwIdSignInHubActivity"
    android:configChanges="fontScale|uiMode"
    android:excludeFromRecents="true"
    android:exported="false"
    android:theme="@android:style/Theme.Translucent.NoTitleBar" >
</activity>
<activity
    android:name="com.huawei.hms.account.internal.ui.activity.AccountSignInHubActivity"
    android:excludeFromRecents="true"
    android:exported="false"
    android:theme="@android:style/Theme.Translucent.NoTitleBar" >
</activity>

<meta-data
    android:name="com.huawei.hms.client.service.name:hwid"
    android:value="hwid:6.11.0.300" />
<meta-data
    android:name="com.huawei.hms.min_api_level:hwid:hwid"
    android:value="1" />

<meta-data
    android:name="com.huawei.hms.min_api_level:hwid:account"
    android:value="13" />

<activity
    android:name="com.huawei.hms.activity.BridgeActivity"
    android:configChanges="orientation|locale|layoutDirection|fontScale|screenSize|smallestScreenSize|screenLayout|uiMode"
    android:excludeFromRecents="true"
    android:exported="false"
    android:hardwareAccelerated="true"
    android:screenOrientation="behind"
    android:theme="@style/Base_Translucent" >
    <meta-data
        android:name="hwc-theme"
        android:value="androidhwext:style/Theme.Emui.Translucent" />
</activity>
<activity
    android:name="com.huawei.hms.activity.EnableServiceActivity"
    android:configChanges="orientation|keyboardHidden|screenSize|smallestScreenSize|screenLayout"
    android:exported="false" >
</activity>


<!-- HUAWEI CORE INSTALLER -->
<meta-data
    android:name="componentverify_ag_cbg_root"
    android:value="@string/ag_sdk_cbg_root" />

<meta-data
    android:name="availableHMSCoreInstaller"
    android:value="yes" />

<provider
    android:name="com.huawei.hms.update.provider.UpdateProvider"
    android:authorities="APPLICATION_PACKAGE.hms.update.provider"
    android:exported="false"
    android:grantUriPermissions="true" >
</provider>

<activity
    android:name="com.huawei.updatesdk.service.otaupdate.AppUpdateActivity"
    android:configChanges="orientation|screenSize"
    android:exported="false"
    android:theme="@android:style/Theme.Translucent.NoTitleBar" >
    <meta-data
        android:name="hwc-theme"
        android:value="androidhwext:style/Theme.Emui.Translucent.NoTitleBar" />
    <meta-data
        android:name="hnc-theme"
        android:value="androidhnext:style/Theme.Magic.Translucent.NoTitleBar" />
</activity>
<activity
    android:name="com.huawei.updatesdk.support.pm.PackageInstallerActivity"
    android:configChanges="orientation|keyboardHidden|screenSize"
    android:exported="false"
    android:theme="@android:style/Theme.Translucent.NoTitleBar" >
    <meta-data
        android:name="hwc-theme"
        android:value="androidhwext:style/Theme.Emui.Translucent" />
    <meta-data
        android:name="hnc-theme"
        android:value="androidhnext:style/Theme.Magic.Translucent" />
</activity>

<provider
    android:name="com.huawei.updatesdk.fileprovider.UpdateSdkFileProvider"
    android:authorities="APPLICATION_PACKAGE.updateSdk.fileProvider"
    android:exported="false"
    android:grantUriPermissions="true" />


<!-- HUAWEI GAME -->
<meta-data
    android:name="com.huawei.hms.client.service.name:game"
    android:value="game:6.10.0.300" />

<service
    android:name="com.huawei.hms.jos.games.service.GameService"
    android:exported="true" >
    <intent-filter>
        <action android:name="com.huawei.hms.games.service" />
    </intent-filter>
</service>

<provider
    android:name="com.huawei.hms.jos.games.archive.ArchiveRemoteAccessProvider"
    android:authorities="APPLICATION_PACKAGE.hmssdk.jos.archive"
    android:exported="true" >
</provider>

<activity
    android:name="com.huawei.appmarket.component.buoycircle.impl.delegete.BuoyBridgeActivity"
    android:configChanges="orientation|locale|screenSize|layoutDirection|fontScale"
    android:excludeFromRecents="true"
    android:exported="false"
    android:hardwareAccelerated="true"
    android:theme="@android:style/Theme.Translucent" >
    <meta-data
        android:name="hwc-theme"
        android:value="androidhwext:style/Theme.Emui.Translucent" />
</activity>

<meta-data
    android:name="com.huawei.hms.jos.versioncode"
    android:value="61000300" />
```


#### Manifest Example 

The following example uses our test applicaiton id `air.com.distriqt.test`:

```xml
<android>
    <manifestAdditions><![CDATA[
        <manifest android:installLocation="auto">

            <uses-sdk android:targetSdkVersion="31" />

            <uses-permission android:name="android.permission.INTERNET"/>
            <uses-permission android:name="com.android.vending.BILLING" />
            <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
            <uses-permission android:name="android.permission.REQUEST_INSTALL_PACKAGES" />
            <uses-permission android:name="android.permission.SYSTEM_ALERT_WINDOW" />
            <uses-permission android:name="android.permission.GET_TASKS" />
            <uses-permission android:name="android.permission.REAL_GET_TASKS" />

            <uses-permission android:name="com.huawei.hwid.permission.gameservice.archive.access.provider" />
            <uses-permission android:name="com.huawei.appmarket.service.commondata.permission.GET_COMMON_DATA" />


            <queries>
                <intent>
                    <action android:name="com.apptouch.intent.action.update_hms" />
                </intent>
                <intent>
                    <action android:name="com.huawei.appmarket.intent.action.AppDetail" />
                </intent>

                <package android:name="com.huawei.works" />
                <package android:name="com.hisilicon.android.hiRMService" />
                <intent>
                    <action android:name="com.huawei.hms.core.aidlservice" />
                </intent>
                <intent>
                    <action android:name="com.huawei.hms.core" />
                </intent>
                <intent>
                    <action android:name="com.huawei.appmarket.intent.action.ThirdUpdateAction" />
                </intent>
            </queries>

            <application android:allowBackup="false">

                <meta-data android:name="android.max_aspect" android:value="2.5" />

                <activity
                    android:name="com.distriqt.extension.inappbilling.activities.ProductViewActivity"
                    android:theme="@android:style/Theme.Translucent.NoTitleBar">
                </activity>


                <!-- HUAWEI APP GALLERY -->
                <meta-data
                    android:name="com.huawei.hms.client.service.name:iap"
                    android:value="iap:6.10.0.300" />
                <meta-data
                    android:name="com.huawei.hms.min_api_level:iap:iap"
                    android:value="1" />


                <!-- HUAWEI BASE -->
                <provider
                    android:name="com.huawei.agconnect.core.provider.AGConnectInitializeProvider"
                    android:authorities="air.com.distriqt.test.AGCInitializeProvider"
                    android:exported="false" />

                <service
                    android:name="com.huawei.agconnect.core.ServiceDiscovery"
                    android:exported="false" />

                <meta-data
                    android:name="availableLoaded"
                    android:value="yes" />

                <meta-data
                    android:name="com.huawei.hms.client.service.name:base"
                    android:value="base:6.11.0.301" />

                <meta-data
                    android:name="com.huawei.hms.min_api_level:base:hmscore"
                    android:value="1" />

                <activity
                    android:name="com.huawei.hms.hwid.internal.ui.activity.HwIdSignInHubActivity"
                    android:configChanges="fontScale|uiMode"
                    android:excludeFromRecents="true"
                    android:exported="false"
                    android:theme="@android:style/Theme.Translucent.NoTitleBar" >
                </activity>
                <activity
                    android:name="com.huawei.hms.account.internal.ui.activity.AccountSignInHubActivity"
                    android:excludeFromRecents="true"
                    android:exported="false"
                    android:theme="@android:style/Theme.Translucent.NoTitleBar" >
                </activity>

                <meta-data
                    android:name="com.huawei.hms.client.service.name:hwid"
                    android:value="hwid:6.11.0.300" />
                <meta-data
                    android:name="com.huawei.hms.min_api_level:hwid:hwid"
                    android:value="1" />

                <meta-data
                    android:name="com.huawei.hms.min_api_level:hwid:account"
                    android:value="13" />

                <activity
                    android:name="com.huawei.hms.activity.BridgeActivity"
                    android:configChanges="orientation|locale|layoutDirection|fontScale|screenSize|smallestScreenSize|screenLayout|uiMode"
                    android:excludeFromRecents="true"
                    android:exported="false"
                    android:hardwareAccelerated="true"
                    android:screenOrientation="behind"
                    android:theme="@style/Base_Translucent" >
                    <meta-data
                        android:name="hwc-theme"
                        android:value="androidhwext:style/Theme.Emui.Translucent" />
                </activity>
                <activity
                    android:name="com.huawei.hms.activity.EnableServiceActivity"
                    android:configChanges="orientation|keyboardHidden|screenSize|smallestScreenSize|screenLayout"
                    android:exported="false" >
                </activity>


                <!-- HUAWEI CORE INSTALLER -->
                <meta-data
                    android:name="componentverify_ag_cbg_root"
                    android:value="@string/ag_sdk_cbg_root" />

                <meta-data
                    android:name="availableHMSCoreInstaller"
                    android:value="yes" />

                <provider
                    android:name="com.huawei.hms.update.provider.UpdateProvider"
                    android:authorities="air.com.distriqt.test.hms.update.provider"
                    android:exported="false"
                    android:grantUriPermissions="true" >
                </provider>

                <activity
                    android:name="com.huawei.updatesdk.service.otaupdate.AppUpdateActivity"
                    android:configChanges="orientation|screenSize"
                    android:exported="false"
                    android:theme="@android:style/Theme.Translucent.NoTitleBar" >
                    <meta-data
                        android:name="hwc-theme"
                        android:value="androidhwext:style/Theme.Emui.Translucent.NoTitleBar" />
                    <meta-data
                        android:name="hnc-theme"
                        android:value="androidhnext:style/Theme.Magic.Translucent.NoTitleBar" />
                </activity>
                <activity
                    android:name="com.huawei.updatesdk.support.pm.PackageInstallerActivity"
                    android:configChanges="orientation|keyboardHidden|screenSize"
                    android:exported="false"
                    android:theme="@android:style/Theme.Translucent.NoTitleBar" >
                    <meta-data
                        android:name="hwc-theme"
                        android:value="androidhwext:style/Theme.Emui.Translucent" />
                    <meta-data
                        android:name="hnc-theme"
                        android:value="androidhnext:style/Theme.Magic.Translucent" />
                </activity>

                <provider
                    android:name="com.huawei.updatesdk.fileprovider.UpdateSdkFileProvider"
                    android:authorities="air.com.distriqt.test.updateSdk.fileProvider"
                    android:exported="false"
                    android:grantUriPermissions="true" />


                <!-- HUAWEI GAME -->
                <meta-data
                    android:name="com.huawei.hms.client.service.name:game"
                    android:value="game:6.10.0.300" />

                <service
                    android:name="com.huawei.hms.jos.games.service.GameService"
                    android:exported="true" >
                    <intent-filter>
                        <action android:name="com.huawei.hms.games.service" />
                    </intent-filter>
                </service>

                <provider
                    android:name="com.huawei.hms.jos.games.archive.ArchiveRemoteAccessProvider"
                    android:authorities="air.com.distriqt.test.hmssdk.jos.archive"
                    android:exported="true" >
                </provider>

                <activity
                    android:name="com.huawei.appmarket.component.buoycircle.impl.delegete.BuoyBridgeActivity"
                    android:configChanges="orientation|locale|screenSize|layoutDirection|fontScale"
                    android:excludeFromRecents="true"
                    android:exported="false"
                    android:hardwareAccelerated="true"
                    android:theme="@android:style/Theme.Translucent" >
                    <meta-data
                        android:name="hwc-theme"
                        android:value="androidhwext:style/Theme.Emui.Translucent" />
                </activity>

                <meta-data
                    android:name="com.huawei.hms.jos.versioncode"
                    android:value="61000300" />

            </application>

        </manifest>
    ]]></manifestAdditions>
</android>
```


### iOS

#### InfoAdditions

There are no required iOS additions to the application descriptor.

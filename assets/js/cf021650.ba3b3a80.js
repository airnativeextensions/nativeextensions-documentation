(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[97318],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return c},kt:function(){return m}});var r=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=r.createContext({}),d=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},c=function(e){var t=d(e.components);return r.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},p=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),p=d(n),m=o,h=p["".concat(l,".").concat(m)]||p[m]||u[m]||i;return n?r.createElement(h,a(a({ref:t},c),{},{components:n})):r.createElement(h,a({ref:t},c))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,a=new Array(i);a[0]=p;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:o,a[1]=s;for(var d=2;d<i;d++)a[d]=n[d];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}p.displayName="MDXCreateElement"},16078:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return a},metadata:function(){return s},toc:function(){return l},default:function(){return c}});var r=n(22122),o=n(19756),i=(n(67294),n(3905)),a={title:"Firestore - Add the extension",sidebar_label:"Add the extension"},s={unversionedId:"firebase/firestore/add-the-extension",id:"firebase/firestore/add-the-extension",isDocsHomePage:!1,title:"Firestore - Add the extension",description:"Required Extensions",source:"@site/docs/firebase/firestore/add-the-extension.md",sourceDirName:"firebase/firestore",slug:"/firebase/firestore/add-the-extension",permalink:"/docs/firebase/firestore/add-the-extension",version:"current",sidebar_label:"Add the extension",frontMatter:{title:"Firestore - Add the extension",sidebar_label:"Add the extension"},sidebar:"firebase",previous:{title:"Firestore - Introduction",permalink:"/docs/firebase/firestore/introduction"},next:{title:"Firestore - Add Data",permalink:"/docs/firebase/firestore/add-data"}},l=[{value:"Required Extensions",id:"required-extensions",children:[{value:"Cloud Firestore",id:"cloud-firestore",children:[]},{value:"Square ANEs",id:"square-anes",children:[]},{value:"GSON",id:"gson",children:[]},{value:"Guava",id:"guava",children:[]},{value:"gRPC",id:"grpc",children:[]}]},{value:"Extension IDs",id:"extension-ids",children:[]},{value:"Android",id:"android",children:[{value:"Manifest Additions",id:"manifest-additions",children:[]}]},{value:"Create a Cloud Firestore project",id:"create-a-cloud-firestore-project",children:[]}],d={toc:l};function c(e){var t=e.components,n=(0,o.Z)(e,["components"]);return(0,i.kt)("wrapper",(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"required-extensions"},"Required Extensions"),(0,i.kt)("p",null,"You should have been through the setup of the Firebase Core before attempting to proceed with Cloud Firestore."),(0,i.kt)("p",null,"Make sure you have added all the extensions required for the Firebase Core extension as outlined ",(0,i.kt)("a",{parentName:"p",href:"../core/add-the-extensions"},"here"),"."),(0,i.kt)("h3",{id:"cloud-firestore"},"Cloud Firestore"),(0,i.kt)("p",null,"Usage of the Cloud Firestore requires adding the Firestore ANE along with the Database and Auth ANEs located in this repository:"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://github.com/distriqt/ANE-Firebase"},"https://github.com/distriqt/ANE-Firebase")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/distriqt/ANE-Firebase/raw/master/lib/com.distriqt.firebase.Firestore.ane"},(0,i.kt)("inlineCode",{parentName:"a"},"com.distriqt.firebase.Firestore"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/distriqt/ANE-Firebase/raw/master/lib/com.distriqt.firebase.Database.ane"},(0,i.kt)("inlineCode",{parentName:"a"},"com.distriqt.firebase.Database"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/distriqt/ANE-Firebase/raw/master/lib/com.distriqt.firebase.Auth.ane"},(0,i.kt)("inlineCode",{parentName:"a"},"com.distriqt.firebase.Auth")))),(0,i.kt)("p",null,"These ANEs contain the required libraries for the Cloud Firestore functionality."),(0,i.kt)("h3",{id:"square-anes"},"Square ANEs"),(0,i.kt)("p",null,"Due to several of our ANE's using the ",(0,i.kt)("a",{parentName:"p",href:"http://square.github.io/"},"Square open source libraries")," the libraries have been separated into a separate ANEs allowing you to avoid conflicts and duplicate definitions. This means that you need to include the some of the square native extensions in your application along with this extension."),(0,i.kt)("p",null,"You will add these extensions as you do with any other ANE, and you need to ensure it is packaged with your application."),(0,i.kt)("p",null,"This ANE requires the following Square extensions:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/distriqt/ANE-SquareLibs/raw/master/lib/com.distriqt.square.okhttp.ane"},(0,i.kt)("inlineCode",{parentName:"a"},"com.distriqt.square.okhttp")))),(0,i.kt)("p",null,"You can access these extensions here: ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/distriqt/ANE-SquareLibs"},"https://github.com/distriqt/ANE-SquareLibs"),"."),(0,i.kt)("h3",{id:"gson"},"GSON"),(0,i.kt)("p",null,"Add the ",(0,i.kt)("inlineCode",{parentName:"p"},"com.google.code.gson")," extension which adds support for GSON in the application. This extension is available in the Android support repository:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/distriqt/ANE-AndroidSupport/raw/master/lib/com.google.code.gson.ane"},(0,i.kt)("inlineCode",{parentName:"a"},"com.google.code.gson")))),(0,i.kt)("h3",{id:"guava"},"Guava"),(0,i.kt)("p",null,"Add the ",(0,i.kt)("inlineCode",{parentName:"p"},"com.google.guava")," extension which adds support for Google Guava libraries in the application. This extension is available in the Android support repository:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/distriqt/ANE-AndroidSupport/raw/master/lib/com.google.guava.ane"},(0,i.kt)("inlineCode",{parentName:"a"},"com.google.guava")))),(0,i.kt)("h3",{id:"grpc"},"gRPC"),(0,i.kt)("p",null,"Add the ",(0,i.kt)("inlineCode",{parentName:"p"},"io.grpc")," extension which adds support for gRPC libraries in the application. This extension is available in the Android support repository:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/distriqt/ANE-AndroidSupport/raw/master/lib/io.grpc.ane"},(0,i.kt)("inlineCode",{parentName:"a"},"io.grpc")))),(0,i.kt)("h2",{id:"extension-ids"},"Extension IDs"),(0,i.kt)("p",null,"The following should be added to your ",(0,i.kt)("inlineCode",{parentName:"p"},"extensions")," node in your application descriptor to identify all the required ANEs in your application:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},"<extensions>\n    <extensionID>com.distriqt.Core</extensionID>\n\n    <extensionID>com.distriqt.playservices.Base</extensionID>\n    <extensionID>com.distriqt.playservices.AdsIdentifier</extensionID>\n\n    <extensionID>com.google.protobuflite</extensionID>\n    <extensionID>com.google.firebase.core</extensionID>\n\n    <extensionID>androidx.core</extensionID>\n\n    <extensionID>com.distriqt.CustomResources</extensionID>\n\n    <extensionID>com.distriqt.Firebase</extensionID>\n    \n    \x3c!-- Firestore additions --\x3e\n    <extensionID>com.distriqt.firebase.Auth</extensionID>\n    <extensionID>com.distriqt.firebase.Database</extensionID>\n    <extensionID>com.distriqt.firebase.Firestore</extensionID>\n\n    <extensionID>com.distriqt.square.okhttp</extensionID>\n    <extensionID>com.google.code.gson</extensionID>\n    <extensionID>com.google.guava</extensionID>\n    <extensionID>io.grpc</extensionID>\n\n</extensions>\n")),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"android"},"Android"),(0,i.kt)("h3",{id:"manifest-additions"},"Manifest Additions"),(0,i.kt)("p",null,"Locate the ",(0,i.kt)("inlineCode",{parentName:"p"},"ComponentDiscoveryService")," service you added as part of the core Firebase manfiest additions and add the following meta data tag:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},'<meta-data\n    android:name="com.google.firebase.components:com.google.firebase.firestore.FirestoreRegistrar"\n    android:value="com.google.firebase.components.ComponentRegistrar" />\n')),(0,i.kt)("p",null,"It should now appear like:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},'<service\n        android:name="com.google.firebase.components.ComponentDiscoveryService"\n        android:directBootAware="true"\n        android:exported="false">\n    <meta-data\n        android:name="com.google.firebase.components:com.google.firebase.firestore.FirestoreRegistrar"\n        android:value="com.google.firebase.components.ComponentRegistrar" />\n\n    <meta-data\n        android:name="com.google.firebase.components:com.google.firebase.analytics.connector.internal.AnalyticsConnectorRegistrar"\n        android:value="com.google.firebase.components.ComponentRegistrar" />\n    <meta-data\n        android:name="com.google.firebase.components:com.google.firebase.installations.FirebaseInstallationsRegistrar"\n        android:value="com.google.firebase.components.ComponentRegistrar" />\n    <meta-data\n        android:name="com.google.firebase.components:com.google.firebase.dynamicloading.DynamicLoadingRegistrar"\n        android:value="com.google.firebase.components.ComponentRegistrar" />\n\n</service>\n')),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"create-a-cloud-firestore-project"},"Create a Cloud Firestore project"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Open the ",(0,i.kt)("a",{parentName:"p",href:"https://console.firebase.google.com/"},"Firebase Console")," and create a new project.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"In the Database section, click the Get Started button for Cloud Firestore.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Select a starting mode for your Cloud Firestore Security Rules:"))),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Test mode"),": Good for getting started with the mobile and web client libraries, but allows anyone to read and overwrite your data. After testing, make sure to see the ",(0,i.kt)("a",{parentName:"li",href:"https://firebase.google.com/docs/firestore/quickstart#secure_your_data"},"Secure your data")," section. "),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Locked mode"),": Denies all reads and writes from mobile and web clients. Your authenticated application servers (C#, Go, Java, Node.js, PHP, Python, or Ruby) can still access your database.")),(0,i.kt)("ol",{start:4},(0,i.kt)("li",{parentName:"ol"},"Click ",(0,i.kt)("strong",{parentName:"li"},"Enable"),".")))}c.isMDXComponent=!0}}]);
"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[44279],{3905:function(e,t,o){o.d(t,{Zo:function(){return c},kt:function(){return m}});var n=o(67294);function i(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function r(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(Object(o),!0).forEach((function(t){i(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function d(e,t){if(null==e)return{};var o,n,i=function(e,t){if(null==e)return{};var o,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||(i[o]=e[o]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}var l=n.createContext({}),s=function(e){var t=n.useContext(l),o=t;return e&&(o="function"==typeof e?e(t):r(r({},t),e)),o},c=function(e){var t=s(e.components);return n.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},p=n.forwardRef((function(e,t){var o=e.components,i=e.mdxType,a=e.originalType,l=e.parentName,c=d(e,["components","mdxType","originalType","parentName"]),p=s(o),m=i,k=p["".concat(l,".").concat(m)]||p[m]||u[m]||a;return o?n.createElement(k,r(r({ref:t},c),{},{components:o})):n.createElement(k,r({ref:t},c))}));function m(e,t){var o=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=o.length,r=new Array(a);r[0]=p;var d={};for(var l in t)hasOwnProperty.call(t,l)&&(d[l]=t[l]);d.originalType=e,d.mdxType="string"==typeof e?e:i,r[1]=d;for(var s=2;s<a;s++)r[s]=o[s];return n.createElement.apply(null,r)}return n.createElement.apply(null,o)}p.displayName="MDXCreateElement"},41621:function(e,t,o){o.r(t),o.d(t,{frontMatter:function(){return d},contentTitle:function(){return l},metadata:function(){return s},toc:function(){return c},default:function(){return p}});var n=o(87462),i=o(63366),a=(o(67294),o(3905)),r=["components"],d={title:"FacebookAudience",sidebar_label:"FacebookAudience"},l=void 0,s={unversionedId:"adverts/mediation/facebookaudience",id:"adverts/mediation/facebookaudience",title:"FacebookAudience",description:"This guide is intended for publishers who want to use the Google Mobile Ads SDK to load and display ads from Facebook Audience Network via mediation.",source:"@site/docs/adverts/mediation/facebookaudience.md",sourceDirName:"adverts/mediation",slug:"/adverts/mediation/facebookaudience",permalink:"/docs/adverts/mediation/facebookaudience",tags:[],version:"current",frontMatter:{title:"FacebookAudience",sidebar_label:"FacebookAudience"},sidebar:"adverts",previous:{title:"AppLovin",permalink:"/docs/adverts/mediation/applovin"},next:{title:"IronSource",permalink:"/docs/adverts/mediation/ironsource"}},c=[{value:"Step 1: Set up Facebook Audience Network",id:"step-1-set-up-facebook-audience-network",children:[],level:2},{value:"Step 2: Configure mediation settings for your AdMob ad unit",id:"step-2-configure-mediation-settings-for-your-admob-ad-unit",children:[],level:2},{value:"Step 3: Import the Facebook Audience Network SDK and adapter ANE",id:"step-3-import-the-facebook-audience-network-sdk-and-adapter-ane",children:[],level:2},{value:"Step 4: Additional code required",id:"step-4-additional-code-required",children:[{value:"Android",id:"android",children:[],level:3},{value:"iOS",id:"ios",children:[],level:3}],level:2},{value:"Step 5: Test your implementation",id:"step-5-test-your-implementation",children:[{value:"Facebook Testing",id:"facebook-testing",children:[],level:3},{value:"Forcing Mediation Network",id:"forcing-mediation-network",children:[],level:3}],level:2}],u={toc:c};function p(e){var t=e.components,o=(0,i.Z)(e,r);return(0,a.kt)("wrapper",(0,n.Z)({},u,o,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"This guide is intended for publishers who want to use the Google Mobile Ads SDK to load and display ads from Facebook Audience Network via mediation."),(0,a.kt)("h2",{id:"step-1-set-up-facebook-audience-network"},"Step 1: Set up Facebook Audience Network"),(0,a.kt)("p",null,"The Google documentation contains a very detailed guide as to the process to setup your properties and Facebook account to display adverts."),(0,a.kt)("p",null,"Make sure you follow this guide closely."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Android: ",(0,a.kt)("a",{parentName:"li",href:"https://developers.google.com/admob/android/mediation/facebook#step_1_set_up_facebook_audience_network"},"https://developers.google.com/admob/android/mediation/facebook#step_1_set_up_facebook_audience_network")),(0,a.kt)("li",{parentName:"ul"},"iOS: ",(0,a.kt)("a",{parentName:"li",href:"https://developers.google.com/admob/ios/mediation/facebook#step_1_set_up_facebook_audience_network"},"https://developers.google.com/admob/ios/mediation/facebook#step_1_set_up_facebook_audience_network"))),(0,a.kt)("h2",{id:"step-2-configure-mediation-settings-for-your-admob-ad-unit"},"Step 2: Configure mediation settings for your AdMob ad unit"),(0,a.kt)("p",null,"You need to add Facebook to the mediation configuration for your ad unit."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Android: ",(0,a.kt)("a",{parentName:"li",href:"https://developers.google.com/admob/android/mediation/facebook#step_2_configure_mediation_settings_for_your_ad_unit"},"https://developers.google.com/admob/android/mediation/facebook#step_2_configure_mediation_settings_for_your_ad_unit")),(0,a.kt)("li",{parentName:"ul"},"iOS: ",(0,a.kt)("a",{parentName:"li",href:"https://developers.google.com/admob/ios/mediation/facebook#step_2_configure_mediation_settings_for_your_ad_unit"},"https://developers.google.com/admob/ios/mediation/facebook#step_2_configure_mediation_settings_for_your_ad_unit"))),(0,a.kt)("h2",{id:"step-3-import-the-facebook-audience-network-sdk-and-adapter-ane"},"Step 3: Import the Facebook Audience Network SDK and adapter ANE"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"com.distriqt.admob.FacebookAudience")," ANE includes the Facebook Audience SDK and the AdMob Facebook mediation adapter. This is everything you need to get Facebook mediation working in your application."),(0,a.kt)("p",null,"To add the ANE download it from the repository and add it to your application:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/distriqt/ANE-Adverts-Mediation/raw/master/lib/facebookaudience/com.distriqt.admob.FacebookAudience.ane"},"com.distriqt.admob.FacebookAudience.ane"))),(0,a.kt)("p",null,"Add the extension id to your application descriptor:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-xml"},"<extensions>\n    \x3c!-- OTHER EXTENSIONS --\x3e\n\n    <extensionID>com.distriqt.admob.FacebookAudience</extensionID>\n</extensions>\n")),(0,a.kt)("p",null,"More information on adding ANEs in this ",(0,a.kt)("a",{parentName:"p",href:"/docs/tutorials/getting-started"},"tutorial")),(0,a.kt)("h2",{id:"step-4-additional-code-required"},"Step 4: Additional code required"),(0,a.kt)("p",null,"There is no additional code required just a few additional configuration options and files that need to be packaged with your application."),(0,a.kt)("h3",{id:"android"},"Android"),(0,a.kt)("p",null,"Add the ",(0,a.kt)("inlineCode",{parentName:"p"},"audience_network.dex")," file to the root of your application package. (This file is located in the repository, this must be the same version as the extension, i.e. if you update the extension ensure you update this file)."),(0,a.kt)("p",null,"Add the following to your manifest additions . You must replace ",(0,a.kt)("inlineCode",{parentName:"p"},"APPLICATION_PACKAGE")," with your AIR application's Java package name, something like ",(0,a.kt)("inlineCode",{parentName:"p"},"air.com.distriqt.test"),". Generally this is your AIR application id prefixed by ",(0,a.kt)("inlineCode",{parentName:"p"},"air.")," unless you have specified no air flair in your build options."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-xml"},'<queries>\n    <package android:name="com.facebook.katana" />\n</queries>\n\n<application>\n    <activity\n        android:name="com.facebook.ads.AudienceNetworkActivity"\n        android:configChanges="keyboardHidden|orientation|screenSize"\n        android:exported="false"\n        android:theme="@android:style/Theme.Translucent.NoTitleBar" />\n\n    <provider\n        android:name="com.facebook.ads.AudienceNetworkContentProvider"\n        android:authorities="APPLICATION_PACKAGE.AudienceNetworkContentProvider"\n        android:exported="false" />\n</application>\n')),(0,a.kt)("h3",{id:"ios"},"iOS"),(0,a.kt)("p",null,"Add the following to your info additions. If you already have an ",(0,a.kt)("inlineCode",{parentName:"p"},"SKAdNetworkItems")," then append the ",(0,a.kt)("inlineCode",{parentName:"p"},"dict")," items to the ",(0,a.kt)("inlineCode",{parentName:"p"},"array"),"."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-xml"},"<key>SKAdNetworkItems</key>\n<array>\n    <dict>\n        <key>SKAdNetworkIdentifier</key>\n        <string>v9wttpbfk9.skadnetwork</string>\n    </dict>\n    <dict>\n        <key>SKAdNetworkIdentifier</key>\n        <string>n38lu8286q.skadnetwork</string>\n    </dict>\n</array>\n")),(0,a.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,a.kt)("div",{parentName:"div",className:"admonition-heading"},(0,a.kt)("h5",{parentName:"div"},(0,a.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,a.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,a.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,a.kt)("div",{parentName:"div",className:"admonition-content"},(0,a.kt)("p",{parentName:"div"},"If you previously added ",(0,a.kt)("inlineCode",{parentName:"p"},"FBAudienceNetwork.framework")," to your ",(0,a.kt)("inlineCode",{parentName:"p"},"Frameworks")," directory, you should remove it as it is no longer required. The framework is now statically linked in the extension."))),(0,a.kt)("h2",{id:"step-5-test-your-implementation"},"Step 5: Test your implementation"),(0,a.kt)("p",null,"When testing always make sure you are adding your test device id to the request to ensuring AdMob do not block your account for policy violations:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-actionscript"},'new AdRequestBuilder()\n    .addTestDevice( "XXXXXXXXXXXXXXXXXX" )\n    .build()\n')),(0,a.kt)("p",null,"See the Adverts docs for more details."),(0,a.kt)("h3",{id:"facebook-testing"},"Facebook Testing"),(0,a.kt)("p",null,"You will need to enable testing in your Facebook account, by adding your test device and enabling an test advert type to serve the device."),(0,a.kt)("p",null,"See the ",(0,a.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/audience-network/testing"},"Testing Audience Network Implementation guide")," for detailed instructions on how to enable Facebook test ads."),(0,a.kt)("h3",{id:"forcing-mediation-network"},"Forcing Mediation Network"),(0,a.kt)("p",null,"The easiest way we have found to force a mediation network during testing is to disable automatic optimisations and set the eCPM manually."),(0,a.kt)("p",null,"Doing this you can give the mediation network you are wanting to test a high eCPM value ( eg $1000) and all others (including AdMob) a very low eCPM (eg $0.01)."))}p.isMDXComponent=!0}}]);
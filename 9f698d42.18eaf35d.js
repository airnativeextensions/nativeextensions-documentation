(window.webpackJsonp=window.webpackJsonp||[]).push([[492],{548:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return l})),n.d(t,"metadata",(function(){return c})),n.d(t,"rightToc",(function(){return o})),n.d(t,"default",(function(){return s}));var a=n(2),r=n(6),i=(n(0),n(850)),l={title:"DynamicLinks - Create Dynamic Links",sidebar_label:"Create Dynamic Links"},c={unversionedId:"firebase/dynamiclinks/create-dynamic-links",id:"firebase/dynamiclinks/create-dynamic-links",isDocsHomePage:!1,title:"DynamicLinks - Create Dynamic Links",description:"Create Dynamic Links",source:"@site/docs/firebase/dynamiclinks/create-dynamic-links.md",slug:"/firebase/dynamiclinks/create-dynamic-links",permalink:"/docs/firebase/dynamiclinks/create-dynamic-links",version:"current",sidebar_label:"Create Dynamic Links",sidebar:"firebase",previous:{title:"DynamicLinks - Initialise",permalink:"/docs/firebase/dynamiclinks/initialise"},next:{title:"DynamicLinks - Receive Dynamic Links",permalink:"/docs/firebase/dynamiclinks/receive-dynamic-links"}},o=[{value:"Create Dynamic Links",id:"create-dynamic-links",children:[]},{value:"Using the Builder API",id:"using-the-builder-api",children:[{value:"Create a Dynamic Link from parameters",id:"create-a-dynamic-link-from-parameters",children:[]},{value:"Dynamic Link parameters",id:"dynamic-link-parameters",children:[]}]}],b={rightToc:o};function s(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(a.a)({},b,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("h2",{id:"create-dynamic-links"},"Create Dynamic Links"),Object(i.b)("p",null,"There are four ways you can create a Dynamic Link:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"Using the ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://console.firebase.google.com/project/_/durablelinks/links/"}),"Firebase console"),". This is useful if you're creating one-off links to share on social media.")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"Using the Dynamic Link Builder API in the extension. This is the preferred way to dynamically create links in your app for user-to-user sharing or in any situation that requires many links. You can track the performance of Dynamic Links created with the Builder API in the Firebase console.")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"Using the ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://firebase.google.com/docs/dynamic-links/rest"}),"REST API"),". This is the preferred way to dynamically create links on platforms that don't have a Builder API. You can track the performance of Dynamic Links created with the REST API in the Firebase console.")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://firebase.google.com/docs/dynamic-links/create-manually"}),"Manually"),". If you don't need to track click data in the Firebase console and you don't care if the links are long, you can manually construct Dynamic Links using URL parameters, and by doing so, avoid an extra network round trip."))),Object(i.b)("h2",{id:"using-the-builder-api"},"Using the Builder API"),Object(i.b)("p",null,"You can create short or long Dynamic Links with the Firebase Dynamic Links Builder API. This API accepts either a long Dynamic Link or an object containing Dynamic Link parameters, and returns a URL like the following example:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{}),"https://abc123.app.goo.gl/WXYZ\n")),Object(i.b)("h3",{id:"create-a-dynamic-link-from-parameters"},"Create a Dynamic Link from parameters"),Object(i.b)("p",null,"To create a Dynamic Link, create a new DynamicLinkBuilder object, specifying the Dynamic Link parameters with the Builder methods. Then call ",Object(i.b)("inlineCode",{parentName:"p"},"createDynamicLink")," or ",Object(i.b)("inlineCode",{parentName:"p"},"createShortDynamicLink"),"."),Object(i.b)("p",null,"The following minimal example creates a long Dynamic Link to ",Object(i.b)("inlineCode",{parentName:"p"},"https://example.com")," that opens with your Android app on Android and the app ",Object(i.b)("inlineCode",{parentName:"p"},"com.example.ios")," on iOS:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-actionscript"}),'var builder:DynamicLinkBuilder = new DynamicLinkBuilder()\n        .setLink( "https://example.com" )\n        .setDynamicLinkDomain( "abc123.app.goo.gl" )\n        .setAndroidParameters( new AndroidParametersBuilder().build() )\n        .setIosParameters( new IosParametersBuilder( "com.example.ios" ).build() );\n\nvar link:DynamicLink = FirebaseDynamicLinks.service.createDynamicLink( builder.build() );\n')),Object(i.b)("p",null,"To create a short Dynamic Link, create a ",Object(i.b)("inlineCode",{parentName:"p"},"DynamicLinkBuilder")," the same way but also specify your Dynamic Link domain (which you can find in the Firebase console) with the setDynamicLinkDomain method and then call ",Object(i.b)("inlineCode",{parentName:"p"},"createShortDynamicLink"),". Building a short link requires a network call, so instead of directly returning the link the call will return whether an asynchronous task has been started successfully and then an event will be dispatched to indicate the result:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"ShortDynamicLinkEvent.LINK_CREATED")," : Dispatched if the short link was created "),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"ShortDynamicLinkEvent.ERROR")," : Dispatched if there was an error generating the short link")),Object(i.b)("p",null,"For example, continuing on with the same parameters as above:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-actionscript"}),'FirebaseDynamicLinks.service.addEventListener( ShortDynamicLinkEvent.LINK_CREATED, dynamicLinkCreatedHandler );\nFirebaseDynamicLinks.service.addEventListener( ShortDynamicLinkEvent.ERROR, dynamicLinkErrorHandler );\n\nvar builder:DynamicLinkBuilder = new DynamicLinkBuilder()\n        .setLink( "https://example.com" )\n        .setDynamicLinkDomain( "abc123.app.goo.gl" )\n        .setAndroidParameters( new AndroidParametersBuilder().build() )\n        .setIosParameters( new IosParametersBuilder( "com.example.ios" ).build() );\n\nFirebaseDynamicLinks.service.createShortDynamicLink( builder.build() );\n')),Object(i.b)("p",null,"Then you can retrieve the link in the created handler:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-actionscript"}),'function dynamicLinkCreatedHandler( event:ShortDynamicLinkEvent ):void\n{\n    trace( "dynamicLinkCreatedHandler() : " + event.link.shortLink );\n}\n\nfunction dynamicLinkErrorHandler( event:ShortDynamicLinkEvent ):void\n{\n    trace( "dynamicLinkErrorHandler()" );\n}\n')),Object(i.b)("h3",{id:"dynamic-link-parameters"},"Dynamic Link parameters"),Object(i.b)("p",null,"There are a range of parameters you can set on a dynamic link, for example, the following\nis a more fully featured example:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-actionscript"}),'var link:DynamicLink = FirebaseDynamicLinks.service.createDynamicLink(\n        new DynamicLinkBuilder()\n                .setLink( "https://airnativeextensions.com" )\n                .setDynamicLinkDomain( "bb9g6.app.goo.gl" )\n                .setAndroidParameters(\n                        new AndroidParametersBuilder( "air.com.distriqt.test" )\n                                .setFallbackUrl("https://airnativeextensions.com")\n                                .build()\n                )\n                .setIosParameters(\n                        new IosParametersBuilder( "com.distriqt.test" )\n                                .setFallbackUrl("https://airnativeextensions.com")\n                                .build()\n                )\n                .setGoogleAnalyticsParameters(\n                        new GoogleAnalyticsParametersBuilder()\n                                .setSource("orkut")\n                                .setMedium("social")\n                                .setCampaign("example-promo")\n                                .build()\n                )\n                .setItunesConnectAnalyticsParameters(\n                        new ItunesConnectAnalyticsParametersBuilder()\n                                .setProviderToken( "123456" )\n                                .setCampaignToken("example-promo")\n                                .build()\n                )\n                .setSocialMetaTagParameters(\n                        new SocialMetaTagParametersBuilder()\n                                .setTitle("Example of a Dynamic Link")\n                                .setDescription("This link works whether the app is installed or not!")\n                                .build()\n                )\n                .build()\n);\n')),Object(i.b)("table",null,Object(i.b)("thead",{parentName:"table"},Object(i.b)("tr",{parentName:"thead"},Object(i.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Dynamic Link Parameters"),Object(i.b)("th",Object(a.a)({parentName:"tr"},{align:null})))),Object(i.b)("tbody",{parentName:"table"},Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"setLink")),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"The link your app will open. You can specify a URL that your app can handle, typically an app's content/payload, which can initiate app-specific logic (such as crediting the user with a coupon or displaying a welcome screen). This link must be a well-formatted URL, be properly URL-encoded, use the HTTP or HTTPS, and not another Dynamic Link. scheme.")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"setDynamicLinkDomain")),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Your Dynamic Link domain, which you can find in the Firebase console. A Dynamic Link domain looks like the following example: ",Object(i.b)("inlineCode",{parentName:"td"},"abc123.app.goo.gl"))))),Object(i.b)("p",null,"See the ",Object(i.b)("inlineCode",{parentName:"p"},"DynamicLinkBuilder")," class for more."),Object(i.b)("table",null,Object(i.b)("thead",{parentName:"table"},Object(i.b)("tr",{parentName:"thead"},Object(i.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Android Parameters"),Object(i.b)("th",Object(a.a)({parentName:"tr"},{align:null})))),Object(i.b)("tbody",{parentName:"table"},Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"setFallbackUrl")),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"The link to open when the app isn't installed. Specify this to do something other than install your app from the Play Store when the app isn't installed, such as open the mobile web version of the content, or display a promotional page for your app")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"setMinimumVersion")),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"The versionCode of the minimum version of your app that can open the link. If the installed app is an older version, the user is taken to the Play Store to upgrade the app.")))),Object(i.b)("p",null,"See the ",Object(i.b)("inlineCode",{parentName:"p"},"AndroidParametersBuilder")," class for more."),Object(i.b)("table",null,Object(i.b)("thead",{parentName:"table"},Object(i.b)("tr",{parentName:"thead"},Object(i.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"iOS Parameters"),Object(i.b)("th",Object(a.a)({parentName:"tr"},{align:null})))),Object(i.b)("tbody",{parentName:"table"},Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"setAppStoreId")),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Your app's App Store ID, used to send users to the App Store when the app isn't installed")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"setFallbackUrl")),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"The link to open when the app isn't installed. Specify this to do something other than install your app from the App Store when the app isn't installed, such as open the mobile web version of the content, or display a promotional page for your app.")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"setCustomScheme")),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Your app's custom URL scheme, if defined to be something other than your app's bundle ID")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"setIpadFallbackUrl")),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"The link to open on iPads when the app isn't installed. Specify this to do something other than install your app from the App Store when the app isn't installed, such as open the web version of the content, or display a promotional page for your app.")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"setIpadBundleId\t")),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"The bundle ID of the iOS app to use on iPads to open the link. The app must be connected to your project from the Overview page of the Firebase console.")))),Object(i.b)("p",null,"See the ",Object(i.b)("inlineCode",{parentName:"p"},"IosParametersBuilder")," class for more."),Object(i.b)("table",null,Object(i.b)("thead",{parentName:"table"},Object(i.b)("tr",{parentName:"thead"},Object(i.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Google Analytics Parameters"),Object(i.b)("th",Object(a.a)({parentName:"tr"},{align:null})))),Object(i.b)("tbody",{parentName:"table"})),Object(i.b)("p",null,"| ",Object(i.b)("inlineCode",{parentName:"p"},"setSource"),"\n",Object(i.b)("inlineCode",{parentName:"p"},"setMedium"),"\n",Object(i.b)("inlineCode",{parentName:"p"},"setCampaign"),"\n",Object(i.b)("inlineCode",{parentName:"p"},"setTerm"),"\n",Object(i.b)("inlineCode",{parentName:"p"},"setContent")," | Google Play analytics parameters. These parameters (utm_source, utm_medium, utm_campaign, utm_term, utm_content) are passed on to the Play Store as well as appended to the link payload. |"),Object(i.b)("p",null,"See the ",Object(i.b)("inlineCode",{parentName:"p"},"GoogleAnalyticsParametersBuilder")," class for more."),Object(i.b)("table",null,Object(i.b)("thead",{parentName:"table"},Object(i.b)("tr",{parentName:"thead"},Object(i.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Itunes Connect Analytics Parameters"),Object(i.b)("th",Object(a.a)({parentName:"tr"},{align:null})))),Object(i.b)("tbody",{parentName:"table"})),Object(i.b)("p",null,"| ",Object(i.b)("inlineCode",{parentName:"p"},"setProviderToken"),"\n",Object(i.b)("inlineCode",{parentName:"p"},"setAffiliateToken"),"\n",Object(i.b)("inlineCode",{parentName:"p"},"setCampaignToken")," | iTunes Connect analytics parameters. These parameters (pt, at, ct) are passed to the App Store. |"),Object(i.b)("p",null,"See the ",Object(i.b)("inlineCode",{parentName:"p"},"ItunesConnectAnalyticsParametersBuilder")," class for more."),Object(i.b)("table",null,Object(i.b)("thead",{parentName:"table"},Object(i.b)("tr",{parentName:"thead"},Object(i.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Social Meta Tag Parameters"),Object(i.b)("th",Object(a.a)({parentName:"tr"},{align:null})))),Object(i.b)("tbody",{parentName:"table"},Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"setTitle")),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"The title to use when the Dynamic Link is shared in a social post")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"setDescription")),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"The description to use when the Dynamic Link is shared in a social post")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"setImageUrl")),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"The URL to an image related to this link")))),Object(i.b)("p",null,"See the ",Object(i.b)("inlineCode",{parentName:"p"},"SocialMetaTagParametersBuilder")," class for more."))}s.isMDXComponent=!0},850:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return u}));var a=n(0),r=n.n(a);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var b=r.a.createContext({}),s=function(e){var t=r.a.useContext(b),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},p=function(e){var t=s(e.components);return r.a.createElement(b.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},d=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,l=e.parentName,b=o(e,["components","mdxType","originalType","parentName"]),p=s(n),d=a,u=p["".concat(l,".").concat(d)]||p[d]||m[d]||i;return n?r.a.createElement(u,c(c({ref:t},b),{},{components:n})):r.a.createElement(u,c({ref:t},b))}));function u(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,l=new Array(i);l[0]=d;var c={};for(var o in t)hasOwnProperty.call(t,o)&&(c[o]=t[o]);c.originalType=e,c.mdxType="string"==typeof e?e:a,l[1]=c;for(var b=2;b<i;b++)l[b]=n[b];return r.a.createElement.apply(null,l)}return r.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"}}]);
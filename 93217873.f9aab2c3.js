(window.webpackJsonp=window.webpackJsonp||[]).push([[489],{1256:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/gamerequest-example-8f165a5d212d30937a4816b7026799ae.png"},546:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return o})),a.d(t,"metadata",(function(){return s})),a.d(t,"rightToc",(function(){return c})),a.d(t,"default",(function(){return u}));var n=a(2),r=a(6),i=(a(0),a(889)),o={title:"Games - Game Request Dialog",sidebar_label:"Games - Game Request Dialog"},s={unversionedId:"facebookapi-legacy/games---game-request-dialog",id:"facebookapi-legacy/games---game-request-dialog",isDocsHomePage:!1,title:"Games - Game Request Dialog",description:"This is the legacy extension documentation. Find the new documentation here",source:"@site/docs/facebookapi-legacy/games---game-request-dialog.md",slug:"/facebookapi-legacy/games---game-request-dialog",permalink:"/docs/facebookapi-legacy/games---game-request-dialog",version:"current",sidebar_label:"Games - Game Request Dialog",sidebar:"facebookapi-legacy",previous:{title:"Games - Overview",permalink:"/docs/facebookapi-legacy/games---overview"},next:{title:"Graph API - Overview",permalink:"/docs/facebookapi-legacy/graph-api---overview"}},c=[{value:"Game Requests",id:"game-requests",children:[]},{value:"Game Request Dialog",id:"game-request-dialog",children:[]},{value:"Builder",id:"builder",children:[]},{value:"Show",id:"show",children:[]},{value:"Events",id:"events",children:[]}],l={rightToc:c};function u(e){var t=e.components,o=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(n.a)({},l,o,{components:t,mdxType:"MDXLayout"}),Object(i.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(i.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"}),Object(i.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"})))),"caution")),Object(i.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"This is the legacy extension documentation. Find the new documentation ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"../facebookapi/"}),"here")))),Object(i.b)("h2",{id:"game-requests"},"Game Requests"),Object(i.b)("p",null,"Game requests give players a mechanism for inviting their friends to play a game. Requests are sent by a player to one or more friends, and always carry a call-to-action for the game. Recipients can be existing players or new players."),Object(i.b)("h2",{id:"game-request-dialog"},"Game Request Dialog"),Object(i.b)("p",null,"Game requests give players a mechanism for inviting their friends to play a game.\nRequests are sent by a player to one or more friends, and always carry a call-to-action\nfor the game. Recipients can be existing players or new players."),Object(i.b)("p",null,"Game requests can be used to attract new players or to re-engage existing players.\nRequests can be sent in two scenarios:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"The recipient is a friend of the sender and has not authenticated the game. This scenario is useful for invites."),Object(i.b)("li",{parentName:"ul"},"The recipient is a friend of the sender and has authenticated the game before. This scenario is useful for turn-based notifications, gifting, and asking for help.")),Object(i.b)("p",null,"Requests are sent while the sender is in-game and are surfaced to recipients in\nseveral places on Facebook. Requests are always private, and can only be seen\nby the recipient. While a single request can be sent to multiple recipients at\nonce, the receiver of a request only ever sees details of the sender, and can\nnever see either other recipients of the request."),Object(i.b)("p",null,Object(i.b)("img",{src:a(1256).default})),Object(i.b)("p",null,"For more information see: ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://developers.facebook.com/docs/games/requests"}),"https://developers.facebook.com/docs/games/requests")),Object(i.b)("blockquote",null,Object(i.b)("p",{parentName:"blockquote"},"In order to show the Game Request Dialog your Facebook app must be setup as a game ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://developers.facebook.com/docs/games/appcenter/categories"}),"category"),".\nIf not you will want to look into the App Invite Dialog.  ")),Object(i.b)("p",null,"The Game Request Dialog is very similar to other dialogs in the Facebook API. "),Object(i.b)("p",null,"You will use an ",Object(i.b)("inlineCode",{parentName:"p"},"GameRequestContentBuilder")," to construct the content to use\nfor the dialog and pass this to the ",Object(i.b)("inlineCode",{parentName:"p"},"show")," function."),Object(i.b)("h2",{id:"builder"},"Builder"),Object(i.b)("p",null,"The builder ",Object(i.b)("inlineCode",{parentName:"p"},"GameRequestContentBuilder")," is a helper class that allows you to easily\nconstruct the correct content parameters for the Game Request Dialog. "),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-actionscript"}),'var builder:GameRequestContentBuilder = new GameRequestContentBuilder()\n    .setRecipients(["user-id"])\n    .setMessage( "Come play this game with me" );\n')),Object(i.b)("h2",{id:"show"},"Show"),Object(i.b)("p",null,"Once you have created the content builder you then pass the output from this builder to the\n",Object(i.b)("inlineCode",{parentName:"p"},"show")," function of the ",Object(i.b)("inlineCode",{parentName:"p"},"GameRequest")," interface:"),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-actionscript"}),"FacebookAPI.service.gameRequest.show( builder.build() );\n")),Object(i.b)("p",null,"This initiates the dialog and presents it to the user. You should check the response\nof this function. It is a boolean value and indicates if the Game Request dialog construction\nwas initiated correctly. If will return ",Object(i.b)("inlineCode",{parentName:"p"},"false")," if the required dialog type isn't supported\nor if the application isn't setup correctly."),Object(i.b)("h2",{id:"events"},"Events"),Object(i.b)("p",null,"There are three possible events dispatched after a call to ",Object(i.b)("inlineCode",{parentName:"p"},"show"),":"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"GameRequestEvent.DIALOG_COMPLETED"),": when the game request was successfully completed"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"GameRequestEvent.DIALOG_CANCELLLED"),": when the user cancelled the game request"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"GameRequestEvent.DIALOG_ERROR"),": when an error occurred during the process")),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-actionscript"}),"FacebookAPI.service.appInvite.addEventListener( GameRequestEvent.DIALOG_COMPLETED, gameRequestEventHandler );\nFacebookAPI.service.appInvite.addEventListener( GameRequestEvent.DIALOG_CANCELLED, gameRequestEventHandler );\nFacebookAPI.service.appInvite.addEventListener( GameRequestEvent.DIALOG_ERROR, gameRequestEventHandler );\n")),Object(i.b)("p",null,"And then your event handler:"),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-actionscript"}),"private function gameRequestEventHandler( event:GameRequestEvent ):void \n{\n}\n")),Object(i.b)("blockquote",null,Object(i.b)("p",{parentName:"blockquote"},"Note that in some circumstances the completed event maybe dispatched even when the user\ncancelled the invite. This is an issue with the Facebook SDK and we will update as soon\nas they have made a fix available.")))}u.isMDXComponent=!0},889:function(e,t,a){"use strict";a.d(t,"a",(function(){return p})),a.d(t,"b",(function(){return m}));var n=a(0),r=a.n(n);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=r.a.createContext({}),u=function(e){var t=r.a.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},p=function(e){var t=u(e.components);return r.a.createElement(l.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},d=r.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,i=e.originalType,o=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),p=u(a),d=n,m=p["".concat(o,".").concat(d)]||p[d]||b[d]||i;return a?r.a.createElement(m,s(s({ref:t},l),{},{components:a})):r.a.createElement(m,s({ref:t},l))}));function m(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=a.length,o=new Array(i);o[0]=d;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:n,o[1]=s;for(var l=2;l<i;l++)o[l]=a[l];return r.a.createElement.apply(null,o)}return r.a.createElement.apply(null,a)}d.displayName="MDXCreateElement"}}]);
"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[96042],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>m});var i=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},l=Object.keys(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var p=i.createContext({}),s=function(e){var t=i.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},u=function(e){var t=s(e.components);return i.createElement(p.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},h=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,l=e.originalType,p=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),c=s(n),h=a,m=c["".concat(p,".").concat(h)]||c[h]||d[h]||l;return n?i.createElement(m,r(r({ref:t},u),{},{components:n})):i.createElement(m,r({ref:t},u))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var l=n.length,r=new Array(l);r[0]=h;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o[c]="string"==typeof e?e:a,r[1]=o;for(var s=2;s<l;s++)r[s]=n[s];return i.createElement.apply(null,r)}return i.createElement.apply(null,n)}h.displayName="MDXCreateElement"},71574:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>r,default:()=>d,frontMatter:()=>l,metadata:()=>o,toc:()=>s});var i=n(87462),a=(n(67294),n(3905));const l={title:"Setup",sidebar_label:"Setup"},r=void 0,o={unversionedId:"health/setup",id:"health/setup",title:"Setup",description:"Initialise",source:"@site/docs/health/setup.md",sourceDirName:"health",slug:"/health/setup",permalink:"/docs/health/setup",draft:!1,tags:[],version:"current",frontMatter:{title:"Setup",sidebar_label:"Setup"},sidebar:"health",previous:{title:"AIR",permalink:"/docs/health/add-the-extension"},next:{title:"Availablility & Updates",permalink:"/docs/health/check-for-updates"}},p={},s=[{value:"Initialise",id:"initialise",level:2},{value:"Android Health Connect",id:"android-health-connect",level:2},{value:"Google Fitness API",id:"google-fitness-api",level:2},{value:"Apple HealthKit",id:"apple-healthkit",level:2},{value:"Enable HealthKit",id:"enable-healthkit",level:3}],u={toc:s},c="wrapper";function d(e){let{components:t,...l}=e;return(0,a.kt)(c,(0,i.Z)({},u,l,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"initialise"},"Initialise"),(0,a.kt)("p",null,"In order to use the rest of this extensions functionality you must first initialise the extension, specifying the service type you wish to use in your application."),(0,a.kt)("p",null,"This allows us to provide the same API to various different services."),(0,a.kt)("p",null,"To specify the service type, construct a ",(0,a.kt)("inlineCode",{parentName:"p"},"HealthService")," instance and pass it to the ",(0,a.kt)("inlineCode",{parentName:"p"},"initialise()")," method, eg to use the ",(0,a.kt)("inlineCode",{parentName:"p"},"HealthService.HEALTH_CONNECT")," service:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-actionscript"},"Health.instance.initialise(\n        new HealthService()\n                .setServiceType( HealthService.HEALTH_CONNECT )\n);\n")),(0,a.kt)("p",null,"You can check whether a service is supported via the ",(0,a.kt)("inlineCode",{parentName:"p"},"isServiceSupported()")," method:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-actionscript"},"if (Health.instance.isServiceSupported( HealthService.HEALTH_CONNECT ))\n{\n    // Health Connect is supported\n}\n")),(0,a.kt)("p",null,"You can just use the default service by calling ",(0,a.kt)("inlineCode",{parentName:"p"},"initialise()")," with no parameters:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-actionscript"},"// Initialise the default service\nHealth.instance.initialise();\n")),(0,a.kt)("p",null,"On iOS this will use HealthKit, and on Android this will use Health Connect. "),(0,a.kt)("p",null,"Services include: "),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"HealthService.APPLE"),": Apple's HealthKit;"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"HealthService.HEALTH_CONNECT"),": Android Health Connect;"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"HealthService.FIT"),": Google Fitness API;")),(0,a.kt)("h2",{id:"android-health-connect"},"Android Health Connect"),(0,a.kt)("p",null,"There is no setup required outside your application to use Health Connect. "),(0,a.kt)("h2",{id:"google-fitness-api"},"Google Fitness API"),(0,a.kt)("p",null,"Follow Google's Guide to create an OAuth client ID for your application and add the Fitness API to your Google app console project."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://developers.google.com/fit/android/get-started"},"Guide"))),(0,a.kt)("admonition",{type:"note"},(0,a.kt)("p",{parentName:"admonition"},"You may need to submit your application for verification from Google ")),(0,a.kt)("p",null,"You will need to setup and sign-in your users using the ",(0,a.kt)("a",{parentName:"p",href:"/docs/health/authorisation#users"},"Google Identity extension"),"."),(0,a.kt)("h2",{id:"apple-healthkit"},"Apple HealthKit"),(0,a.kt)("h3",{id:"enable-healthkit"},"Enable HealthKit"),(0,a.kt)("p",null,"Before you can use HealthKit, you must enable the HealthKit capabilities for your app."),(0,a.kt)("p",null,"Open your developer console and enable HealthKit for your application identifier:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Open the ",(0,a.kt)("a",{parentName:"li",href:"https://developer.apple.com/account/resources/identifiers"},"Developer Console")),(0,a.kt)("li",{parentName:"ul"},"Locate your application and click on it to edit;"),(0,a.kt)("li",{parentName:"ul"},"Under ",(0,a.kt)("strong",{parentName:"li"},"Capabilities"),", locate ",(0,a.kt)("strong",{parentName:"li"},"HealthKit")," and enable it:")),(0,a.kt)("p",null,(0,a.kt)("img",{src:n(28298).Z,width:"480",height:"177"})),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Click ",(0,a.kt)("strong",{parentName:"li"},"Save"),";")),(0,a.kt)("p",null,"You will now need to regenerate your provisioning profiles and download them again:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Navigate to ",(0,a.kt)("a",{parentName:"li",href:"https://developer.apple.com/account/resources/profiles/list"},"Profiles")),(0,a.kt)("li",{parentName:"ul"},"Locate and ",(0,a.kt)("strong",{parentName:"li"},"Edit")," your profile;"),(0,a.kt)("li",{parentName:"ul"},"Click ",(0,a.kt)("strong",{parentName:"li"},"Save"),";"),(0,a.kt)("li",{parentName:"ul"},"Click ",(0,a.kt)("strong",{parentName:"li"},"Download")," to download the updated profile;")))}d.isMDXComponent=!0},28298:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/setup_ios_enable_healthkit-86dcfc1251f59f873eb72b0b64ea699f.png"}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[281],{336:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return a})),t.d(n,"metadata",(function(){return r})),t.d(n,"rightToc",(function(){return c})),t.d(n,"default",(function(){return s}));var o=t(2),i=(t(0),t(807));const a={title:"Sounds",sidebar_label:"Sounds"},r={unversionedId:"notifications/sounds",id:"notifications/sounds",isDocsHomePage:!1,title:"Sounds",description:"The following documentation describes how to get custom sounds to play when your notification arrives.",source:"@site/docs/notifications/sounds.md",slug:"/notifications/sounds",permalink:"/docs/notifications/sounds",version:"current",sidebar_label:"Sounds",sidebar:"notifications",previous:{title:"Emojis",permalink:"/docs/notifications/emojis"},next:{title:"Receiving notifications",permalink:"/docs/notifications/receiving-notifications"}},c=[{value:"Setting the Sound",id:"setting-the-sound",children:[]},{value:"Using Channels",id:"using-channels",children:[]}],l={rightToc:c};function s({components:e,...n}){return Object(i.b)("wrapper",Object(o.a)({},l,n,{components:e,mdxType:"MDXLayout"}),Object(i.b)("p",null,"The following documentation describes how to get custom sounds to play when your notification arrives."),Object(i.b)("p",null,"Importantly these sounds are always affected by the user's sound settings and generally they can override what you provide (eg by muting the phone), so it's always worth checking your device before deciding sounds are failing."),Object(i.b)("p",null,"Sounds need to be treated slightly differently on the different platforms however if you follow the guide you should be able to have a single code base running correctly across all platforms."),Object(i.b)("h2",{id:"setting-the-sound"},"Setting the Sound"),Object(i.b)("p",null,"On iOS and Android (prior to version 8.0) you can attach a sound to a notification directly using the ",Object(i.b)("inlineCode",{parentName:"p"},"setSound()")," function on your ",Object(i.b)("inlineCode",{parentName:"p"},"NotificationBuilder"),"."),Object(i.b)("pre",null,Object(i.b)("code",Object(o.a)({parentName:"pre"},{className:"language-actionscript"}),"new NotificationBuilder()\n    \n    // Other notification options\n\n    .setSound( sound )\n\n    .build();\n")),Object(i.b)("p",null,"The ",Object(i.b)("inlineCode",{parentName:"p"},"sound")," string passed to the ",Object(i.b)("inlineCode",{parentName:"p"},"setSound()")," function can be a few different things:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"A relative path of an asset file packaged with your application, eg ",Object(i.b)("inlineCode",{parentName:"li"},'"assets/notifications/sounds/notification.mp3"')),Object(i.b)("li",{parentName:"ul"},"A relative path of an asset file packaged with your application without the extension, eg ",Object(i.b)("inlineCode",{parentName:"li"},'"assets/notifications/sounds/notification"'),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"In this case the extension will look for an ",Object(i.b)("inlineCode",{parentName:"li"},"mp3")," file on Android and a ",Object(i.b)("inlineCode",{parentName:"li"},"caf")," file on iOS."))),Object(i.b)("li",{parentName:"ul"},"Android: The name of a raw sound resource you have packaged with your application (in a custom ANE).")),Object(i.b)("p",null,"The second method is the suggested method as this is the easiest way to simulataneously support iOS and Android. The extension will select the correct file and you will need to package the ",Object(i.b)("inlineCode",{parentName:"p"},"caf")," file on iOS and ",Object(i.b)("inlineCode",{parentName:"p"},"mp3")," file on Android."),Object(i.b)("p",null,"For example: "),Object(i.b)("pre",null,Object(i.b)("code",Object(o.a)({parentName:"pre"},{className:"language-actionscript"}),'.setSound( "assets/notifications/sounds/notification" )\n')),Object(i.b)("p",null,"Will use the following files:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"iOS: ",Object(i.b)("inlineCode",{parentName:"li"},"assets/notifications/sounds/notification.caf")),Object(i.b)("li",{parentName:"ul"},"Android: ",Object(i.b)("inlineCode",{parentName:"li"},"assets/notifications/sounds/notification.mp3"))),Object(i.b)("p",null,"You can either package both of these files or selectively package them for the appropriate platform."),Object(i.b)("h2",{id:"using-channels"},"Using Channels"),Object(i.b)("p",null,"From Android 8.0 (API level 26), they have introduced the concept of a notification channel. When you create a notification you must specify a channel for the notification to use through the ",Object(i.b)("inlineCode",{parentName:"p"},"setChannel()")," function on the ",Object(i.b)("inlineCode",{parentName:"p"},"NotificationBuilder"),"."),Object(i.b)("pre",null,Object(i.b)("code",Object(o.a)({parentName:"pre"},{className:"language-actionscript"}),'new NotificationBuilder()\n    \n    // Other notification options\n\n    .setChannel( "channel_id" )\n\n;\n')),Object(i.b)("p",null,"The channel you specify controls the sound that will be played for notifications on Android 8 and higher."),Object(i.b)("p",null,"You create the channels along with your service (see ",Object(i.b)("a",Object(o.a)({parentName:"p"},{href:"setup-your-service#channels"}),"Channels")," for more information)."),Object(i.b)("p",null,Object(i.b)("em",{parentName:"p"},"If you don't specify a channel when creating a notification it will default to the first channel in your service.")),Object(i.b)("p",null,"To set the sound played for a notification channel you use the ",Object(i.b)("inlineCode",{parentName:"p"},"setSound()")," function on the ",Object(i.b)("inlineCode",{parentName:"p"},"ChannelBuilder"),":"),Object(i.b)("pre",null,Object(i.b)("code",Object(o.a)({parentName:"pre"},{className:"language-actionscript"}),'new ChannelBuilder()\n    .setId( "test_channel" )\n    .setName( "Test Channel" )\n    .setGroup( "test_channel_group" )\n    .setSound( "assets/notifications/sounds/notification" )\n    .build();\n')),Object(i.b)("p",null,"This function operates the same way as the ",Object(i.b)("inlineCode",{parentName:"p"},"setSound()")," function for the ",Object(i.b)("inlineCode",{parentName:"p"},"NotificationBuilder")," so you can specify exactly the same path / resource name that you would have used there. "),Object(i.b)("blockquote",null,Object(i.b)("p",{parentName:"blockquote"},"Note: Channels are ignored on iOS so the setting on the ",Object(i.b)("inlineCode",{parentName:"p"},"NotificationBuilder")," will always be used on iOS and on older Android versions. Android version 8.0 and higher will use the channel sound.")))}s.isMDXComponent=!0},807:function(e,n,t){"use strict";t.d(n,"a",(function(){return d})),t.d(n,"b",(function(){return f}));var o=t(0),i=t.n(o);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,o,i=function(e,n){if(null==e)return{};var t,o,i={},a=Object.keys(e);for(o=0;o<a.length;o++)t=a[o],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)t=a[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var s=i.a.createContext({}),u=function(e){var n=i.a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):c(c({},n),e)),t},d=function(e){var n=u(e.components);return i.a.createElement(s.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return i.a.createElement(i.a.Fragment,{},n)}},b=i.a.forwardRef((function(e,n){var t=e.components,o=e.mdxType,a=e.originalType,r=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),d=u(t),b=o,f=d["".concat(r,".").concat(b)]||d[b]||p[b]||a;return t?i.a.createElement(f,c(c({ref:n},s),{},{components:t})):i.a.createElement(f,c({ref:n},s))}));function f(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var a=t.length,r=new Array(a);r[0]=b;var c={};for(var l in n)hasOwnProperty.call(n,l)&&(c[l]=n[l]);c.originalType=e,c.mdxType="string"==typeof e?e:o,r[1]=c;for(var s=2;s<a;s++)r[s]=t[s];return i.a.createElement.apply(null,r)}return i.a.createElement.apply(null,t)}b.displayName="MDXCreateElement"}}]);
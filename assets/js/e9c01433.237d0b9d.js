"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[40028],{3905:(e,a,t)=>{t.d(a,{Zo:()=>u,kt:()=>m});var n=t(67294);function r(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function i(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function l(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?i(Object(t),!0).forEach((function(a){r(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function o(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var s=n.createContext({}),p=function(e){var a=n.useContext(s),t=a;return e&&(t="function"==typeof e?e(a):l(l({},a),e)),t},u=function(e){var a=p(e.components);return n.createElement(s.Provider,{value:a},e.children)},c="mdxType",h={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},d=n.forwardRef((function(e,a){var t=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),c=p(t),d=r,m=c["".concat(s,".").concat(d)]||c[d]||h[d]||i;return t?n.createElement(m,l(l({ref:a},u),{},{components:t})):n.createElement(m,l({ref:a},u))}));function m(e,a){var t=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var i=t.length,l=new Array(i);l[0]=d;var o={};for(var s in a)hasOwnProperty.call(a,s)&&(o[s]=a[s]);o.originalType=e,o[c]="string"==typeof e?e:r,l[1]=o;for(var p=2;p<i;p++)l[p]=t[p];return n.createElement.apply(null,l)}return n.createElement.apply(null,t)}d.displayName="MDXCreateElement"},85162:(e,a,t)=>{t.d(a,{Z:()=>l});var n=t(67294),r=t(86010);const i={tabItem:"tabItem_Ymn6"};function l(e){let{children:a,hidden:t,className:l}=e;return n.createElement("div",{role:"tabpanel",className:(0,r.Z)(i.tabItem,l),hidden:t},a)}},74866:(e,a,t)=>{t.d(a,{Z:()=>w});var n=t(87462),r=t(67294),i=t(86010),l=t(12466),o=t(16550),s=t(91980),p=t(67392),u=t(50012);function c(e){return function(e){var a,t;return null!=(a=null==(t=r.Children.map(e,(e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:a}=e;return!!a&&"object"==typeof a&&"value"in a}(e))return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})))?void 0:t.filter(Boolean))?a:[]}(e).map((e=>{let{props:{value:a,label:t,attributes:n,default:r}}=e;return{value:a,label:t,attributes:n,default:r}}))}function h(e){const{values:a,children:t}=e;return(0,r.useMemo)((()=>{const e=null!=a?a:c(t);return function(e){const a=(0,p.l)(e,((e,a)=>e.value===a.value));if(a.length>0)throw new Error('Docusaurus error: Duplicate values "'+a.map((e=>e.value)).join(", ")+'" found in <Tabs>. Every value needs to be unique.')}(e),e}),[a,t])}function d(e){let{value:a,tabValues:t}=e;return t.some((e=>e.value===a))}function m(e){let{queryString:a=!1,groupId:t}=e;const n=(0,o.k6)(),i=function(e){let{queryString:a=!1,groupId:t}=e;if("string"==typeof a)return a;if(!1===a)return null;if(!0===a&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=t?t:null}({queryString:a,groupId:t});return[(0,s._X)(i),(0,r.useCallback)((e=>{if(!i)return;const a=new URLSearchParams(n.location.search);a.set(i,e),n.replace({...n.location,search:a.toString()})}),[i,n])]}function f(e){const{defaultValue:a,queryString:t=!1,groupId:n}=e,i=h(e),[l,o]=(0,r.useState)((()=>function(e){var a;let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!d({value:t,tabValues:n}))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+t+'" but none of its children has the corresponding value. Available values are: '+n.map((e=>e.value)).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");return t}const r=null!=(a=n.find((e=>e.default)))?a:n[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:a,tabValues:i}))),[s,p]=m({queryString:t,groupId:n}),[c,f]=function(e){let{groupId:a}=e;const t=function(e){return e?"docusaurus.tab."+e:null}(a),[n,i]=(0,u.Nk)(t);return[n,(0,r.useCallback)((e=>{t&&i.set(e)}),[t,i])]}({groupId:n}),g=(()=>{const e=null!=s?s:c;return d({value:e,tabValues:i})?e:null})();(0,r.useLayoutEffect)((()=>{g&&o(g)}),[g]);return{selectedValue:l,selectValue:(0,r.useCallback)((e=>{if(!d({value:e,tabValues:i}))throw new Error("Can't select invalid tab value="+e);o(e),p(e),f(e)}),[p,f,i]),tabValues:i}}var g=t(72389);const v={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function b(e){let{className:a,block:t,selectedValue:o,selectValue:s,tabValues:p}=e;const u=[],{blockElementScrollPositionUntilNextRender:c}=(0,l.o5)(),h=e=>{const a=e.currentTarget,t=u.indexOf(a),n=p[t].value;n!==o&&(c(a),s(n))},d=e=>{var a;let t=null;switch(e.key){case"Enter":h(e);break;case"ArrowRight":{var n;const a=u.indexOf(e.currentTarget)+1;t=null!=(n=u[a])?n:u[0];break}case"ArrowLeft":{var r;const a=u.indexOf(e.currentTarget)-1;t=null!=(r=u[a])?r:u[u.length-1];break}}null==(a=t)||a.focus()};return r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":t},a)},p.map((e=>{let{value:a,label:t,attributes:l}=e;return r.createElement("li",(0,n.Z)({role:"tab",tabIndex:o===a?0:-1,"aria-selected":o===a,key:a,ref:e=>u.push(e),onKeyDown:d,onClick:h},l,{className:(0,i.Z)("tabs__item",v.tabItem,null==l?void 0:l.className,{"tabs__item--active":o===a})}),null!=t?t:a)})))}function y(e){let{lazy:a,children:t,selectedValue:n}=e;const i=(Array.isArray(t)?t:[t]).filter(Boolean);if(a){const e=i.find((e=>e.props.value===n));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return r.createElement("div",{className:"margin-top--md"},i.map(((e,a)=>(0,r.cloneElement)(e,{key:a,hidden:e.props.value!==n}))))}function k(e){const a=f(e);return r.createElement("div",{className:(0,i.Z)("tabs-container",v.tabList)},r.createElement(b,(0,n.Z)({},e,a)),r.createElement(y,(0,n.Z)({},e,a)))}function w(e){const a=(0,g.Z)();return r.createElement(k,(0,n.Z)({key:String(a)},e))}},58325:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>u,contentTitle:()=>s,default:()=>m,frontMatter:()=>o,metadata:()=>p,toc:()=>c});var n=t(87462),r=(t(67294),t(3905)),i=t(74866),l=t(85162);const o={title:"Share Files",sidebar_label:"Share Files"},s=void 0,p={unversionedId:"share/share-files",id:"share/share-files",title:"Share Files",description:"There are two operations regarding files exposed by this ANE, referred to as sharing a file (shareFile) and opening a file (showOpenIn).",source:"@site/docs/share/share-files.mdx",sourceDirName:"share",slug:"/share/share-files",permalink:"/docs/share/share-files",draft:!1,tags:[],version:"current",frontMatter:{title:"Share Files",sidebar_label:"Share Files"},sidebar:"share",previous:{title:"Simple Share",permalink:"/docs/share/simple-share"},next:{title:"Launch Applications",permalink:"/docs/share/launch-applications"}},u={},c=[{value:"Sharing a File",id:"sharing-a-file",level:2},{value:"Opening a File",id:"opening-a-file",level:2},{value:"Opening a File: Example",id:"opening-a-file-example",level:2}],h={toc:c},d="wrapper";function m(e){let{components:a,...t}=e;return(0,r.kt)(d,(0,n.Z)({},h,t,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"There are two operations regarding files exposed by this ANE, referred to as sharing a file (",(0,r.kt)("inlineCode",{parentName:"p"},"shareFile"),") and opening a file (",(0,r.kt)("inlineCode",{parentName:"p"},"showOpenIn"),")."),(0,r.kt)("p",null,"Both of these will display a list of applications however they are subtly different."),(0,r.kt)("p",null,"The major difference here is that sharing just attaches the file to an activity whereas opening will actually pass the file data for opening.\nYou will probably want to use the open method in most cases, however feel free to experiment with the different methods\nto see which suits your requirements better."),(0,r.kt)("p",null,"To distinguish these methods you should consider ",(0,r.kt)("inlineCode",{parentName:"p"},"shareFile")," to be used to send a file to someone, via mail, message etc\nwhereas ",(0,r.kt)("inlineCode",{parentName:"p"},"showOpenIn")," is used to open a file in an application, for playback, editing or even to post to social networks."),(0,r.kt)("h2",{id:"sharing-a-file"},"Sharing a File"),(0,r.kt)("p",null,"Displaying an action to share a file is simply a process of calling ",(0,r.kt)("inlineCode",{parentName:"p"},"shareFile")," with the path of the file you wish to share.\nYou control which applications are displayed in the share dialog by setting the ",(0,r.kt)("inlineCode",{parentName:"p"},"mimeType"),".\nThe system will then only display applications that can handle that type of file."),(0,r.kt)("p",null,"On iOS this uses the ",(0,r.kt)("inlineCode",{parentName:"p"},"UIActivityViewController")," to display a list of services that support the supplied data."),(0,r.kt)(i.Z,{groupId:"framework",defaultValue:"air",values:[{label:"AIR",value:"air"},{label:"Unity",value:"unity"}],mdxType:"Tabs"},(0,r.kt)(l.Z,{value:"air",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},'Share.service.addEventListener( ShareEvent.COMPLETE,    share_shareHandler );\nShare.service.addEventListener( ShareEvent.CANCELLED,   share_shareHandler );\nShare.service.addEventListener( ShareEvent.FAILED,      share_shareHandler );\nShare.service.addEventListener( ShareEvent.CLOSED,      share_shareHandler );\n\n// Here we have packaged a file "TestDocument.pdf" in an "assets" folder in our AS application project\nvar path:String = File.applicationDirectory.nativePath + File.separator + "assets" + File.separator + "TestDocument.pdf";\n\nShare.service.shareFile( path, "TestDocument.pdf", "application/pdf" );\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},'private function share_shareHandler( event:ShareEvent ):void\n{\n    trace( event.type + "::" + event.activityType + "::" + event.error );\n}\n'))),(0,r.kt)(l.Z,{value:"unity",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},'// Here we have an image file in the streaming assets (iOS only)\nstring filePath = Path.Combine(\n    UnityEngine.Application.streamingAssetsPath, \n    "image.png"\n);\n\nShare.Instance.OnComplete += Share_OnComplete;\n\nShare.Instance.shareFile( filePath, "image.png", "image/png" );\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},'private void Share_OnComplete(ShareEvent e)\n{\n    Debug.Log("Share_OnComplete");\n}\n')))),(0,r.kt)("h2",{id:"opening-a-file"},"Opening a File"),(0,r.kt)("p",null,'Similarly to "Sharing a File", opening a file can be used to pass a file to another application, for opening,\neditting or posting to a social network. The major difference here is that sharing just attaches the file to\nan activity whereas opening will actually pass the file data for opening. '),(0,r.kt)("p",null,"Generally this operation gives better functionality than the share file."),(0,r.kt)("p",null,"On iOS this uses the ",(0,r.kt)("inlineCode",{parentName:"p"},"UIDocumentInteractionController")," to display a list of applications that can open the specified file."),(0,r.kt)(i.Z,{groupId:"framework",defaultValue:"air",values:[{label:"AIR",value:"air"},{label:"Unity",value:"unity"}],mdxType:"Tabs"},(0,r.kt)(l.Z,{value:"air",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},'var path:String = File.applicationDirectory.nativePath + File.separator + "assets" + File.separator + "TestDocument.pdf";\n\nShare.service.showOpenIn( path, "TestDocument.pdf", "application/pdf" );\n'))),(0,r.kt)(l.Z,{value:"unity",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},'// Here we have an image file in the streaming assets (iOS only)\nstring filePath = Path.Combine(\n    UnityEngine.Application.streamingAssetsPath, \n    "image.png"\n);\n\nShare.Instance.OnComplete += Share_OnComplete;\n\nShare.Instance.showOpenIn( filePath, "image.png", "image/png" );\n')))),(0,r.kt)("h2",{id:"opening-a-file-example"},"Opening a File: Example"),(0,r.kt)("p",null,"The below shows an example of opening an ",(0,r.kt)("inlineCode",{parentName:"p"},"igo")," (instagram only file) and setting the packageName and UTI to limit the applications\ndisplayed to only be Instagram. We also use the ",(0,r.kt)("inlineCode",{parentName:"p"},"isApplicationInstalled")," to check that Instagram is installed.\nMore on this function in the ",(0,r.kt)("a",{parentName:"p",href:"/docs/share/launch-applications"},"Launch Applications")," section."),(0,r.kt)(i.Z,{groupId:"framework",defaultValue:"air",values:[{label:"AIR",value:"air"},{label:"Unity",value:"unity"}],mdxType:"Tabs"},(0,r.kt)(l.Z,{value:"air",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},'if (Share.service.isApplicationInstalled( "com.instagram.android", "instagram://app" ))\n{\n    var instagramImage:File = File.applicationStorageDirectory.resolvePath( "assets/instagram.igo" );\n    \n    var options:ShareOptions = new ShareOptions();\n    options.packageName = "com.instagram.android";\n    options.UTI = "com.instagram.photo";\n    \n    Share.service.showOpenIn( instagramImage.nativePath, "", "image/*", options );\n}\n'))),(0,r.kt)(l.Z,{value:"unity",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},'plugins.share.applications.Application app\n        = new plugins.share.applications.Application(\n            "com.instagram.android",\n            "instagram://");\n\nif (Share.Instance.Applications.IsInstalled(app))\n{\n    string filePath = Path.Combine(UnityEngine.Application.streamingAssetsPath, "instagram.igo");\n    \n    ShareOptions options = new ShareOptions();\n    options.packageName = "com.instagram.android";\n    options.UTI = "com.instagram.photo";\n    \n    Share.Instance.showOpenIn( filePath, "", "image/*", options );\n}\n')))))}m.isMDXComponent=!0}}]);
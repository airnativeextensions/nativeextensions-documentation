"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[22888],{6380:(e,s,a)=>{a.r(s),a.d(s,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"firebase/crashlytics/usage","title":"Crashlytics - Usage","description":"Usage","source":"@site/docs/firebase/crashlytics/usage.md","sourceDirName":"firebase/crashlytics","slug":"/firebase/crashlytics/usage","permalink":"/docs/firebase/crashlytics/usage","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Crashlytics - Usage","sidebar_label":"Usage"},"sidebar":"firebase","previous":{"title":"Add the extension","permalink":"/docs/firebase/crashlytics/add-the-extension"},"next":{"title":"Testing","permalink":"/docs/firebase/crashlytics/testing"}}');var i=a(74848),t=a(28453);const r={title:"Crashlytics - Usage",sidebar_label:"Usage"},o=void 0,l={},c=[{value:"Usage",id:"usage",level:2},{value:"Customise Crash Reports",id:"customise-crash-reports",level:2},{value:"Enable opt-in reporting",id:"enable-opt-in-reporting",level:3},{value:"Android",id:"android",level:4},{value:"iOS",id:"ios",level:4},{value:"Add custom logs",id:"add-custom-logs",level:3},{value:"Add custom keys",id:"add-custom-keys",level:3},{value:"Set user IDs",id:"set-user-ids",level:3},{value:"Log non-fatal exceptions",id:"log-non-fatal-exceptions",level:3},{value:"Manage Crash Insights data",id:"manage-crash-insights-data",level:3}];function d(e){const s={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.h2,{id:"usage",children:"Usage"}),"\n",(0,i.jsxs)(s.p,{children:["In order to enable collection of crash reports you simply need to call ",(0,i.jsx)(s.code,{children:"enableCollection()"})," at some point in your application after having initialised your Firebase app."]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-actionscript",children:"Firebase.service.initialiseApp();\n\nFirebaseCrashlytics.service.enableCollection();\n"})}),"\n",(0,i.jsx)(s.h2,{id:"customise-crash-reports",children:"Customise Crash Reports"}),"\n",(0,i.jsx)(s.h3,{id:"enable-opt-in-reporting",children:"Enable opt-in reporting"}),"\n",(0,i.jsx)(s.p,{children:"By default, Firebase Crashlytics automatically collects crash reports for all your app's users. To give users more control over the data they send, you can enable opt-in reporting instead."}),"\n",(0,i.jsx)(s.p,{children:"To do that, you have to disable automatic collection and initialize Crashlytics only for opt-in users."}),"\n",(0,i.jsxs)(s.p,{children:["Then you can ask your user to opt-in as required only calling the crashlytics function ",(0,i.jsx)(s.code,{children:"enableCollection()"})," after the user agrees:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-actionscript",children:"FirebaseCrashlytics.service.enableCollection();\n"})}),"\n",(0,i.jsx)(s.p,{children:"To turn off automatic collection use the following methods dependent on your platform:"}),"\n",(0,i.jsx)(s.h4,{id:"android",children:"Android"}),"\n",(0,i.jsxs)(s.p,{children:["Turn off automatic collection with a meta-data tag in your manifest additions, with in the ",(0,i.jsx)(s.code,{children:"application"})," tag:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-xml",children:'<meta-data\n    android:name="firebase_crashlytics_collection_enabled"\n    android:value="false" />\n'})}),"\n",(0,i.jsx)(s.h4,{id:"ios",children:"iOS"}),"\n",(0,i.jsxs)(s.p,{children:["Turn off automatic collection with a new key to your ",(0,i.jsx)(s.code,{children:"InfoAdditions"}),":"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-xml",children:"<key>FirebaseCrashlyticsCollectionEnabled</key>\n<false/>\n"})}),"\n",(0,i.jsx)(s.h3,{id:"add-custom-logs",children:"Add custom logs"}),"\n",(0,i.jsx)(s.p,{children:"To give yourself more context for the events leading up to a crash, you can add custom Crashlytics logs to your app. Crashlytics associates the logs with your crash data and makes them visible in the Firebase console."}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-actionscript",children:'FirebaseCrashlytics.service.log( "a log message" );\n'})}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"To avoid slowing down your app, Crashlytics limits logs to 64kB. Crashlytics deletes older log entries if a session's logs go over that limit."}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"add-custom-keys",children:"Add custom keys"}),"\n",(0,i.jsx)(s.p,{children:"Custom keys help you get the specific state of your app leading up to a crash. You can associate arbitrary key/value pairs with your crash reports, and see them in the Firebase console."}),"\n",(0,i.jsx)(s.p,{children:"There are several methods to set keys. Each handles a different data type:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-actionscript",children:'FirebaseCrashlytics.service.setIntValue( 1 /* int value */, key );\n\nFirebaseCrashlytics.service.setNumericValue( 1.0 /* Number value */, key );\n\nFirebaseCrashlytics.service.setBooleanValue( true /* Boolean value */, key );\n\nFirebaseCrashlytics.service.setStringValue( "a value" /* String value */, key );\n'})}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:"key"})," value is a ",(0,i.jsx)(s.code,{children:"String"}),"."]}),"\n",(0,i.jsx)(s.h3,{id:"set-user-ids",children:"Set user IDs"}),"\n",(0,i.jsx)(s.p,{children:"To diagnose an issue, it\u2019s often helpful to know which of your users experienced a given crash. Crashlytics includes a way to anonymously identify users in your crash reports."}),"\n",(0,i.jsx)(s.p,{children:"To add user IDs to your reports, assign each user a unique identifier in the form of an ID number, token, or hashed value:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-actionscript",children:'FirebaseCrashlytics.service.setUserIdentifier( "user123456789" );\n'})}),"\n",(0,i.jsxs)(s.p,{children:["If you ever need to clear a user identifier after you set it, reset the value to a blank string. Clearing a user identifier does not remove existing Crashlytics records. If you need to delete records associated with a user ID, ",(0,i.jsx)(s.a,{href:"https://firebase.google.com/support/contact/?category=other-category&component=crashlytics&summary=Please%20delete%20records%20associated%20with%20UID%20%5BENTER_USER_ID_HERE%5D",children:"contact Firebase support"}),"."]}),"\n",(0,i.jsx)(s.h3,{id:"log-non-fatal-exceptions",children:"Log non-fatal exceptions"}),"\n",(0,i.jsx)(s.p,{children:"In addition to automatically reporting your app\u2019s crashes, Crashlytics lets you log non-fatal exceptions."}),"\n",(0,i.jsxs)(s.p,{children:["You do this by calling the ",(0,i.jsx)(s.code,{children:"recordError()"})," method, passing an ",(0,i.jsx)(s.code,{children:"Error"})," object:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-actionscript",children:"var e:Error = ...;\n\nFirebaseCrashlytics.service.recordError( e );\n"})}),"\n",(0,i.jsx)(s.p,{children:"All logged exceptions appear as non-fatal issues in the Firebase console."}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"Crashlytics only stores the most recent 8 exceptions in a given app session. If your app throws more than 8 exceptions in a session, older exceptions are lost."}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"manage-crash-insights-data",children:"Manage Crash Insights data"}),"\n",(0,i.jsx)(s.p,{children:"Crash Insights helps you resolve issues by comparing your anonymized stack traces to traces from other Firebase apps and letting you know if your issue is part of a larger trend. For many issues, Crash Insights even provides resources to help you debug the crash."}),"\n",(0,i.jsx)(s.p,{children:"Crash Insights uses aggregated crash data to identify common stability trends. If you\u2019d prefer not to share your app's data, you can opt-out of Crash Insights from the Crash Insights menu at the top of your Crashlytics issue list in the Firebase console."})]})}function h(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},28453:(e,s,a)=>{a.d(s,{R:()=>r,x:()=>o});var n=a(96540);const i={},t=n.createContext(i);function r(e){const s=n.useContext(t);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),n.createElement(t.Provider,{value:s},e.children)}}}]);
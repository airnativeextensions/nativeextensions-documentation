"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[38891],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>f});var a=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var u=a.createContext({}),s=function(e){var t=a.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},c=function(e){var t=s(e.components);return a.createElement(u.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,u=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),p=s(n),m=i,f=p["".concat(u,".").concat(m)]||p[m]||d[m]||o;return n?a.createElement(f,r(r({ref:t},c),{},{components:n})):a.createElement(f,r({ref:t},c))}));function f(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,r=new Array(o);r[0]=m;var l={};for(var u in t)hasOwnProperty.call(t,u)&&(l[u]=t[u]);l.originalType=e,l[p]="string"==typeof e?e:i,r[1]=l;for(var s=2;s<o;s++)r[s]=n[s];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},85162:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(67294),i=n(86010);const o={tabItem:"tabItem_Ymn6"};function r(e){let{children:t,hidden:n,className:r}=e;return a.createElement("div",{role:"tabpanel",className:(0,i.Z)(o.tabItem,r),hidden:n},t)}},74866:(e,t,n)=>{n.d(t,{Z:()=>w});var a=n(87462),i=n(67294),o=n(86010),r=n(12466),l=n(16550),u=n(91980),s=n(67392),c=n(50012);function p(e){return function(e){var t,n;return null!=(t=null==(n=i.Children.map(e,(e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})))?void 0:n.filter(Boolean))?t:[]}(e).map((e=>{let{props:{value:t,label:n,attributes:a,default:i}}=e;return{value:t,label:n,attributes:a,default:i}}))}function d(e){const{values:t,children:n}=e;return(0,i.useMemo)((()=>{const e=null!=t?t:p(n);return function(e){const t=(0,s.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error('Docusaurus error: Duplicate values "'+t.map((e=>e.value)).join(", ")+'" found in <Tabs>. Every value needs to be unique.')}(e),e}),[t,n])}function m(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function f(e){let{queryString:t=!1,groupId:n}=e;const a=(0,l.k6)(),o=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=n?n:null}({queryString:t,groupId:n});return[(0,u._X)(o),(0,i.useCallback)((e=>{if(!o)return;const t=new URLSearchParams(a.location.search);t.set(o,e),a.replace({...a.location,search:t.toString()})}),[o,a])]}function b(e){const{defaultValue:t,queryString:n=!1,groupId:a}=e,o=d(e),[r,l]=(0,i.useState)((()=>function(e){var t;let{defaultValue:n,tabValues:a}=e;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!m({value:n,tabValues:a}))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+n+'" but none of its children has the corresponding value. Available values are: '+a.map((e=>e.value)).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");return n}const i=null!=(t=a.find((e=>e.default)))?t:a[0];if(!i)throw new Error("Unexpected error: 0 tabValues");return i.value}({defaultValue:t,tabValues:o}))),[u,s]=f({queryString:n,groupId:a}),[p,b]=function(e){let{groupId:t}=e;const n=function(e){return e?"docusaurus.tab."+e:null}(t),[a,o]=(0,c.Nk)(n);return[a,(0,i.useCallback)((e=>{n&&o.set(e)}),[n,o])]}({groupId:a}),h=(()=>{const e=null!=u?u:p;return m({value:e,tabValues:o})?e:null})();(0,i.useLayoutEffect)((()=>{h&&l(h)}),[h]);return{selectedValue:r,selectValue:(0,i.useCallback)((e=>{if(!m({value:e,tabValues:o}))throw new Error("Can't select invalid tab value="+e);l(e),s(e),b(e)}),[s,b,o]),tabValues:o}}var h=n(72389);const y={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function k(e){let{className:t,block:n,selectedValue:l,selectValue:u,tabValues:s}=e;const c=[],{blockElementScrollPositionUntilNextRender:p}=(0,r.o5)(),d=e=>{const t=e.currentTarget,n=c.indexOf(t),a=s[n].value;a!==l&&(p(t),u(a))},m=e=>{var t;let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{var a;const t=c.indexOf(e.currentTarget)+1;n=null!=(a=c[t])?a:c[0];break}case"ArrowLeft":{var i;const t=c.indexOf(e.currentTarget)-1;n=null!=(i=c[t])?i:c[c.length-1];break}}null==(t=n)||t.focus()};return i.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":n},t)},s.map((e=>{let{value:t,label:n,attributes:r}=e;return i.createElement("li",(0,a.Z)({role:"tab",tabIndex:l===t?0:-1,"aria-selected":l===t,key:t,ref:e=>c.push(e),onKeyDown:m,onClick:d},r,{className:(0,o.Z)("tabs__item",y.tabItem,null==r?void 0:r.className,{"tabs__item--active":l===t})}),null!=n?n:t)})))}function v(e){let{lazy:t,children:n,selectedValue:a}=e;const o=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=o.find((e=>e.props.value===a));return e?(0,i.cloneElement)(e,{className:"margin-top--md"}):null}return i.createElement("div",{className:"margin-top--md"},o.map(((e,t)=>(0,i.cloneElement)(e,{key:t,hidden:e.props.value!==a}))))}function g(e){const t=b(e);return i.createElement("div",{className:(0,o.Z)("tabs-container",y.tabList)},i.createElement(k,(0,a.Z)({},e,t)),i.createElement(v,(0,a.Z)({},e,t)))}function w(e){const t=(0,h.Z)();return i.createElement(g,(0,a.Z)({key:String(t)},e))}},57072:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>u,default:()=>f,frontMatter:()=>l,metadata:()=>s,toc:()=>p});var a=n(87462),i=(n(67294),n(3905)),o=n(74866),r=n(85162);const l={title:"Initialise the Extension",sidebar_label:"Initialise the Extension"},u=void 0,s={unversionedId:"facebookapi/core/initialise-the-extension",id:"facebookapi/core/initialise-the-extension",title:"Initialise the Extension",description:"Core Extension",source:"@site/docs/facebookapi/core/initialise-the-extension.mdx",sourceDirName:"facebookapi/core",slug:"/facebookapi/core/initialise-the-extension",permalink:"/docs/facebookapi/core/initialise-the-extension",draft:!1,tags:[],version:"current",frontMatter:{title:"Initialise the Extension",sidebar_label:"Initialise the Extension"},sidebar:"facebookapi",previous:{title:"Add the Extension",permalink:"/docs/facebookapi/core/add-the-extension"},next:{title:"Overview",permalink:"/docs/facebookapi/core/app-events/overview"}},c={},p=[{value:"Core Extension",id:"core-extension",level:2},{value:"Initialise the Facebook Application",id:"initialise-the-facebook-application",level:2},{value:"Automatic initialisation",id:"automatic-initialisation",level:3}],d={toc:p},m="wrapper";function f(e){let{components:t,...n}=e;return(0,i.kt)(m,(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"core-extension"},"Core Extension"),(0,i.kt)("p",null,"You must call ",(0,i.kt)("inlineCode",{parentName:"p"},"Core.init();")," once in your application to initialise the extension and correctly add application delegation handling. "),(0,i.kt)("p",null,"Note you should always check whether the extension is supported before making calls.  This allows you to react to whether the functionality is available on the device."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-actionscript"},"Core.init();\nif (Facebook.isSupported)\n{\n    //  Functionality here\n}\n")),(0,i.kt)("h2",{id:"initialise-the-facebook-application"},"Initialise the Facebook Application"),(0,i.kt)("p",null,"To initialise the Facebook SDK call the ",(0,i.kt)("inlineCode",{parentName:"p"},"initialise()")," function. You must do this before attempting to use any of the functionality in the Facebook Platform SDKs."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-actionscript"},"Facebook.instance.initialise();\n")),(0,i.kt)("p",null,"If you plan to gather permission to track the user or other such consent you should do this before calling ",(0,i.kt)("inlineCode",{parentName:"p"},"initialise()"),"."),(0,i.kt)("h3",{id:"automatic-initialisation"},"Automatic initialisation"),(0,i.kt)("admonition",{type:"warning"},(0,i.kt)("p",{parentName:"admonition"},"Previously you may have relied on the Facebook Platform SDKs automatically initialising on launch.\nStarting with v9 Facebook has removed this auto-initialisation feature."),(0,i.kt)("p",{parentName:"admonition"},"If you currently rely on the Facebook Platform SDKs being automatically initialized for use, you will now need to explicitly initialize the SDK by making the appropriate calls.")),(0,i.kt)("p",null,"To produce consistent results we suggest you ensure you have disabled automatic initialisation in your application by setting set the ",(0,i.kt)("inlineCode",{parentName:"p"},"AutoInitEnabled")," flag to ",(0,i.kt)("inlineCode",{parentName:"p"},"false")," in the application descriptor. These flags should be ignored however it appears Android may still auto initialise in some cases. "),(0,i.kt)(o.Z,{groupId:"packagemanager",defaultValue:"apm",values:[{label:"APM",value:"apm"},{label:"Manual",value:"manual"}],mdxType:"Tabs"},(0,i.kt)(r.Z,{value:"apm",mdxType:"TabItem"},(0,i.kt)("p",null,"This is the default value used by apm, but you can change it through your project configuration. "),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"apm project config set facebookAutoInitEnabled false\n")),(0,i.kt)("p",null,"Once you have added this configuration run the steps to update / generate your ",(0,i.kt)("a",{parentName:"p",href:"/docs/facebookapi/core/add-the-extension#application-descriptor"},"application descriptor"),". This will apply to both iOS and Android.")),(0,i.kt)(r.Z,{value:"manual",mdxType:"TabItem"},(0,i.kt)("p",null,"For iOS you set the ",(0,i.kt)("inlineCode",{parentName:"p"},"FacebookAutoInitEnabled")," key to ",(0,i.kt)("inlineCode",{parentName:"p"},"false")," in your ",(0,i.kt)("inlineCode",{parentName:"p"},"InfoAdditions")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},"<key>FacebookAutoInitEnabled</key>\n<false/>\n")),(0,i.kt)("p",null,"For Android you set the ",(0,i.kt)("inlineCode",{parentName:"p"},"com.facebook.sdk.AutoInitEnabled")," meta-data value to ",(0,i.kt)("inlineCode",{parentName:"p"},"false"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},'<meta-data \n    android:name="com.facebook.sdk.AutoInitEnabled" \n    android:value="false"/>\n')),(0,i.kt)("p",null,"This value should be inside the ",(0,i.kt)("inlineCode",{parentName:"p"},"application")," node in your manifest additions."))))}f.isMDXComponent=!0}}]);
"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[969],{28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>c});var a=t(96540);const i={},s=a.createContext(i);function r(e){const n=a.useContext(s);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),a.createElement(s.Provider,{value:n},e.children)}},92259:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>r,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"compass/magnetic-field-sensor","title":"Magnetic Field Sensor","description":"The raw magnetic field values can be retrieved using this extension.","source":"@site/docs/compass/magnetic-field-sensor.md","sourceDirName":"compass","slug":"/compass/magnetic-field-sensor","permalink":"/docs/compass/magnetic-field-sensor","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Magnetic Field Sensor","sidebar_label":"Magnetic Field Sensor"},"sidebar":"compass","previous":{"title":"Request Authorisation","permalink":"/docs/compass/request-authorisation"},"next":{"title":"changelog","permalink":"/docs/compass/changelog"}}');var i=t(74848),s=t(28453);const r={title:"Magnetic Field Sensor",sidebar_label:"Magnetic Field Sensor"},c=void 0,o={},d=[];function l(e){const n={code:"code",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"The raw magnetic field values can be retrieved using this extension.\nYou can listen for the MagneticFieldEvent for changes in the magnetic field.\nThere are 2 important events, both indicating the magnetic field, one in the\ncalibrated state and the other the raw uncalibrated data."}),"\n",(0,i.jsxs)(n.p,{children:["The functionality is accessed through the ",(0,i.jsx)(n.code,{children:"Compass.service.magneticFieldSensor"})," instance.\nThere are also checks to see if the data updates are available on the current device.\nThis checks whether there is a magnetometer on the device and whether the particular\ndata updates (calibrated or uncalibrated) are available. (Uncalibrated data was only\nintroduced on Android v18)."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-actionscript",children:"if (Compass.service.magneticFieldSensor.isCalibratedDataAvailable)\n{\n\tCompass.service.magneticFieldSensor.addEventListener( MagneticFieldEvent.MAGNETIC_FIELD_UPDATED, magneticFieldUpdatedHandler );\n\n\t// The true here indicates the request for calibrated data\n\tCompass.service.magneticFieldSensor.register( SensorRate.SENSOR_DELAY_NORMAL, true );\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:"Then you retrieve information in the update events:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-actionscript",children:'private function magneticFieldUpdatedHandler( event:MagneticFieldEvent ):void\n{\n\ttrace( "calibrated\\nx:"+ event.fieldX + "\\ny:"+event.fieldY  +"\\nz:"+ event.fieldZ +"\\na:"+ event.accuracy; );\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:["Similarly to stop the updates call the ",(0,i.jsx)(n.code,{children:"unregister"})," function:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-actionscript",children:"Compass.service.magneticFieldSensor.unregister();\n"})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}}}]);
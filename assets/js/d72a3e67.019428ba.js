"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[35647],{3905:function(e,t,a){a.d(t,{Zo:function(){return p},kt:function(){return d}});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),c=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},p=function(e){var t=c(e.components);return n.createElement(s.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),u=c(a),d=r,v=u["".concat(s,".").concat(d)]||u[d]||m[d]||o;return a?n.createElement(v,i(i({ref:t},p),{},{components:a})):n.createElement(v,i({ref:t},p))}));function d(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,i=new Array(o);i[0]=u;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var c=2;c<o;c++)i[c]=a[c];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},80763:function(e,t,a){a.r(t),a.d(t,{frontMatter:function(){return i},contentTitle:function(){return l},metadata:function(){return s},toc:function(){return c},default:function(){return m}});var n=a(87462),r=a(63366),o=(a(67294),a(3905)),i={title:"Saving BitmapData to the Camera Roll",sidebar_label:"Saving BitmapData to the Camera Roll"},l=void 0,s={unversionedId:"image/saving-bitmapdata-to-the-camera-roll",id:"image/saving-bitmapdata-to-the-camera-roll",isDocsHomePage:!1,title:"Saving BitmapData to the Camera Roll",description:"Encoding bitmap data to a file can be a slow process when using AS3 operations.",source:"@site/docs/image/saving-bitmapdata-to-the-camera-roll.md",sourceDirName:"image",slug:"/image/saving-bitmapdata-to-the-camera-roll",permalink:"/docs/image/saving-bitmapdata-to-the-camera-roll",tags:[],version:"current",frontMatter:{title:"Saving BitmapData to the Camera Roll",sidebar_label:"Saving BitmapData to the Camera Roll"},sidebar:"image",previous:{title:"Decoding ByteArray to BitmapData",permalink:"/docs/image/decoding-bytearray-to-bitmapdata"},next:{title:"Transformations",permalink:"/docs/image/transformations"}},c=[{value:"Authorisation",id:"authorisation",children:[]},{value:"Example",id:"example",children:[]}],p={toc:c};function m(e){var t=e.components,a=(0,r.Z)(e,["components"]);return(0,o.kt)("wrapper",(0,n.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Encoding bitmap data to a file can be a slow process when using AS3 operations.\nThis extension provides functionality to use the native encoders to save ",(0,o.kt)("inlineCode",{parentName:"p"},"BitmapData"),"\ndirectly to the user's Camera Roll allowing them to have access to this image\nthrough their gallery application (Photos, Gallery, etc)."),(0,o.kt)("p",null,"This operation is asynchronous. You will receive an event when the operation completes."),(0,o.kt)("h2",{id:"authorisation"},"Authorisation"),(0,o.kt)("p",null,'In order to save to the camera roll you should make sure that the user has granted\nyour application permission to save to the camera roll. On Android this is a "dangerous"\npermission and requires runtime permission. On iOS it should always be granted.'),(0,o.kt)("p",null,"Take a look at the ",(0,o.kt)("a",{parentName:"p",href:"request-authorisation"},"Request Authorisation")," section for more information."),(0,o.kt)("h2",{id:"example"},"Example"),(0,o.kt)("p",null,"This example uses an embedded image asset in the class ",(0,o.kt)("inlineCode",{parentName:"p"},"SampleImage"),"."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-actionscript"},"var image:Bitmap = new SampleImage() as Bitmap;\n    \nImage.service.addEventListener( ImageEvent.SAVE_TO_CAMERAROLL_COMPLETE, completeHandler );\nImage.service.addEventListener( ImageEvent.SAVE_TO_CAMERAROLL_ERROR, errorHandler );\nImage.service.saveToCameraRoll( image.bitmapData );\n")),(0,o.kt)("p",null,"You will receive either an ",(0,o.kt)("inlineCode",{parentName:"p"},"ImageEvent.SAVE_TO_CAMERAROLL_COMPLETE")," event\nor an ",(0,o.kt)("inlineCode",{parentName:"p"},"ImageEvent.SAVE_TO_CAMERAROLL_ERROR")," event:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-actionscript"},'private function completeHandler( event:ImageEvent ):void\n{\n    trace( "saveToCameraRoll : complete" );\n}\n\nprivate function errorHandler( event:ImageEvent ):void\n{\n    trace( "saveToCameraRoll : error: "+event.error );\n}\n')))}m.isMDXComponent=!0}}]);
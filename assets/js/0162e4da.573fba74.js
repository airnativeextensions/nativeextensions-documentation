"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[85684],{28453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>r});var t=i(96540);const s={},c=t.createContext(s);function o(e){const n=t.useContext(c);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(c.Provider,{value:n},e.children)}},76739:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>r,default:()=>d,frontMatter:()=>o,metadata:()=>t,toc:()=>h});const t=JSON.parse('{"id":"speech/recognition","title":"Speech Recognition","description":"All speech recognition functionality is handled through the SpeechRecogniser interface which can be accessed through the recogniser property on the main extension: Speech.instance.recogniser.","source":"@site/docs/speech/recognition.md","sourceDirName":"speech","slug":"/speech/recognition","permalink":"/docs/speech/recognition","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Speech Recognition","sidebar_label":"Speech Recognition"},"sidebar":"speech","previous":{"title":"Text to Speech","permalink":"/docs/speech/texttospeech"},"next":{"title":"changelog","permalink":"/docs/speech/changelog"}}');var s=i(74848),c=i(28453);const o={title:"Speech Recognition",sidebar_label:"Speech Recognition"},r=void 0,a={},h=[{value:"Start listening",id:"start-listening",level:2},{value:"Options",id:"options",level:2},{value:"Listening",id:"listening",level:2},{value:"Stop listening",id:"stop-listening",level:2}];function l(e){const n={code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,c.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["All speech recognition functionality is handled through the ",(0,s.jsx)(n.code,{children:"SpeechRecogniser"})," interface which can be accessed through the ",(0,s.jsx)(n.code,{children:"recogniser"})," property on the main extension: ",(0,s.jsx)(n.code,{children:"Speech.instance.recogniser"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"start-listening",children:"Start listening"}),"\n",(0,s.jsxs)(n.p,{children:["To process audio from the microphone call the ",(0,s.jsx)(n.code,{children:"startListening()"})," method. This will activate an audio recording session and start passing the audio through the speech recogniser."]}),"\n",(0,s.jsx)(n.p,{children:"This process may dispatch the following events:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"SpeechRecogniserEvent.RESULT"}),": When the recogniser decodes audio to text;"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"SpeechRecogniserEvent.ERROR"}),": If an error occurs;"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-actionscript",children:'Speech.instance.recogniser.addEventListener( SpeechRecogniserEvent.RESULT, resultHandler );\nSpeech.instance.recogniser.addEventListener( SpeechRecogniserEvent.ERROR, errorHandler );\nSpeech.instance.recogniser.startListening();\n\nfunction resultHandler( event:SpeechRecogniserEvent ):void\n{\n    trace( "result: " + event.result.formattedString );\n}\n\nfunction errorHandler( event:SpeechRecogniserEvent ):void\n{\n    trace( "errorHandler [" + event.errorCode + "]:" + event.error )\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"startListening()"})," will return a ",(0,s.jsx)(n.code,{children:"Boolean"})," value, indicating whether the process was started successfully. It may return ",(0,s.jsx)(n.code,{children:"false"})," if recognition is not supported or there was an error creating the audio session. (An error event may also be dispatched depending on the error)."]}),"\n",(0,s.jsxs)(n.p,{children:["On a ",(0,s.jsx)(n.code,{children:"SpeechRecogniserEvent.RESULT"})," event there is a ",(0,s.jsx)(n.code,{children:"result"})," property which is an instance of the ",(0,s.jsx)(n.code,{children:"SpeechRecogniserResult"})," class. This class contains a ",(0,s.jsx)(n.code,{children:"formattedString"})," representing all the detected speech in the audio. It also contains a ",(0,s.jsx)(n.code,{children:"segments"})," array representing each of the individual detected words."]}),"\n",(0,s.jsxs)(n.p,{children:["On a ",(0,s.jsx)(n.code,{children:"SpeechRecogniserEvent.ERROR"})," there will be an ",(0,s.jsx)(n.code,{children:"errorCode"})," that can be identified from the definitions in the ",(0,s.jsx)(n.code,{children:"SpeechRecogniserError"})," class."]}),"\n",(0,s.jsx)(n.h2,{id:"options",children:"Options"}),"\n",(0,s.jsxs)(n.p,{children:["Speech recognition has a few options you can set via an instance of the ",(0,s.jsx)(n.code,{children:"SpeechRecogniserOptions"})," class passed as the parameter to the ",(0,s.jsx)(n.code,{children:"startListening()"})," method."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-actionscript",children:"var options:SpeechRecogniserOptions = new SpeechRecogniserOptions();\n\nSpeech.instance.recogniser.startListening( options );\n"})}),"\n",(0,s.jsx)(n.p,{children:'Using the options you can control whether you prefer "on device" or "network" recognition:'}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-actionscript",children:"var options:SpeechRecogniserOptions = new SpeechRecogniserOptions()\n    .setPreferOnDevice( false );\n"})}),"\n",(0,s.jsx)(n.p,{children:"The default prefers on device, so if you want to use network enabled speech recognition (generally more accurate) you should disable this option as above."}),"\n",(0,s.jsx)(n.h2,{id:"listening",children:"Listening"}),"\n",(0,s.jsxs)(n.p,{children:["You can check the ",(0,s.jsx)(n.code,{children:"isListening"})," flag at any point to determine if the extension is currently actively listening for speech."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-actionscript",children:"if (Speech.instance.recogniser.isListening)\n{\n    // extension is listening\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"stop-listening",children:"Stop listening"}),"\n",(0,s.jsxs)(n.p,{children:["Once you have completed your recognition process you must call ",(0,s.jsx)(n.code,{children:"stopListening()"})," to end the audio session and stop the speech recognition task."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-actionscript",children:"Speech.instance.recogniser.stopListening();\n"})}),"\n",(0,s.jsx)(n.p,{children:"You can remove your event listeners at this point."})]})}function d(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}}}]);
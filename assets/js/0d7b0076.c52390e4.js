"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[96603],{8959:(n,i,e)=>{e.r(i),e.d(i,{assets:()=>d,contentTitle:()=>l,default:()=>p,frontMatter:()=>r,metadata:()=>t,toc:()=>s});const t=JSON.parse('{"id":"inappbilling/migration-v15.4","title":"Migration","description":"Version 15.4","source":"@site/docs/inappbilling/migration-v15.4.md","sourceDirName":"inappbilling","slug":"/inappbilling/migration-v15.4","permalink":"/docs/inappbilling/migration-v15.4","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Migration","sidebar_label":"Migration v15.4"},"sidebar":"inappbilling","previous":{"title":"Migration v16.0","permalink":"/docs/inappbilling/migration-v16.0"},"next":{"title":"Migration v15","permalink":"/docs/inappbilling/migration-v15"}}');var o=e(74848),a=e(28453);const r={title:"Migration",sidebar_label:"Migration v15.4"},l=void 0,d={},s=[{value:"Version 15.4",id:"version-154",level:2},{value:"Google Play Billing",id:"google-play-billing",level:3}];function c(n){const i={admonition:"admonition",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,a.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.h2,{id:"version-154",children:"Version 15.4"}),"\n",(0,o.jsx)(i.h3,{id:"google-play-billing",children:"Google Play Billing"}),"\n",(0,o.jsx)(i.p,{children:"Version 15.4 implemented Google Play Billing client library v6.2.1."}),"\n",(0,o.jsx)(i.admonition,{title:"Android only",type:"note",children:(0,o.jsx)(i.p,{children:"These changes only apply to Android and Google Play"})}),"\n",(0,o.jsx)(i.admonition,{title:"apm",type:"note",children:(0,o.jsx)(i.p,{children:"If you are using apm then all these changes will be handled for you. This only applies if you are manually updating your manifest additions."})}),"\n",(0,o.jsxs)(i.p,{children:["Firstly you will need to update the billing client version in your ",(0,o.jsx)(i.code,{children:"manifest"})," additions:"]}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-xml",children:'<meta-data android:name="com.google.android.play.billingclient.version" android:value="6.2.1" />\n'})}),"\n",(0,o.jsx)(i.p,{children:"Next add a new activity:"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-xml",children:'<activity\n\tandroid:name="com.android.billingclient.api.ProxyBillingActivityV2"\n\tandroid:configChanges="keyboard|keyboardHidden|screenLayout|screenSize|orientation"\n\tandroid:exported="false"\n\tandroid:theme="@android:style/Theme.Translucent.NoTitleBar" />\n'})}),"\n",(0,o.jsx)(i.p,{children:"Also ensure you have set the minimum sdk version to 24 or higher."}),"\n",(0,o.jsx)(i.p,{children:"Your manifest should now contain all the following:"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-xml",children:'<manifest android:installLocation="auto">\n\t<uses-sdk android:minSdkVersion="21" android:targetSdkVersion="34"/>\n\n\t<uses-permission android:name="android.permission.INTERNET"/>\n\t<uses-permission android:name="com.android.vending.BILLING" />\n\n\t<queries>\n\t\t<intent>\n\t\t\t<action android:name="com.android.vending.billing.InAppBillingService.BIND" />\n\t\t</intent>\n\t</queries>\n\n\t<application>\n\n\t\t<activity \n\t\t\tandroid:name="com.distriqt.extension.inappbilling.activities.ProductViewActivity" \n\t\t\tandroid:exported="false"\n\t\t\tandroid:theme="@android:style/Theme.Translucent.NoTitleBar" />\n\n\n\t\t\x3c!-- GOOGLE PLAY BILLING --\x3e\n\t\t<meta-data android:name="com.google.android.play.billingclient.version" android:value="6.2.1" />\n\t\t<activity\n\t\t\tandroid:name="com.android.billingclient.api.ProxyBillingActivity"\n\t\t\tandroid:configChanges="keyboard|keyboardHidden|screenLayout|screenSize|orientation"\n\t\t\tandroid:exported="false"\n\t\t\tandroid:theme="@android:style/Theme.Translucent.NoTitleBar" />\n\t\t<activity\n            android:name="com.android.billingclient.api.ProxyBillingActivityV2"\n            android:configChanges="keyboard|keyboardHidden|screenLayout|screenSize|orientation"\n            android:exported="false"\n            android:theme="@android:style/Theme.Translucent.NoTitleBar" />\n\n\n\t</application>\n\n</manifest>\n'})})]})}function p(n={}){const{wrapper:i}={...(0,a.R)(),...n.components};return i?(0,o.jsx)(i,{...n,children:(0,o.jsx)(c,{...n})}):c(n)}},28453:(n,i,e)=>{e.d(i,{R:()=>r,x:()=>l});var t=e(96540);const o={},a=t.createContext(o);function r(n){const i=t.useContext(a);return t.useMemo(function(){return"function"==typeof n?n(i):{...i,...n}},[i,n])}function l(n){let i;return i=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:r(n.components),t.createElement(a.Provider,{value:i},n.children)}}}]);
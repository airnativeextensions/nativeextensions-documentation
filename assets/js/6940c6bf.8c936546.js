"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[70287],{28453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>r});var t=i(96540);const o={},s=t.createContext(o);function a(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),t.createElement(s.Provider,{value:n},e.children)}},79625:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>p,contentTitle:()=>r,default:()=>l,frontMatter:()=>a,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"facebookapi-legacy/app-links---incoming-links","title":"App Links - Incoming Links","description":"This is the legacy extension documentation. Find the new documentation here","source":"@site/docs/facebookapi-legacy/app-links---incoming-links.md","sourceDirName":"facebookapi-legacy","slug":"/facebookapi-legacy/app-links---incoming-links","permalink":"/docs/facebookapi-legacy/app-links---incoming-links","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"App Links - Incoming Links","sidebar_label":"App Links - Incoming Links"},"sidebar":"facebookapi-legacy","previous":{"title":"App Links - Overview","permalink":"/docs/facebookapi-legacy/app-links---overview"},"next":{"title":"Games - Overview","permalink":"/docs/facebookapi-legacy/games---overview"}}');var o=i(74848),s=i(28453);const a={title:"App Links - Incoming Links",sidebar_label:"App Links - Incoming Links"},r=void 0,p={},d=[{value:"Support Incoming Links to Your App",id:"support-incoming-links-to-your-app",level:2},{value:"iOS Info Additions",id:"ios-info-additions",level:3},{value:"Android Manifest Additions",id:"android-manifest-additions",level:3},{value:"Create an App Link",id:"create-an-app-link",level:2},{value:"Listening for App Link Events",id:"listening-for-app-link-events",level:2},{value:"Testing",id:"testing",level:2},{value:"Testing Deferred Links",id:"testing-deferred-links",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.admonition,{type:"caution",children:(0,o.jsxs)(n.p,{children:["This is the legacy extension documentation. Find the new documentation ",(0,o.jsx)(n.a,{href:"../facebookapi/",children:"here"})]})}),"\n",(0,o.jsx)(n.h2,{id:"support-incoming-links-to-your-app",children:"Support Incoming Links to Your App"}),"\n",(0,o.jsx)(n.p,{children:"When people tap the Open / Play button on the invite or the Is Ready installation notification,\nthey will be taken to your app. The URL defined in the App Link will be passed in."}),"\n",(0,o.jsx)(n.p,{children:"In order to support incoming links you need to add some additions to your application descriptor,\nthat will"}),"\n",(0,o.jsx)(n.h3,{id:"ios-info-additions",children:"iOS Info Additions"}),"\n",(0,o.jsxs)(n.p,{children:["You'll need to add a custom url that you will use to open your application. In the following\nyou would be able to open the application using the ",(0,o.jsx)(n.code,{children:"distriqtTestApp://"})," url."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:"<key>CFBundleURLTypes</key>\n<array>\n\t<dict>\n\t\t<key>CFBundleURLSchemes</key>\n\t\t<array>\n\t\t\t<string>fbXXXXXXXXXX</string>\n\t\t\t<string>distriqtTestApp</string>\n\t\t</array>\n\t</dict>\n</array>\n"})}),"\n",(0,o.jsxs)(n.p,{children:["This should be added to the ",(0,o.jsx)(n.code,{children:"InfoAdditions"})," node in your application descriptor."]}),"\n",(0,o.jsx)(n.h3,{id:"android-manifest-additions",children:"Android Manifest Additions"}),"\n",(0,o.jsx)(n.p,{children:"To respond to opening links for your custom URL scheme, add an intent-filter for that specific URL."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:'<intent-filter>\n\t<action android:name="android.intent.action.VIEW" />\n\t<category android:name="android.intent.category.DEFAULT" />\n\t<category android:name="android.intent.category.BROWSABLE" />\n\t\x3c!-- Accepts URIs "distriqtTestApp://" --\x3e\n\t<data android:scheme="distriqtTestApp" />\n</intent-filter>\n'})}),"\n",(0,o.jsxs)(n.p,{children:["This should be added within the ",(0,o.jsx)(n.code,{children:"application"})," node of your manifest additions."]}),"\n",(0,o.jsx)(n.h2,{id:"create-an-app-link",children:"Create an App Link"}),"\n",(0,o.jsx)(n.p,{children:"You can use Facebook to host an App Link for you."}),"\n",(0,o.jsxs)(n.p,{children:["Go to the ",(0,o.jsx)(n.a,{href:"https://developers.facebook.com/quickstarts/?platform=app-links-host",children:"Quick Start"}),'\nand fill out the "Enter App Data to Build Your App Link" section for iOS and Android.']}),"\n",(0,o.jsx)(n.p,{children:"It's important to use the url scheme you entered into your application descriptor here."}),"\n",(0,o.jsx)(n.h2,{id:"listening-for-app-link-events",children:"Listening for App Link Events"}),"\n",(0,o.jsxs)(n.p,{children:["Your application will be notified of App Link openings using the ",(0,o.jsx)(n.code,{children:"AppLinkEvent"}),"."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-actionscript",children:"FacebookAPI.service.appLinks.addEventListener( AppLinkEvent.APP_LINK, appLinkHandler );\n"})}),"\n",(0,o.jsx)(n.p,{children:"When this event is triggered it will contain details on the App Link in the event:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-actionscript",children:"private function appLinkHandler( event:AppLinkEvent ):void \n{\n\t// event.appLink will contain the details on the App Link. If null the link could not be processed\n\tif (event.appLink != null)\n\t{\n\t\ttrace( \n\t\t\tJSON.stringify( \n\t\t\t\tevent.appLink.data \n\t\t\t));\n\t}\n}\n"})}),"\n",(0,o.jsxs)(n.p,{children:["If you wish to return to the application that referred your application you can call the\n",(0,o.jsx)(n.code,{children:"openReferer"})," function and pass in the same App Link that was passed in the event:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-actionscript",children:"FacebookAPI.service.appLinks.openReferer( appLink );\n"})}),"\n",(0,o.jsx)(n.h2,{id:"testing",children:"Testing"}),"\n",(0,o.jsx)(n.p,{children:'The easiest way to test, is to copy the url generated above and create a private "Group"\non Facebook with your testers. Post the link into the group and then access the group\nthrough the Facebook app on your device.'}),"\n",(0,o.jsx)(n.p,{children:"Clicking the link should open your application."}),"\n",(0,o.jsx)(n.h2,{id:"testing-deferred-links",children:"Testing Deferred Links"}),"\n",(0,o.jsxs)(n.p,{children:['You can test a link by using the "Deep Link Tester" in the ',(0,o.jsx)(n.a,{href:"https://developers.facebook.com/tools/app-ads-helper/",children:"Facebook Ads Helper"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:['Select your application and go to the "Deep Link Tester" and click "Test Deep Link".\nEnter the url for your app eg ',(0,o.jsx)(n.code,{children:"distriqtTestApp://link"})," and you'll get a notification in your\nFacebook application."]}),"\n",(0,o.jsx)(n.p,{children:"You must be logged into the Facebook app on your device with your developer account in\norder for this to work."})]})}function l(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[680],{735:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return r})),t.d(n,"metadata",(function(){return s})),t.d(n,"rightToc",(function(){return d})),t.d(n,"default",(function(){return l}));var i=t(2),o=t(6),a=(t(0),t(854)),r={title:"Auth - Add the extensions",sidebar_label:"Add the extensions"},s={unversionedId:"firebase/auth/add-the-extensions",id:"firebase/auth/add-the-extensions",isDocsHomePage:!1,title:"Auth - Add the extensions",description:"Required Extensions",source:"@site/docs/firebase/auth/add-the-extensions.md",slug:"/firebase/auth/add-the-extensions",permalink:"/docs/firebase/auth/add-the-extensions",version:"current",sidebar_label:"Add the extensions",sidebar:"firebase",previous:{title:"Auth - Introduction",permalink:"/docs/firebase/auth/introduction"},next:{title:"Auth - Initialise",permalink:"/docs/firebase/auth/initialise"}},d=[{value:"Required Extensions",id:"required-extensions",children:[{value:"Firebase Auth",id:"firebase-auth",children:[]}]},{value:"Extension IDs",id:"extension-ids",children:[]},{value:"Android Manifest Additions",id:"android-manifest-additions",children:[]},{value:"iOS Info Additions",id:"ios-info-additions",children:[]}],c={rightToc:d};function l(e){var n=e.components,t=Object(o.a)(e,["components"]);return Object(a.b)("wrapper",Object(i.a)({},c,t,{components:n,mdxType:"MDXLayout"}),Object(a.b)("h2",{id:"required-extensions"},"Required Extensions"),Object(a.b)("p",null,"You should have been through the setup of the Firebase Core before attempting to proceed with Authentication."),Object(a.b)("p",null,"Make sure you have added all the extensions required for the Firebase Core extension as outlined ",Object(a.b)("a",Object(i.a)({parentName:"p"},{href:"../core/add-the-extensions"}),"here"),"."),Object(a.b)("h3",{id:"firebase-auth"},"Firebase Auth"),Object(a.b)("p",null,"The only required additional ANE is the Auth ANE located in this repository:"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("a",Object(i.a)({parentName:"li"},{href:"https://github.com/distriqt/ANE-Firebase/raw/master/lib/com.distriqt.firebase.Auth.ane"}),Object(a.b)("inlineCode",{parentName:"a"},"com.distriqt.firebase.Auth")))),Object(a.b)("p",null,"This ANE contains all the required libraries for the main Firebase authentication functionality,\nhowever some of the authentication providers (such as Facebook and Google) may require additional\nextensions. We list these in the documentation in each of the specific providers so you only\ninclude the required extensions for your situation."),Object(a.b)("p",null,"You can access all the Firebase extensions here: ",Object(a.b)("a",Object(i.a)({parentName:"p"},{href:"https://github.com/distriqt/ANE-Firebase"}),"https://github.com/distriqt/ANE-Firebase"),"."),Object(a.b)("h2",{id:"extension-ids"},"Extension IDs"),Object(a.b)("p",null,"The following should be added to your ",Object(a.b)("inlineCode",{parentName:"p"},"extensions")," node in your application descriptor to identify all the required ANEs in your application:"),Object(a.b)("pre",null,Object(a.b)("code",Object(i.a)({parentName:"pre"},{className:"language-xml"}),"<extensions>\n    <extensionID>com.distriqt.Core</extensionID>\n    <extensionID>com.distriqt.playservices.Base</extensionID>\n    <extensionID>com.distriqt.playservices.AdsIdentifier</extensionID>\n\n    <extensionID>com.google.protobuflite</extensionID>\n    <extensionID>com.google.firebase.core</extensionID>\n    <extensionID>androidx.appcompat</extensionID>\n    <extensionID>androidx.core</extensionID>\n    <extensionID>androidx.multidex</extensionID>\n\n    <extensionID>com.distriqt.Firebase</extensionID>\n    <extensionID>com.distriqt.firebase.Auth</extensionID>\n\n    <extensionID>com.distriqt.CustomResources</extensionID>\n</extensions>\n")),Object(a.b)("hr",null),Object(a.b)("h2",{id:"android-manifest-additions"},"Android Manifest Additions"),Object(a.b)("p",null,"There are some small additions required to the manifest for Firebase Auth."),Object(a.b)("p",null,"Firstly add the following activity to the application node in the manifest additions:"),Object(a.b)("pre",null,Object(a.b)("code",Object(i.a)({parentName:"pre"},{className:"language-xml"}),'\x3c!-- FIREBASE AUTH --\x3e\n<activity\n    android:name="com.google.firebase.auth.internal.GenericIdpActivity"\n    android:excludeFromRecents="true"\n    android:exported="true"\n    android:launchMode="singleTask"\n    android:theme="@android:style/Theme.Translucent.NoTitleBar" >\n    <intent-filter>\n        <action android:name="android.intent.action.VIEW" />\n\n        <category android:name="android.intent.category.DEFAULT" />\n        <category android:name="android.intent.category.BROWSABLE" />\n\n        <data\n            android:host="firebase.auth"\n            android:path="/"\n            android:scheme="genericidp" />\n    </intent-filter>\n</activity>\n<activity\n    android:name="com.google.firebase.auth.internal.RecaptchaActivity"\n    android:excludeFromRecents="true"\n    android:exported="true"\n    android:launchMode="singleTask"\n    android:theme="@android:style/Theme.Translucent.NoTitleBar" >\n    <intent-filter>\n        <action android:name="android.intent.action.VIEW" />\n        <category android:name="android.intent.category.DEFAULT" />\n        <category android:name="android.intent.category.BROWSABLE" />\n        <data\n            android:host="firebase.auth"\n            android:path="/"\n            android:scheme="recaptcha" />\n    </intent-filter>\n</activity>\n<service\n    android:name="com.google.firebase.auth.api.fallback.service.FirebaseAuthFallbackService"\n    android:enabled="true"\n    android:exported="false" >\n    <intent-filter>\n        <action android:name="com.google.firebase.auth.api.gms.service.START" />\n        <category android:name="android.intent.category.DEFAULT" />\n    </intent-filter>\n</service>\n')),Object(a.b)("p",null,"Then locate the ",Object(a.b)("inlineCode",{parentName:"p"},"ComponentDiscoveryService")," service you added as part of the core Firebase manfiest additions and add the following meta data tag:"),Object(a.b)("pre",null,Object(a.b)("code",Object(i.a)({parentName:"pre"},{className:"language-xml"}),'<meta-data\n    android:name="com.google.firebase.components:com.google.firebase.auth.FirebaseAuthRegistrar"\n    android:value="com.google.firebase.components.ComponentRegistrar" />\n')),Object(a.b)("p",null,"It should now appear like the following at a minimum (it may have other meta-data tags from other components):"),Object(a.b)("pre",null,Object(a.b)("code",Object(i.a)({parentName:"pre"},{className:"language-xml"}),'<service android:name="com.google.firebase.components.ComponentDiscoveryService" \n        android:directBootAware="true"\n        android:exported="false">\n    <meta-data\n        android:name="com.google.firebase.components:com.google.firebase.auth.FirebaseAuthRegistrar"\n        android:value="com.google.firebase.components.ComponentRegistrar" />\n\n    <meta-data\n        android:name="com.google.firebase.components:com.google.firebase.analytics.connector.internal.AnalyticsConnectorRegistrar"\n        android:value="com.google.firebase.components.ComponentRegistrar" />\n    <meta-data\n        android:name="com.google.firebase.components:com.google.firebase.installations.FirebaseInstallationsRegistrar"\n        android:value="com.google.firebase.components.ComponentRegistrar" />\n    <meta-data\n        android:name="com.google.firebase.components:com.google.firebase.dynamicloading.DynamicLoadingRegistrar"\n        android:value="com.google.firebase.components.ComponentRegistrar" />\n</service>\n')),Object(a.b)("h2",{id:"ios-info-additions"},"iOS Info Additions"),Object(a.b)("p",null,"No additional additions are required. There is an exception with Phone Authentication\nand the details of these additions are in the documentation for that method."))}l.isMDXComponent=!0},854:function(e,n,t){"use strict";t.d(n,"a",(function(){return u})),t.d(n,"b",(function(){return p}));var i=t(0),o=t.n(i);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function d(e,n){if(null==e)return{};var t,i,o=function(e,n){if(null==e)return{};var t,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)t=a[i],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)t=a[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var c=o.a.createContext({}),l=function(e){var n=o.a.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):s(s({},n),e)),t},u=function(e){var n=l(e.components);return o.a.createElement(c.Provider,{value:n},e.children)},b={inlineCode:"code",wrapper:function(e){var n=e.children;return o.a.createElement(o.a.Fragment,{},n)}},m=o.a.forwardRef((function(e,n){var t=e.components,i=e.mdxType,a=e.originalType,r=e.parentName,c=d(e,["components","mdxType","originalType","parentName"]),u=l(t),m=i,p=u["".concat(r,".").concat(m)]||u[m]||b[m]||a;return t?o.a.createElement(p,s(s({ref:n},c),{},{components:t})):o.a.createElement(p,s({ref:n},c))}));function p(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var a=t.length,r=new Array(a);r[0]=m;var s={};for(var d in n)hasOwnProperty.call(n,d)&&(s[d]=n[d]);s.originalType=e,s.mdxType="string"==typeof e?e:i,r[1]=s;for(var c=2;c<a;c++)r[c]=t[c];return o.a.createElement.apply(null,r)}return o.a.createElement.apply(null,t)}m.displayName="MDXCreateElement"}}]);
"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[72252],{7802:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>c,default:()=>l,frontMatter:()=>i,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"windowsstore/products","title":"Products","description":"Query product information","source":"@site/docs/windowsstore/products.md","sourceDirName":"windowsstore","slug":"/windowsstore/products","permalink":"/docs/windowsstore/products","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Products","sidebar_label":"Products"},"sidebar":"windowsstore","previous":{"title":"Windows-Desktop App Converter","permalink":"/docs/windowsstore/windows-desktop-app-converter"},"next":{"title":"Purchases","permalink":"/docs/windowsstore/purchases"}}');var o=n(74848),s=n(28453);const i={title:"Products",sidebar_label:"Products"},c=void 0,d={},a=[{value:"Query product information",id:"query-product-information",level:2},{value:"Product Types",id:"product-types",level:2},{value:"Skus",id:"skus",level:2}];function u(e){const t={blockquote:"blockquote",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.h2,{id:"query-product-information",children:"Query product information"}),"\n",(0,o.jsxs)(t.p,{children:["To query information about your known products you call the ",(0,o.jsx)(t.code,{children:"getProducts"})," function with an array of store product ids."]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-actionscript",children:'WindowsStore.service.getProducts( [ "XXXXXXXXXXXX", "XXXXXXXXXXXX" ] );\n'})}),"\n",(0,o.jsx)(t.p,{children:"These id's will be set by the store and available in the dashboard when you create your products."}),"\n",(0,o.jsx)(t.p,{children:"This call will result in one of two possible events:"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.code,{children:"ProductEvent.GET_PRODUCTS_COMPLETE"}),": Dispatched if product information retrieval was successful;"]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.code,{children:"ProductEvent.GET_PRODUCTS_ERROR"}),": Dispatched if an error occurred."]}),"\n"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-actionscript",children:'WindowsStore.service.addEventListener( ProductEvent.GET_PRODUCTS_COMPLETE, getProducts_completeHandler );\nWindowsStore.service.addEventListener( ProductEvent.GET_PRODUCTS_ERROR, getProducts_errorHandler );\n\t\t\t\t\nWindowsStore.service.getProducts( [ "XXXXXXXXXXXX", "XXXXXXXXXXXX" ] );\n\n\nfunction getProducts_completeHandler( event:ProductEvent ):void \n{\n    for each (var product:Product in event.products)\n    {\n        trace( "product: [" + product.id + "]:: "+product.priceString+" "+product.description );\n    }\n}\n\nfunction getProducts_errorHandler( event:ProductEvent ):void \n{\n    trace( "ERROR: ["+event.errorCode+"] : "+ event.errorMessage );\n}\n'})}),"\n",(0,o.jsx)(t.h2,{id:"product-types",children:"Product Types"}),"\n",(0,o.jsxs)(t.p,{children:["There are several types of product as indicated by the ",(0,o.jsx)(t.code,{children:"type"})," property of the ",(0,o.jsx)(t.code,{children:"Product"})," object. It will be one of the following:"]}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.code,{children:"Consumable"}),": A store managed consumable product that can be purchased, used, and purchased again. The store keeps a track of the user's balance for these types of products."]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.code,{children:"UnmanagedConsumable"}),": A developer managed consumable product that can be purchased, used, and purchased again. The store does not track the user's total for these types."]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.code,{children:"Durable"}),": A product that persists for the lifetime specified in the dashboard. ",(0,o.jsx)(t.strong,{children:"Subscription products will have this type"}),"."]}),"\n"]}),"\n",(0,o.jsx)(t.h2,{id:"skus",children:"Skus"}),"\n",(0,o.jsx)(t.p,{children:"Each product may have multiple product skus associated with it, indicating price changes or variations of the product."}),"\n",(0,o.jsx)(t.p,{children:"Importantly this SKU information contains whether the product is a subscription and billing information about the subscription (eg billing period and whether it has a trial period)."}),"\n",(0,o.jsxs)(t.p,{children:["This information is contained in the ",(0,o.jsx)(t.code,{children:"skus"})," array of a ",(0,o.jsx)(t.code,{children:"Product"}),":"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-actionscript",children:"for each (var sku:ProductSku in product.skus)\n{\n\n    if (sku.isSubscription)\n    {\n        // Product is a subscription\n        if (sku.subscriptionInfo.hasTrialPeriod)\n        {\n            // Subscription has a trial\n        }\n    }\n    \n}\n"})}),"\n",(0,o.jsxs)(t.blockquote,{children:["\n",(0,o.jsx)(t.p,{children:'In our tests it seems there are sometimes an odd "non-subscription" SKU created for a subscription product. We aren\'t sure as to the source or reason for this SKU, so always ensure you check all the SKUs for the subscription information.'}),"\n"]})]})}function l(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(u,{...e})}):u(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>c});var r=n(96540);const o={},s=r.createContext(o);function i(e){const t=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),r.createElement(s.Provider,{value:t},e.children)}}}]);
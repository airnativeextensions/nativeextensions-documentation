"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[37509],{28453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>r});var t=i(96540);const s={},o=t.createContext(s);function a(e){const n=t.useContext(o);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),t.createElement(o.Provider,{value:n},e.children)}},52818:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"braze/integration","title":"Integration","description":"Configure your application","source":"@site/docs/braze/integration.md","sourceDirName":"braze","slug":"/braze/integration","permalink":"/docs/braze/integration","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Integration","sidebar_label":"Integration"},"sidebar":"braze","previous":{"title":"AIR","permalink":"/docs/braze/add-the-extension"},"next":{"title":"Analytics","permalink":"/docs/braze/analytics"}}');var s=i(74848),o=i(28453);const a={title:"Integration",sidebar_label:"Integration"},r=void 0,l={},c=[{value:"Configure your application",id:"configure-your-application",level:2},{value:"Tracking user sessions",id:"tracking-user-sessions",level:2},{value:"Test the integration",id:"test-the-integration",level:2},{value:"Logging",id:"logging",level:2},{value:"Advertising Identifier (Optional)",id:"advertising-identifier-optional",level:2}];function d(e){const n={a:"a",code:"code",h2:"h2",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"configure-your-application",children:"Configure your application"}),"\n",(0,s.jsxs)(n.p,{children:["This extension requires you call the ",(0,s.jsx)(n.code,{children:"Core.init()"})," function at some point early in your application, generally at the same time as the initialisation of this extension. If you are using other extensions that also require the Core extension, you only need to initialise it once, before initialising any of our extensions."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-actionscript",children:"Core.init();\n"})}),"\n",(0,s.jsxs)(n.p,{children:["To configure the Braze SDK you will call ",(0,s.jsx)(n.code,{children:"configure()"})," passing an instance of the ",(0,s.jsx)(n.code,{children:"BrazeConfig"})," class which contains all the configuration information for your application."]}),"\n",(0,s.jsx)(n.p,{children:"Importantly you must set the apiKey and endpoint from the settings of your application in the Braze console:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-actionscript",children:'var options:BrazeConfig = new BrazeConfig()\n        .setApiKey( "XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX" )\n        .setCustomEndpoint( "sdk.XXX-01.braze.eu" );\n\nBraze.instance.configure( options );\n'})}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"BrazeConfig"})," class also contains a range of other configuration options."]}),"\n",(0,s.jsx)(n.h2,{id:"tracking-user-sessions",children:"Tracking user sessions"}),"\n",(0,s.jsx)(n.p,{children:"The sessions and in-app messaging subscriptions can optionally be handled be automatically."}),"\n",(0,s.jsxs)(n.p,{children:["To enable automatic handling call ",(0,s.jsx)(n.code,{children:"setSessionHandlingEnabled( true )"}),", and  ",(0,s.jsx)(n.code,{children:"setInAppMessagingRegistrationEnabled(true)"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-actionscript",children:"var options:BrazeConfig = new BrazeConfig()\n        ...\n        .setSessionHandlingEnabled(true)\n        .setInAppMessagingRegistrationEnabled(true)\n;\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The first argument instructs the listener to handle ",(0,s.jsx)(n.code,{children:"openSession()"})," and ",(0,s.jsx)(n.code,{children:"closeSession()"})," calls. The second argument instructs the listener to handle ",(0,s.jsx)(n.code,{children:"inAppMessaging.register()"})," and ",(0,s.jsx)(n.code,{children:"inAppMessaging.unregister()"})," calls."]}),"\n",(0,s.jsx)(n.p,{children:"If you set these to false, ensure you call the appropriate session open and close calls in your application."}),"\n",(0,s.jsx)(n.h2,{id:"test-the-integration",children:"Test the integration"}),"\n",(0,s.jsx)(n.p,{children:"At this point, you should have session tracking working in your Braze integration. To test this, go to Overview, select your application from the selected app name dropdown (defaulted to \u201cAll Apps\u201d), and set Display Data For to \u201cToday\u201d. Then open your app and refresh the page - your main metrics should all have increased by 1."}),"\n",(0,s.jsx)(n.h2,{id:"logging",children:"Logging"}),"\n",(0,s.jsxs)(n.p,{children:["If you need to debug the Braze SDK calls you can control the log level using the ",(0,s.jsx)(n.code,{children:"setLogLevel()"})," method:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-actionscript",children:"Braze.instance.setLogLevel( BrazeLogLevel.VERBOSE );\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Logging statements can be observed through the ",(0,s.jsx)(n.a,{href:"https://docs.airnativeextensions.com/docs/tutorials/device-logs",children:"native logs"})," (logcat for Android and the Console for iOS)."]}),"\n",(0,s.jsx)(n.h2,{id:"advertising-identifier-optional",children:"Advertising Identifier (Optional)"}),"\n",(0,s.jsxs)(n.p,{children:["The Advertising ID is not automatically collected by the Braze SDK and must be set manually via the ",(0,s.jsx)(n.code,{children:"setAdvertisingId()"})," method."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-actionscript",children:"Braze.instance.setAdvertisingId( advertisingId, isLimitAdTrackingEnabled );\n"})}),"\n",(0,s.jsxs)(n.p,{children:["You can use the ",(0,s.jsx)(n.a,{href:"https://airnativeextensions.com/extension/com.distriqt.IDFA",children:"IDFA"})," extension to retrieve these values if you require them."]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);
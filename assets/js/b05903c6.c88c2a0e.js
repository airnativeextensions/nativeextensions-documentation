"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[34203],{11003:(e,n,t)=>{t.d(n,{A:()=>c});const c=t.p+"assets/images/fb-accountket-responsetype-setting-a5687e71355d8a144f12651139b2ca4b.png"},28453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>a});var c=t(96540);const i={},o=c.createContext(i);function s(e){const n=c.useContext(o);return c.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),c.createElement(o.Provider,{value:n},e.children)}},81470:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>r,contentTitle:()=>a,default:()=>u,frontMatter:()=>s,metadata:()=>c,toc:()=>l});const c=JSON.parse('{"id":"facebookapi-legacy/account-kit---usage","title":"Account Kit - Usage","description":"This is the legacy extension documentation. Find the new documentation here","source":"@site/docs/facebookapi-legacy/account-kit---usage.md","sourceDirName":"facebookapi-legacy","slug":"/facebookapi-legacy/account-kit---usage","permalink":"/docs/facebookapi-legacy/account-kit---usage","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Account Kit - Usage","sidebar_label":"Account Kit - Usage"}}');var i=t(74848),o=t(28453);const s={title:"Account Kit - Usage",sidebar_label:"Account Kit - Usage"},a=void 0,r={},l=[{value:"Support",id:"support",level:2},{value:"Setup",id:"setup",level:2},{value:"Login",id:"login",level:2},{value:"Login with Phone",id:"login-with-phone",level:3},{value:"Login with Email",id:"login-with-email",level:3},{value:"Account Information",id:"account-information",level:2}];function d(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.admonition,{type:"caution",children:(0,i.jsxs)(n.p,{children:["This is the legacy extension documentation. Find the new documentation ",(0,i.jsx)(n.a,{href:"../facebookapi/",children:"here"})]})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Account Kit has been discontinued and has been removed"})}),"\n",(0,i.jsxs)(n.p,{children:["Account Kit was deprecated on March 9, 2020. For more information, see ",(0,i.jsx)(n.a,{href:"https://developers.facebook.com/blog/post/2019/09/09/account-kit-services-no-longer-available-starting-march",children:"Account Kit services no longer available starting in March"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"support",children:"Support"}),"\n",(0,i.jsxs)(n.p,{children:["You can check if Account Kit is supported on the current device by using the ",(0,i.jsx)(n.code,{children:"isSupported"})," flag:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-actionscript",children:"if (FacebookAPI.service.accountKit.isSupported)\n{\n\t// Account Kit is available\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"setup",children:"Setup"}),"\n",(0,i.jsx)(n.p,{children:"Firstly you will need to setup Account Kit specifying the type of response your application\nis configured for."}),"\n",(0,i.jsxs)(n.p,{children:["This is a matter of calling ",(0,i.jsx)(n.code,{children:"setup"})," with the appropriate ",(0,i.jsx)(n.code,{children:"ResponseType"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-actionscript",children:"FacebookAPI.service.accountKit.setup( ResponseType.ACCESS_TOKEN );\n"})}),"\n",(0,i.jsx)(n.p,{children:"There are two types of responses:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"ResponseType.ACCESS_TOKEN"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"ResponseType.AUTHORISATION_CODE"})}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:'Which you use is determined by whether you have enabled the "Enable Client Access Token Flow"\nsetting in your applicaiton:'}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:t(11003).A+"",width:"346",height:"106"})}),"\n",(0,i.jsxs)(n.p,{children:["If you have enabled it use the ",(0,i.jsx)(n.code,{children:"ACCESS_TOKEN"})," type otherwise use the ",(0,i.jsx)(n.code,{children:"AUTHORISATION_CODE"}),".\nIf you use ",(0,i.jsx)(n.code,{children:"AUTHORISATION_CODE"})," you will need to exchange the code for an access token\nusing your server in order to access additional information such as the account details."]}),"\n",(0,i.jsx)(n.h2,{id:"login",children:"Login"}),"\n",(0,i.jsx)(n.p,{children:"Your users can login with either a phone number or email, depending on what you have\nenabled in your application settings."}),"\n",(0,i.jsx)(n.p,{children:"Any of the login processes will dispatch one of the following events:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"LOGIN_WITH_AUTHORISATIONCODE"}),": If login was successful and an authorisation code is available"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"LOGIN_WITH_ACCESSTOKEN"}),": If login was successful and an access token is available"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"CANCELLED"}),": If the user cancelled the login"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"ERROR"}),": If an error occurred during the login"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-actionscript",children:"FacebookAPI.service.accountKit.addEventListener( AccountKitEvent.LOGIN_WITH_AUTHORISATIONCODE, loginAuthorisationCodeHandler );\nFacebookAPI.service.accountKit.addEventListener( AccountKitEvent.LOGIN_WITH_ACCESSTOKEN, loginAccessHandler );\nFacebookAPI.service.accountKit.addEventListener( AccountKitEvent.CANCELLED, cancelledHandler );\nFacebookAPI.service.accountKit.addEventListener( AccountKitEvent.ERROR, errorHandler );\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-actionscript",children:'private function loginAuthorisationCodeHandler( event:AccountKitEvent ):void \n{\n\ttrace( event.type +"::"+event.authorisationCode );\n}\n\nprivate function loginAccessHandler( event:AccountKitEvent ):void \n{\n\ttrace( event.type +"::"+event.accessToken.tokenString );\n}\n\nprivate function cancelledHandler( event:AccountKitEvent ):void \n{\n\ttrace( event.type );\n}\n\nprivate function errorHandler( event:AccountKitEvent ):void \n{\n\ttrace( event.type +"::["+event.errorCode+"] "+event.errorMessage );\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"login-with-phone",children:"Login with Phone"}),"\n",(0,i.jsxs)(n.p,{children:["To login using the user's phone number you call the ",(0,i.jsx)(n.code,{children:"loginWithPhone"})," function."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-actionscript",children:"FacebookAPI.service.accountKit.loginWithPhone();\n"})}),"\n",(0,i.jsx)(n.p,{children:"You can prefill the phone number entry by specifying the country code and phone number:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-actionscript",children:'FacebookAPI.service.accountKit.loginWithPhone( "+61", "0400000000" );\n'})}),"\n",(0,i.jsx)(n.h3,{id:"login-with-email",children:"Login with Email"}),"\n",(0,i.jsxs)(n.p,{children:["To login using the user's email address you call the ",(0,i.jsx)(n.code,{children:"loginWithEmail"})," function:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-actionscript",children:"FacebookAPI.service.accountKit.loginWithEmail();\n"})}),"\n",(0,i.jsx)(n.p,{children:"Again you can prefill this:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-actionscript",children:'FacebookAPI.service.accountKit.loginWithEmail( "test@example.com" );\n'})}),"\n",(0,i.jsx)(n.h2,{id:"account-information",children:"Account Information"}),"\n",(0,i.jsxs)(n.p,{children:["If you have received an access token you can use the ",(0,i.jsx)(n.code,{children:"getAccountInfo"})," function\nto query the details the user used to login. This function will dispatch one\nof the following events:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"AccountKitEvent.ACCOUNTINFO"}),": on success"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"AccountKitEvent.ACCOUNTINFO_ERROR"}),": if an error occurred"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-actionscript",children:"FacebookAPI.service.accountKit.addEventListener( AccountKitEvent.ACCOUNTINFO, accountInfoHandler );\nFacebookAPI.service.accountKit.addEventListener( AccountKitEvent.ACCOUNTINFO_ERROR, accountInfoErrorHandler );\n\nFacebookAPI.service.accountKit.getAccountInfo();\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-actionscript",children:'private function accountInfoHandler( event:AccountKitEvent ):void \n{\n\t// event.account will contain the account info\n\ttrace( event.type + "::" + event.account.toString() );\n}\n\nprivate function accountInfoErrorHandler( event:AccountKitEvent ):void \n{\n\ttrace( event.type +"::["+event.errorCode+"] "+event.errorMessage );\n}\n'})})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);
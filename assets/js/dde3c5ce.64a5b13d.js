"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[22882],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>f});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var u=r.createContext({}),s=function(e){var t=r.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},d=function(e){var t=s(e.components);return r.createElement(u.Provider,{value:t},e.children)},c="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,u=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),c=s(n),m=a,f=c["".concat(u,".").concat(m)]||c[m]||p[m]||i;return n?r.createElement(f,o(o({ref:t},d),{},{components:n})):r.createElement(f,o({ref:t},d))}));function f(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=m;var l={};for(var u in t)hasOwnProperty.call(t,u)&&(l[u]=t[u]);l.originalType=e,l[c]="string"==typeof e?e:a,o[1]=l;for(var s=2;s<i;s++)o[s]=n[s];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},85162:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(67294),a=n(86010);const i={tabItem:"tabItem_Ymn6"};function o(e){let{children:t,hidden:n,className:o}=e;return r.createElement("div",{role:"tabpanel",className:(0,a.Z)(i.tabItem,o),hidden:n},t)}},74866:(e,t,n)=>{n.d(t,{Z:()=>w});var r=n(87462),a=n(67294),i=n(86010),o=n(12466),l=n(16550),u=n(91980),s=n(67392),d=n(50012);function c(e){return function(e){var t,n;return null!=(t=null==(n=a.Children.map(e,(e=>{if(!e||(0,a.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})))?void 0:n.filter(Boolean))?t:[]}(e).map((e=>{let{props:{value:t,label:n,attributes:r,default:a}}=e;return{value:t,label:n,attributes:r,default:a}}))}function p(e){const{values:t,children:n}=e;return(0,a.useMemo)((()=>{const e=null!=t?t:c(n);return function(e){const t=(0,s.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error('Docusaurus error: Duplicate values "'+t.map((e=>e.value)).join(", ")+'" found in <Tabs>. Every value needs to be unique.')}(e),e}),[t,n])}function m(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function f(e){let{queryString:t=!1,groupId:n}=e;const r=(0,l.k6)(),i=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=n?n:null}({queryString:t,groupId:n});return[(0,u._X)(i),(0,a.useCallback)((e=>{if(!i)return;const t=new URLSearchParams(r.location.search);t.set(i,e),r.replace({...r.location,search:t.toString()})}),[i,r])]}function h(e){const{defaultValue:t,queryString:n=!1,groupId:r}=e,i=p(e),[o,l]=(0,a.useState)((()=>function(e){var t;let{defaultValue:n,tabValues:r}=e;if(0===r.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!m({value:n,tabValues:r}))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+n+'" but none of its children has the corresponding value. Available values are: '+r.map((e=>e.value)).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");return n}const a=null!=(t=r.find((e=>e.default)))?t:r[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:t,tabValues:i}))),[u,s]=f({queryString:n,groupId:r}),[c,h]=function(e){let{groupId:t}=e;const n=function(e){return e?"docusaurus.tab."+e:null}(t),[r,i]=(0,d.Nk)(n);return[r,(0,a.useCallback)((e=>{n&&i.set(e)}),[n,i])]}({groupId:r}),g=(()=>{const e=null!=u?u:c;return m({value:e,tabValues:i})?e:null})();(0,a.useLayoutEffect)((()=>{g&&l(g)}),[g]);return{selectedValue:o,selectValue:(0,a.useCallback)((e=>{if(!m({value:e,tabValues:i}))throw new Error("Can't select invalid tab value="+e);l(e),s(e),h(e)}),[s,h,i]),tabValues:i}}var g=n(72389);const v={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function b(e){let{className:t,block:n,selectedValue:l,selectValue:u,tabValues:s}=e;const d=[],{blockElementScrollPositionUntilNextRender:c}=(0,o.o5)(),p=e=>{const t=e.currentTarget,n=d.indexOf(t),r=s[n].value;r!==l&&(c(t),u(r))},m=e=>{var t;let n=null;switch(e.key){case"Enter":p(e);break;case"ArrowRight":{var r;const t=d.indexOf(e.currentTarget)+1;n=null!=(r=d[t])?r:d[0];break}case"ArrowLeft":{var a;const t=d.indexOf(e.currentTarget)-1;n=null!=(a=d[t])?a:d[d.length-1];break}}null==(t=n)||t.focus()};return a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":n},t)},s.map((e=>{let{value:t,label:n,attributes:o}=e;return a.createElement("li",(0,r.Z)({role:"tab",tabIndex:l===t?0:-1,"aria-selected":l===t,key:t,ref:e=>d.push(e),onKeyDown:m,onClick:p},o,{className:(0,i.Z)("tabs__item",v.tabItem,null==o?void 0:o.className,{"tabs__item--active":l===t})}),null!=n?n:t)})))}function y(e){let{lazy:t,children:n,selectedValue:r}=e;const i=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=i.find((e=>e.props.value===r));return e?(0,a.cloneElement)(e,{className:"margin-top--md"}):null}return a.createElement("div",{className:"margin-top--md"},i.map(((e,t)=>(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==r}))))}function k(e){const t=h(e);return a.createElement("div",{className:(0,i.Z)("tabs-container",v.tabList)},a.createElement(b,(0,r.Z)({},e,t)),a.createElement(y,(0,r.Z)({},e,t)))}function w(e){const t=(0,g.Z)();return a.createElement(k,(0,r.Z)({key:String(t)},e))}},7943:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>u,default:()=>f,frontMatter:()=>l,metadata:()=>s,toc:()=>c});var r=n(87462),a=(n(67294),n(3905)),i=n(74866),o=n(85162);const l={title:"Migrating to v2.0"},u=void 0,s={unversionedId:"revenuecat/migrating-to-v2.0",id:"revenuecat/migrating-to-v2.0",title:"Migrating to v2.0",description:"This latest release brings a number of updates to the extension particularly around the Android integration.",source:"@site/docs/revenuecat/migrating-to-v2.0.mdx",sourceDirName:"revenuecat",slug:"/revenuecat/migrating-to-v2.0",permalink:"/docs/revenuecat/migrating-to-v2.0",draft:!1,tags:[],version:"current",frontMatter:{title:"Migrating to v2.0"},sidebar:"revenuecat",previous:{title:"Restoring Purchases",permalink:"/docs/revenuecat/restoring-purchases"},next:{title:"changelog",permalink:"/docs/revenuecat/changelog"}},d={},c=[{value:"Android Integration",id:"android-integration",level:2},{value:"Updating code",id:"updating-code",level:3},{value:"iOS Integration",id:"ios-integration",level:2}],p={toc:c},m="wrapper";function f(e){let{components:t,...n}=e;return(0,a.kt)(m,(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"This latest release brings a number of updates to the extension particularly around the Android integration. "),(0,a.kt)("p",null,"The Android implementation has been updated to v8.22.0 and we have moved to using Android gradle dependencies within our extensions, which will improve dependency resolution, reduce update times and improve compatibility with other extensions. (This update also addresses the Android 35 requirement for Play Billing v7)."),(0,a.kt)("p",null,"The iOS implementation has been updated to v5.33.1 which should bring a range of bug fixes and improvements."),(0,a.kt)("h2",{id:"android-integration"},"Android Integration"),(0,a.kt)("p",null,"We have moved to using gradle dependencies within our extensions which will improve dependency resolution, reduce update times and improve compatibility with other extensions.\nThis also reduces the amount of work required to manually integrate the extensions, reducing the additions to the manifest in your application descriptor."),(0,a.kt)(i.Z,{groupId:"packagemanager",defaultValue:"apm",values:[{label:"APM",value:"apm"},{label:"Manual",value:"manual"}],mdxType:"Tabs"},(0,a.kt)(o.Z,{value:"apm",mdxType:"TabItem"},(0,a.kt)("p",null,"We highly recommend using the ",(0,a.kt)("a",{parentName:"p",href:"https://airnativeextensions.com/docs/using-apm"},"apm")," tool to manage the integration of the extensions in your application and to generate your application descriptor:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"apm update\napm generate app-descriptor\n")),(0,a.kt)("p",null,"This will automatically update your application descriptor with the required manifest entries and gradle dependencies.")),(0,a.kt)(o.Z,{value:"manual",mdxType:"TabItem"},"You can still integrate the manifest additions manually if you prefer. With this update we recommend starting fresh as there have been a lot of entries to be removed.",(0,a.kt)("p",null,"Firstly make sure you have the latest versions of all the dependencies extensions. "),(0,a.kt)("p",null,"Then you can simplify the manifest now as well as the gradle implementation will add a significant amount of the required manifest entries for you.",(0,a.kt)("br",{parentName:"p"}),"\n","The minimum android section now looks like the following:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-xml"},'<android>\n    <gradleVersion>8.9</gradleVersion>\n    <androidGradlePluginVersion>8.7.3</androidGradlePluginVersion>\n    <manifestAdditions><![CDATA[<manifest android:installLocation="auto" >\n  <uses-sdk android:minSdkVersion="21" android:targetSdkVersion="35"/>\n  <uses-permission android:name="android.permission.INTERNET"/>\n  <uses-permission android:name="com.android.vending.BILLING"/>\n\n  <application>\n    <meta-data android:name="android.max_aspect" android:value="2.5"/>\n    <meta-data android:name="android.notch_support" android:value="true"/>\n\n    <activity android:name="com.distriqt.core.auth.AuthorisationActivity" android:exported="false" android:theme="@android:style/Theme.Translucent.NoTitleBar"/>\n  </application>\n</manifest>\n]]></manifestAdditions>\n</android>\n')))),(0,a.kt)("h3",{id:"updating-code"},"Updating code"),(0,a.kt)("p",null,"There should be no changes to your code required for this update."),(0,a.kt)("h2",{id:"ios-integration"},"iOS Integration"),(0,a.kt)("p",null,"Make sure you have set the minimum iOS version to ",(0,a.kt)("inlineCode",{parentName:"p"},"13.0")," in your application descriptor ",(0,a.kt)("inlineCode",{parentName:"p"},"InfoAdditions")," section:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-xml"},"<key>MinimumOSVersion</key>\n<string>13.0</string>\n")))}f.isMDXComponent=!0}}]);
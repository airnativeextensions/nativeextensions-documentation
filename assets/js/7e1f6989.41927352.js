"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[77610],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return m}});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),u=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},c=function(e){var t=u(e.components);return r.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,l=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),d=u(n),m=a,h=d["".concat(l,".").concat(m)]||d[m]||p[m]||i;return n?r.createElement(h,s(s({ref:t},c),{},{components:n})):r.createElement(h,s({ref:t},c))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,s=new Array(i);s[0]=d;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o.mdxType="string"==typeof e?e:a,s[1]=o;for(var u=2;u<i;u++)s[u]=n[u];return r.createElement.apply(null,s)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},35656:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return o},contentTitle:function(){return l},metadata:function(){return u},toc:function(){return c},default:function(){return d}});var r=n(87462),a=n(63366),i=(n(67294),n(3905)),s=["components"],o={title:"Auth - Manage Users",sidebar_label:"Manage Users"},l=void 0,u={unversionedId:"firebase/auth/manage-users",id:"firebase/auth/manage-users",title:"Auth - Manage Users",description:"If a user has signed in successfully you can get their account data",source:"@site/docs/firebase/auth/manage-users.md",sourceDirName:"firebase/auth",slug:"/firebase/auth/manage-users",permalink:"/docs/firebase/auth/manage-users",tags:[],version:"current",frontMatter:{title:"Auth - Manage Users",sidebar_label:"Manage Users"},sidebar:"firebase",previous:{title:"Initialise",permalink:"/docs/firebase/auth/initialise"},next:{title:"Email",permalink:"/docs/firebase/auth/provider/email"}},c=[{value:"Provider specific profile information",id:"provider-specific-profile-information",children:[],level:2},{value:"Update profile",id:"update-profile",children:[],level:2},{value:"Update email",id:"update-email",children:[],level:2},{value:"Verification email",id:"verification-email",children:[],level:2},{value:"Update Password",id:"update-password",children:[],level:2},{value:"Send a password reset email",id:"send-a-password-reset-email",children:[],level:2},{value:"Delete a user",id:"delete-a-user",children:[],level:2},{value:"Re-authenticate a user",id:"re-authenticate-a-user",children:[],level:2},{value:"User Token",id:"user-token",children:[],level:2}],p={toc:c};function d(e){var t=e.components,n=(0,a.Z)(e,s);return(0,i.kt)("wrapper",(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"If a user has signed in successfully you can get their account data\nat any point with the ",(0,i.kt)("inlineCode",{parentName:"p"},"getCurrentUser")," method."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-actionscript"},'var user:FirebaseUser = FirebaseAuth.service.getCurrentUser();\nif (user != null)\n{\n    trace( "displayName: " + user.displayName );\n    trace( "email:       " + user.email );\n    trace( "photo Uri:   " + user.photoUri );\n\n    // The user\'s ID, unique to the Firebase project. Do NOT use this value to\n    // authenticate with your backend server, if you have one. Use\n    // FirebaseUser.getToken() instead.\n    trace( "identifier:  " + user.identifier );\n}\nelse \n{\n    trace( "Not signed in" );\n}\n')),(0,i.kt)("h2",{id:"provider-specific-profile-information"},"Provider specific profile information"),(0,i.kt)("p",null,"To get the profile information retrieved from the sign-in providers linked to a user,\nuse the Vector array of ",(0,i.kt)("inlineCode",{parentName:"p"},"UserInfo")," objects."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-actionscript"},'var user:FirebaseUser = FirebaseAuth.service.getCurrentUser();\nif (user != null)\n{\n    for each (var info:UserInfo in user.providers)\n    {\n        trace( "provider:    " + info.providerId );\n        trace( "identifier:  " + info.identifier );\n        trace( "displayName: " + info.displayName );\n        trace( "email:       " + info.email );\n    }\n}\n')),(0,i.kt)("h2",{id:"update-profile"},"Update profile"),(0,i.kt)("p",null,"You can update a user's basic profile information\u2014the user's display name and profile\nphoto URL\u2014with the ",(0,i.kt)("inlineCode",{parentName:"p"},"updateProfile")," method. For example:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-actionscript"},'var request:UserProfileChangeRequest = new UserProfileChangeRequestBuilder()\n        .setDisplayName( "Jane Q. User" )\n        .setPhotoUri( "https://example.com/jane-q-user/profile.jpg" )\n        .build();\n\nFirebaseAuth.service.getCurrentUser().addEventListener( \n    FirebaseUserEvent.UPDATE_PROFILE_COMPLETE,\n    updateProfile_completeHandler );\n\nFirebaseAuth.service.getCurrentUser().updateProfile( request );\n')),(0,i.kt)("p",null,"You can use the ",(0,i.kt)("inlineCode",{parentName:"p"},"FirebaseUserEvent.UPDATE_PROFILE_COMPLETE")," event to listen for the completion\nof the ",(0,i.kt)("inlineCode",{parentName:"p"},"updateProfile")," method."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-actionscript"},'private function updateProfile_completeHandler( event:FirebaseUserEvent ):void\n{\n    trace( "updateProfile(): complete: "+event.success +"::"+event.message );\n    FirebaseAuth.service.getCurrentUser().removeEventListener( \n        FirebaseUserEvent.UPDATE_PROFILE_COMPLETE,\n        updateProfile_completeHandler );\n}\n')),(0,i.kt)("h2",{id:"update-email"},"Update email"),(0,i.kt)("p",null,"You can set a user's email address with the ",(0,i.kt)("inlineCode",{parentName:"p"},"updateEmail")," method. For example:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-actionscript"},'FirebaseAuth.service.getCurrentUser().addEventListener( \n    FirebaseUserEvent.UPDATE_EMAIL_COMPLETE,\n    updateEmail_completeHandler );\n\nFirebaseAuth.service.getCurrentUser().updateEmail( "user@example.com" );\n')),(0,i.kt)("p",null,"You can use the ",(0,i.kt)("inlineCode",{parentName:"p"},"FirebaseUserEvent.UPDATE_EMAIL_COMPLETE")," event to listen for the completion\nof the ",(0,i.kt)("inlineCode",{parentName:"p"},"updateEmail")," method."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-actionscript"},'private function updateEmail_completeHandler( event:FirebaseUserEvent ):void\n{\n    trace( "updateEmail(): complete: "+event.success +"::"+event.message );\n    FirebaseAuth.service.getCurrentUser().removeEventListener( \n        FirebaseUserEvent.UPDATE_EMAIL_COMPLETE,\n        updateEmail_completeHandler );\n}\n')),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"Important: To set a user's email address, the user must have signed in recently.\nSee Re-authenticate a user.")),(0,i.kt)("h2",{id:"verification-email"},"Verification email"),(0,i.kt)("p",null,"You can send an address verification email to a user with the ",(0,i.kt)("inlineCode",{parentName:"p"},"sendEmailVerification")," method. For example:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-actionscript"},"FirebaseAuth.service.getCurrentUser().addEventListener(\n    FirebaseUserEvent.SEND_EMAIL_VERIFICATION_COMPLETE,\n    sendEmailVerification_completeHandler );\n\nFirebaseAuth.service.getCurrentUser().sendEmailVerification();\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-actionscript"},'private function sendEmailVerification_completeHandler( event:FirebaseUserEvent ):void\n{\n    log( "sendEmailVerification(): complete: " + event.success +"::"+event.message );\n    FirebaseAuth.service.getCurrentUser().removeEventListener(\n        FirebaseUserEvent.SEND_EMAIL_VERIFICATION_COMPLETE,\n        sendEmailVerification_completeHandler );\n}\n')),(0,i.kt)("p",null,"You can customize the email template that is used in Authentication section of the\n",(0,i.kt)("a",{parentName:"p",href:"https://firebase.google.com/console/"},"Firebase console"),", on the Email Templates page.\nSee ",(0,i.kt)("a",{parentName:"p",href:"https://support.google.com/firebase/answer/7000714"},"Email Templates")," in Firebase Help Center."),(0,i.kt)("h2",{id:"update-password"},"Update Password"),(0,i.kt)("p",null,"You can set a user's password with the ",(0,i.kt)("inlineCode",{parentName:"p"},"updatePassword")," method. For example:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-actionscript"},'FirebaseAuth.service.getCurrentUser().addEventListener( \n    FirebaseUserEvent.UPDATE_PASSWORD_COMPLETE,\n    updatePassword_completeHandler );\n\nFirebaseAuth.service.getCurrentUser().updatePassword( "SOME-SECURE-PASSWORD" );\n')),(0,i.kt)("p",null,"You can use the ",(0,i.kt)("inlineCode",{parentName:"p"},"FirebaseUserEvent.UPDATE_PASSWORD_COMPLETE")," event to listen for the completion\nof the ",(0,i.kt)("inlineCode",{parentName:"p"},"updatePassword")," method."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-actionscript"},'private function updatePassword_completeHandler( event:FirebaseUserEvent ):void\n{\n    trace( "updatePassword(): complete: "+event.success +"::"+event.message );\n    FirebaseAuth.service.getCurrentUser().removeEventListener( \n        FirebaseUserEvent.UPDATE_PASSWORD_COMPLETE,\n        updatePassword_completeHandler );\n}\n')),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"Important: To set a user's email address, the user must have signed in recently.\nSee Re-authenticate a user.")),(0,i.kt)("h2",{id:"send-a-password-reset-email"},"Send a password reset email"),(0,i.kt)("p",null,"You can send a password reset email to a user with the sendPasswordResetEmail method. For example:"),(0,i.kt)("p",null,"You can customize the email template that is used in Authentication section of the\n",(0,i.kt)("a",{parentName:"p",href:"https://firebase.google.com/console/"},"Firebase console"),", on the Email Templates page.\nSee ",(0,i.kt)("a",{parentName:"p",href:"https://support.google.com/firebase/answer/7000714"},"Email Templates")," in Firebase Help Center."),(0,i.kt)("p",null,"You can also send password rest emails from the Firebase console."),(0,i.kt)("h2",{id:"delete-a-user"},"Delete a user"),(0,i.kt)("p",null,"You can delete a user account with the delete method. For example:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-actionscript"},"FirebaseAuth.service.getCurrentUser().addEventListener( \n    FirebaseUserEvent.DELETE_USER_COMPLETE, \n    deleteUser_completeHandler );\n\nFirebaseAuth.service.getCurrentUser().deleteUser();\n")),(0,i.kt)("p",null,"You can use the ",(0,i.kt)("inlineCode",{parentName:"p"},"FirebaseUserEvent.DELETE_USER_COMPLETE")," event to listen for the completion of this method."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-actionscript"},'private function deleteUser_completeHandler( event:FirebaseUserEvent ):void\n{\n    trace( "deleteUser(): complete: " + event.success +"::"+event.message );\n}\n')),(0,i.kt)("p",null,"Once deleted ",(0,i.kt)("inlineCode",{parentName:"p"},"getCurrentUser()")," will return ",(0,i.kt)("inlineCode",{parentName:"p"},"null")," and your user will be signed out. "),(0,i.kt)("h2",{id:"re-authenticate-a-user"},"Re-authenticate a user"),(0,i.kt)("p",null,"Some security-sensitive actions\u2014such as deleting an account, setting a primary email address,\nand changing a password\u2014require that the user has recently signed in.\nIf you perform one of these actions, and the user signed in too long ago,\nthe action fails (",(0,i.kt)("inlineCode",{parentName:"p"},"event.success")," will be ",(0,i.kt)("inlineCode",{parentName:"p"},"false"),")."),(0,i.kt)("p",null,"When this happens, re-authenticate the user by getting new sign-in credentials\nfrom the user and passing the credentials to ",(0,i.kt)("inlineCode",{parentName:"p"},"reauthenticate"),". "),(0,i.kt)("p",null,"For example:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-actionscript"},'var credential:AuthCredential = EmailAuthProvider.getEmailAuthCredential( "user@example.com", "password1234" );\n\nFirebaseAuth.service.getCurrentUser().addEventListener( \n    FirebaseUserEvent.REAUTHENTICATE_COMPLETE, \n    reauthenticate_completeHandler );\n\nFirebaseAuth.service.getCurrentUser().reauthenticate( credential );\n')),(0,i.kt)("p",null,"You can use the ",(0,i.kt)("inlineCode",{parentName:"p"},"FirebaseUserEvent.REAUTHENTICATE_COMPLETE")," event to listen for the completion of this method."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-actionscript"},"private function reauthenticate_completeHandler( event:FirebaseUserEvent ):void\n{\n    FirebaseAuth.service.getCurrentUser().removeEventListener( \n        FirebaseUserEvent.REAUTHENTICATE_COMPLETE, \n        reauthenticate_completeHandler );\n}\n")),(0,i.kt)("h2",{id:"user-token"},"User Token"),(0,i.kt)("p",null,"You may wish to authenticate a user on your server for actions in Firebase from your application.\nTo do this you'll need the users authentication token."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-actionscript"},"FirebaseAuth.service.getCurrentUser().addEventListener( \n    FirebaseUserEvent.GET_TOKEN_COMPLETE,\n    getToken_completeHandler );\n\nFirebaseAuth.service.getCurrentUser().getToken( true );\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-actionscript"},"private function getToken_completeHandler(event:FirebaseUserEvent ):void\n{\n    if (event.success)\n    {\n        // Success means the event has a valid token in event.data\n        trace( event.data );\n    }\n\n    FirebaseAuth.service.getCurrentUser().removeEventListener( \n        FirebaseUserEvent.GET_TOKEN_COMPLETE,\n        getToken_completeHandler );\n}\n")))}d.isMDXComponent=!0}}]);
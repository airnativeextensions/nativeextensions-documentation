"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[18859],{3905:function(e,t,n){n.d(t,{Zo:function(){return d},kt:function(){return u}});var a=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},d=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},f=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),f=c(n),u=i,m=f["".concat(s,".").concat(u)]||f[u]||p[u]||o;return n?a.createElement(m,r(r({ref:t},d),{},{components:n})):a.createElement(m,r({ref:t},d))}));function u(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,r=new Array(o);r[0]=f;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:i,r[1]=l;for(var c=2;c<o;c++)r[c]=n[c];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}f.displayName="MDXCreateElement"},41401:function(e,t,n){n.r(t),n.d(t,{assets:function(){return d},contentTitle:function(){return s},default:function(){return u},frontMatter:function(){return l},metadata:function(){return c},toc:function(){return p}});var a=n(83117),i=n(80102),o=(n(67294),n(3905)),r=["components"],l={title:"Delay and Repeat Interval",sidebar_label:"Delay and Repeat Interval"},s=void 0,c={unversionedId:"notifications/delay-and-repeat-interval",id:"notifications/delay-and-repeat-interval",title:"Delay and Repeat Interval",description:"It is possible to schedule a notification to be delivered at a later date and also to apply",source:"@site/docs/notifications/delay-and-repeat-interval.md",sourceDirName:"notifications",slug:"/notifications/delay-and-repeat-interval",permalink:"/docs/notifications/delay-and-repeat-interval",draft:!1,tags:[],version:"current",frontMatter:{title:"Delay and Repeat Interval",sidebar_label:"Delay and Repeat Interval"},sidebar:"notifications",previous:{title:"Receiving notifications",permalink:"/docs/notifications/receiving-notifications"},next:{title:"Cancel Notifications",permalink:"/docs/notifications/cancel-notifications"}},d={},p=[{value:"Delay",id:"delay",level:2},{value:"Repeat Interval",id:"repeat-interval",level:2},{value:"Combining Delay and Repeat Intervals",id:"combining-delay-and-repeat-intervals",level:2},{value:"iOS",id:"ios",level:3}],f={toc:p};function u(e){var t=e.components,n=(0,i.Z)(e,r);return(0,o.kt)("wrapper",(0,a.Z)({},f,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"It is possible to schedule a notification to be delivered at a later date and also to apply\na repeat interval to have the notification delivered repeatedly."),(0,o.kt)("p",null,"The particulars of these settings vary both on platform and version."),(0,o.kt)("h2",{id:"delay"},"Delay"),(0,o.kt)("p",null,"You can set a notification to be displayed at a later date by setting the delay value of the notification.\nThis indicates that the notification should be scheduled to be displayed at some point in the future."),(0,o.kt)("p",null,"For example, the following creates an notification that will be displayed 5 seconds in the future:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-actionscript"},'Notifications.service.notify(\n    new NotificationBuilder()\n        .setDelay( 5 ) // Show the notification 5 seconds in the future\n        .setAlert( "Delayed Notification" )\n        .setTitle( "Delayed Notification" )\n        .setBody( "The body of the notification" )\n        .build()\n);\n')),(0,o.kt)("p",null,"Or schedule a notification for 7am tomorrow:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-actionscript"},'var now:Date = new Date();\nvar fireDate:Date = new Date( now.year, now.month, now.date, 7, 0, 0 );\nfireDate.date += 1; // tomorrow\n\nNotifications.service.notify(\n    new NotificationBuilder()\n        .setFireDate( fireDate ) \n        .setAlert( "Delayed Notification" )\n        .setTitle( "Delayed Notification" )\n        .setBody( "The body of the notification" )\n        .build()\n);\n')),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"On Android when a device is restarted or killed (force kill) the delayed/repeated notifications are\ncleared from the Android AlarmManager. We have implemented two checks to handle these cases."),(0,o.kt)("p",{parentName:"admonition"},"The first is upon device boot, as long as your application has been run once and has not been\nforce killed, the notifications will be restored at boot, as long as you have the boot permission\nin your manifest."),(0,o.kt)("p",{parentName:"admonition"},"The second check is implemented in the register function. This is to account for the force kill\nscenario when the user restarts your application, any previously scheduled notifications will be\nrestored at this point."),(0,o.kt)("p",{parentName:"admonition"},"This should happen seemlessly as long as you have followed this guide and this information is more for your information.")),(0,o.kt)("h2",{id:"repeat-interval"},"Repeat Interval"),(0,o.kt)("p",null,"You can set a repeat interval to have the notification repeatedly be displayed to the user.\nAvailable intervals are in the ",(0,o.kt)("inlineCode",{parentName:"p"},"NotificationRepeatInterval")," class, and include, minute, hour, day, week etc.\nCheck the individual intervals for their availability on each of the platforms."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-actionscript"},'Notifications.service.notify(\n    new NotificationBuilder()\n        .setRepeatInterval( NotificationRepeatInterval.REPEAT_HOUR ) // Repeat the notification every hour \n        .setAlert( "Repeat Notification" )\n        .setTitle( "Repeat Notification" )\n        .setBody( "The body of the notification" )\n        .build()\n);\n')),(0,o.kt)("p",null,"These notifications continue until you cancel them."),(0,o.kt)("h2",{id:"combining-delay-and-repeat-intervals"},"Combining Delay and Repeat Intervals"),(0,o.kt)("p",null,"You can use both the delay and repeat interval to create notifications that start repeating at some\ntime in the future. "),(0,o.kt)("p",null,"For example, say we wanted to schedule a reminder every day at 7am, then we would use a ",(0,o.kt)("inlineCode",{parentName:"p"},"REPEAT_DAY")," interval and set the ",(0,o.kt)("inlineCode",{parentName:"p"},"fireDate")," to be at ",(0,o.kt)("inlineCode",{parentName:"p"},"7:00am"),"."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-actionscript"},'var now:Date = new Date();\nvar fireDate:Date = new Date( now.year, now.month, now.date, 7, 0, 0 );\nfireDate.date += 1; // tomorrow\n\nNotifications.service.notify(\n    new NotificationBuilder()\n        .setFireDate( fireDate ) \n        .setRepeatInterval( NotificationRepeatInterval.REPEAT_DAY ) \n        .setAlert( "Repeat Notification" )\n        .setTitle( "Repeat Notification" )\n        .setBody( "The body of the notification" )\n        .build()\n);\n')),(0,o.kt)("h3",{id:"ios"},"iOS"),(0,o.kt)("p",null,"With iOS 10 and higher, Apple have severely limited the ability to schedule ",(0,o.kt)("strong",{parentName:"p"},"and")," repeat notifications. "),(0,o.kt)("p",null,"Instead of being able to specify the first notification date and then a repeat interval we can only use the fire date to specify the details of the repeat interval. "),(0,o.kt)("p",null,"So we cannot specify an initial delay to the first notification occurrence. If the above example was called before 7am then the first notification would occur today and not tomorrow on iOS 10+ device. The day specified in the fire date for the daily repeat interval will be ignored.  "),(0,o.kt)("p",null,"The issue becomes more prevalent if you were attempting to set reminders for important events eg, remind your user to take their medication at 7am by setting a reminder every minute after 7am:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-actionscript"},'var now:Date = new Date();\nvar fireDate:Date = new Date( now.year, now.month, now.date, 7, 0, 0 );\nfireDate.date += 1; // tomorrow\n\nNotifications.service.notify(\n    new NotificationBuilder()\n        .setFireDate( fireDate ) \n        .setRepeatInterval( NotificationRepeatInterval.REPEAT_MINUTE ) \n        .setAlert( "Repeat Notification" )\n        .setTitle( "Repeat Notification" )\n        .setBody( "The body of the notification" )\n        .build()\n);\n')),(0,o.kt)("p",null,"Instead of waiting until 7am tomorrow this alarm would immediately start occurring every minute. "),(0,o.kt)("p",null,"Please be aware of this limitation if you are combining delays and repeat intervals. "),(0,o.kt)("admonition",{type:"caution"},(0,o.kt)("p",{parentName:"admonition"},"If you are wanting to have consistent repeating notifications across platforms we suggest considering the repeat interval as the priority and the fire date and specifying the time components of the interval smaller than the repeat interval. "),(0,o.kt)("p",{parentName:"admonition"},"For example, create:"),(0,o.kt)("ul",{parentName:"admonition"},(0,o.kt)("li",{parentName:"ul"},"a daily notification at a particular time (hour / minute eg ",(0,o.kt)("inlineCode",{parentName:"li"},"07:00"),")"),(0,o.kt)("li",{parentName:"ul"},"an hourly notification at a particular minute (eg quarter past the hour, ",(0,o.kt)("inlineCode",{parentName:"li"},":15"),")"))),(0,o.kt)("p",null,"If you have any concerns or need some help on creating a specific repeating notification feel free to ask our support team."))}u.isMDXComponent=!0}}]);
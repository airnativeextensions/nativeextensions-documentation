"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[49960],{2119:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"googleanalytics/install-referrer","title":"Install Referrer","description":"You can use the install referrer to see which campaigns, websites,","source":"@site/docs/googleanalytics/install-referrer.md","sourceDirName":"googleanalytics","slug":"/googleanalytics/install-referrer","permalink":"/docs/googleanalytics/install-referrer","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Install Referrer","sidebar_label":"Install Referrer"},"sidebar":"googleanalytics","previous":{"title":"Notes","permalink":"/docs/googleanalytics/notes"},"next":{"title":"Migrating to AndroidX","permalink":"/docs/googleanalytics/migrating-to-androidx"}}');var i=n(74848),s=n(28453);const a={title:"Install Referrer",sidebar_label:"Install Referrer"},o=void 0,l={},c=[{value:"Manifest additions",id:"manifest-additions",level:3},{value:"Referrer string",id:"referrer-string",level:3},{value:"Testing",id:"testing",level:3}];function d(e){const r={a:"a",code:"code",h3:"h3",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.p,{children:"You can use the install referrer to see which campaigns, websites,\nand other apps are referring users to Google Play Store to download your app."}),"\n",(0,i.jsx)(r.p,{children:"The install referrer is a string passed to your application indicating\nthe referal source your application was installed through."}),"\n",(0,i.jsx)(r.p,{children:"This is supported on Android only."}),"\n",(0,i.jsx)(r.h3,{id:"manifest-additions",children:"Manifest additions"}),"\n",(0,i.jsx)(r.p,{children:"If you require access to the install referrer string then firstly make sure you\nhave added the correct manifest additions, in particular the install referrer receiver:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-xml",children:'<receiver android:name="com.distriqt.extension.googleanalytics.InstallReferrerReceiver">\n\t<intent-filter>\n\t\t<action android:name="com.android.vending.INSTALL_REFERRER" />\n\t</intent-filter>\n</receiver>\n'})}),"\n",(0,i.jsxs)(r.p,{children:["Check the following for more details: ",(0,i.jsx)(r.a,{href:"/docs/googleanalytics/add-the-extension",children:"Add the Extension"})]}),"\n",(0,i.jsx)(r.h3,{id:"referrer-string",children:"Referrer string"}),"\n",(0,i.jsxs)(r.p,{children:["Once installed you can access the referrer at any time using the ",(0,i.jsx)(r.code,{children:"getInstallReferrer()"})," method."]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-actionscript",children:"var referrer:String = GoogleAnalytics.service.getInstallReferrer();\n"})}),"\n",(0,i.jsxs)(r.p,{children:["The referrer may be updated after you start your application if the referral intent\nis dispatched after your application starts up. In order to handle this situation\nyou should also add a listener for the ",(0,i.jsx)(r.code,{children:"InstallReferrerEvent.UPDATED"})," event."]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-actionscript",children:"GoogleAnalytics.service.addEventListener( InstallReferrerEvent.UPDATED, referrerUpdatedHandler );\n"})}),"\n",(0,i.jsx)(r.p,{children:"Then in your handler:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-actionscript",children:"private function referrerUpdatedHandler( event:InstallReferrerEvent ):void \n{\n\ttrace( event.referrer );\n}\n"})}),"\n",(0,i.jsx)(r.h3,{id:"testing",children:"Testing"}),"\n",(0,i.jsxs)(r.p,{children:["You can use the following adb commands to test the referrer, just make sure to\nreplace ",(0,i.jsx)("code",{children:"air.com.distriqt.test"})," with the package of your application."]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:'adb shell\nam broadcast -a com.android.vending.INSTALL_REFERRER -n air.com.distriqt.test/com.distriqt.extension.googleanalytics.InstallReferrerReceiver --es "referrer" "utm_source=test_source\\&amp;utm_medium=test_medium\\&amp;utm_term=test_term\\&amp;utm_content=test_content\\&amp;utm_campaign=test_name"\n'})}),"\n",(0,i.jsxs)(r.p,{children:["Running this command will broadcast the ",(0,i.jsx)(r.code,{children:"INSTALL_REFERRER"})," intent which will\nupdate the referrer in your application. You can edit the string at the end as\nyou wish to try different referrer strings."]})]})}function h(e={}){const{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},28453:(e,r,n)=>{n.d(r,{R:()=>a,x:()=>o});var t=n(96540);const i={},s=t.createContext(i);function a(e){const r=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function o(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),t.createElement(s.Provider,{value:r},e.children)}}}]);
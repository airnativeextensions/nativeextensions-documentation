"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[831],{8488:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/unity-import-package-b85c051a845ff354a7a93475c2d8e06a.png"},28453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>r});var t=s(96540);const i={},a=t.createContext(i);function l(e){const n=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),t.createElement(a.Provider,{value:n},e.children)}},44478:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/capabilities-ee41ff9aa914004463e84bb64988dbb9.png"},49266:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/cloudstorage-08e063e687d032e566bca33467e841af.png"},72923:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/header-95a1d2786a16bbdd47f62f35b26282ee.png"},74188:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>r,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"cloudstorage/unity","title":"Unity","description":"- Overview","source":"@site/docs/cloudstorage/unity.md","sourceDirName":"cloudstorage","slug":"/cloudstorage/unity","permalink":"/docs/cloudstorage/unity","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Unity","sidebar_label":"Unity"}}');var i=s(74848),a=s(28453);const l={title:"Unity",sidebar_label:"Unity"},r="Contents",o={},d=[{value:"Asset Store",id:"asset-store",level:2},{value:"Manual Installation",id:"manual-installation",level:2},{value:"Import the Plugin",id:"import-the-plugin",level:2},{value:"iOS / tvOS",id:"ios--tvos",level:2},{value:"Checking for Support",id:"checking-for-support",level:2},{value:"Key-Value Storage",id:"key-value-storage",level:2},{value:"Set Values",id:"set-values",level:3},{value:"Get Values",id:"get-values",level:3},{value:"Remove Value",id:"remove-value",level:3},{value:"Events",id:"events",level:3},{value:"Example",id:"example",level:3}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:s(72923).A+"",width:"1200",height:"630"})}),"\n",(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"contents",children:"Contents"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#overview",children:"Overview"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#features",children:"Features"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"#add-the-plugin",children:"Add the Plugin"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#asset-store",children:"Asset Store"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#manual-installation",children:"Manual Installation"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#import-the-plugin",children:"Import the Plugin"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"#usage",children:"Usage"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#checking-for-support",children:"Checking for Support"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"#key-value-storage",children:"Key-Value Storage"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#set-values",children:"Set Values"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#get-values",children:"Get Values"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#events",children:"Events"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#example",children:"Example"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#support",children:"Support"})}),"\n"]}),"\n",(0,i.jsx)(n.h1,{id:"overview",children:"Overview"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.a,{href:"https://universalextensions.com/extension/com.distriqt.CloudStorage",children:"Cloud Storage"})," plugin provides the ability to save data to cloud storage services, such as iCloud."]}),"\n",(0,i.jsx)(n.p,{children:"The simple API allows you to quickly integrate saving data to the cloud using the native cloud services on a user's device. The key-value storage allows you to store discrete values in the cloud for app preferences, app configuration, or app state. Key-value storage is similar to the local user defaults database; but values that you place in key-value storage are available to every instance of your app on all of a user\u2019s various devices. If one instance of your app changes a value, the other instances see that change and can use it to update their configuration."}),"\n",(0,i.jsx)(n.p,{children:"We provide complete guides to get you up and running with cloud storage quickly and easily."}),"\n",(0,i.jsxs)(n.p,{children:["It supports both Unity and Adobe AIR frameworks on ",(0,i.jsx)(n.strong,{children:"iOS"}),", ",(0,i.jsx)(n.strong,{children:"tvOS"})," and ",(0,i.jsx)(n.strong,{children:"macOS"}),", allowing you to use the same functionality on all frameworks and platforms."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:s(49266).A+"",width:"600",height:"450"})}),"\n",(0,i.jsx)(n.h1,{id:"features",children:"Features"}),"\n",(0,i.jsx)(n.p,{children:"Save key/value pairs to iCloud on:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"iOS;"}),"\n",(0,i.jsx)(n.li,{children:"tvOS; and,"}),"\n",(0,i.jsx)(n.li,{children:"macOS"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"As with all our extensions you get access to a year of support and updates as we are continually improving and updating the extensions for OS updates and feature requests."}),"\n",(0,i.jsx)(n.h1,{id:"add-the-plugin",children:"Add the Plugin"}),"\n",(0,i.jsx)(n.p,{children:"First step is always to add the plugin to your development environment."}),"\n",(0,i.jsx)(n.h2,{id:"asset-store",children:"Asset Store"}),"\n",(0,i.jsx)(n.p,{children:"Open the Asset Store in your browser and add the CloudStorage plugin to your assets."}),"\n",(0,i.jsx)(n.p,{children:'Open the Package Manager (Window > Package Manager) in the Unity Editor and select the "My Assets" section. Select the CloudStorage plugin, and click Import in the bottom right.'}),"\n",(0,i.jsx)(n.h2,{id:"manual-installation",children:"Manual Installation"}),"\n",(0,i.jsxs)(n.p,{children:["In unity you import the package by selecting ",(0,i.jsx)(n.code,{children:"Assets / Import Package / Custom Package ..."})," and then browsing to the unity plugin package file: ",(0,i.jsx)(n.code,{children:"com.distriqt.CloudStorage.unitypackage"}),"."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:s(8488).A+"",width:"408",height:"268"})}),"\n",(0,i.jsx)(n.p,{children:"You can manually download the extension from our repository:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/distriqt/ANE-CloudStorage",children:"https://github.com/distriqt/ANE-CloudStorage"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"import-the-plugin",children:"Import the Plugin"}),"\n",(0,i.jsx)(n.p,{children:"This will present the import dialog and display all the files for the plugin, make sure all the files are selected."}),"\n",(0,i.jsx)(n.p,{children:"The plugin will be added to your project and you can now use the plugins functionality in your application."}),"\n",(0,i.jsx)(n.h2,{id:"ios--tvos",children:"iOS / tvOS"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"Capabilities"})," editor script should automatically enable iCloud key-value store for your Xcode project, which should add the appropriate value for the ",(0,i.jsx)(n.code,{children:"com.apple.developer.ubiquity-kvstore-identifier"})," key in your entitlements."]}),"\n",(0,i.jsx)(n.p,{children:"We suggest you ensure the value is correct and that cloud kit has been enabled in the capabilities section of your Xcode project."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:s(44478).A+"",width:"685",height:"133"})}),"\n",(0,i.jsx)(n.h1,{id:"usage",children:"Usage"}),"\n",(0,i.jsx)(n.h2,{id:"checking-for-support",children:"Checking for Support"}),"\n",(0,i.jsxs)(n.p,{children:["You can use the ",(0,i.jsx)(n.code,{children:"isSupported"})," flag to determine if this extension is supported on the current platform and device."]}),"\n",(0,i.jsx)(n.p,{children:"This allows you to react to whether the functionality is available on the device and provide an alternative solution if not."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:"if (CloudStorage.isSupported)\n{\n\t// Functionality here\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"key-value-storage",children:"Key-Value Storage"}),"\n",(0,i.jsx)(n.p,{children:"The key-value storage system can be broken down into several main concepts:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"setting a value;"}),"\n",(0,i.jsx)(n.li,{children:"getting a value;"}),"\n",(0,i.jsx)(n.li,{children:"listen for changes;"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"This represents the majority functionality you will need to implement to be able to successfully store values in the cloud."}),"\n",(0,i.jsx)(n.h3,{id:"set-values",children:"Set Values"}),"\n",(0,i.jsxs)(n.p,{children:["Firstly to set a value, you call ",(0,i.jsx)(n.code,{children:"SetString"}),", which takes a ",(0,i.jsx)(n.code,{children:"key"})," and a ",(0,i.jsx)(n.code,{children:"value"})," as parameters."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:'CloudStorage.Instance.SetString("userId", "some_value");\n'})}),"\n",(0,i.jsx)(n.p,{children:"or to set an integer value:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:'CloudStorage.Instance.SetInt("userId", 5);\n'})}),"\n",(0,i.jsx)(n.h3,{id:"get-values",children:"Get Values"}),"\n",(0,i.jsxs)(n.p,{children:["You can then retrieve the value using ",(0,i.jsx)(n.code,{children:"GetString"})," providing the same ",(0,i.jsx)(n.code,{children:"key"})," as\na parameter which will then return the value set previously."]}),"\n",(0,i.jsx)(n.p,{children:"For example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:'var userId = CloudStorage.Instance.GetString("userId");\n'})}),"\n",(0,i.jsx)(n.h3,{id:"remove-value",children:"Remove Value"}),"\n",(0,i.jsxs)(n.p,{children:["To remove a value that you have previously set you can use the ",(0,i.jsx)(n.code,{children:"Remove"})," function:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:'CloudStorage.Instance.Remove("userId");\n'})}),"\n",(0,i.jsx)(n.h3,{id:"events",children:"Events"}),"\n",(0,i.jsx)(n.p,{children:"The extension will dispatch events when the values are changed (on another device) and when\nother system events occur:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Changed: Indicates a value has changed and the event will contain an array of keys that changed","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"OnChanged"})," event"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Over Quota: Your app's key-value store has exceeded its space quota on the server","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"OnOverQuota"})," event"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Account Changed: The user's account was changed","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"OnAccountChanged"})," event"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Initial Sync: The initial data synchronisation from the server was received","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"OnInitialSync"})," event"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"example",children:"Example"}),"\n",(0,i.jsxs)(n.p,{children:["The following example shows the core concepts, setting then retrieving a value and listening\nto the ",(0,i.jsx)(n.code,{children:"OnChanged"})," event."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:'CloudStorage.Instance.OnChanged += Instance_OnChanged;\nCloudStorage.Instance.Synchronise();\n\n// Set a value\nCloudStorage.Instance.SetString( "KEY_FOR_VALUE", "some_value" );\n\n// Retrieve the value\nstring value = CloudStorage.Instance.GetString( "KEY_FOR_VALUE" )\n\n\nprivate void Instance_OnChanged(KeyValueStoreEvent e)\n{\n\tDebug.Log("OnChanged");\n\t// e.changedKeys contains an array of changed keys\n\tforeach (string key in e.changedKeys)\n\t{\n\t\tDebug.Log("OnChanged: " + key);\n\t}\n}\n'})}),"\n",(0,i.jsx)(n.h1,{id:"support",children:"Support"}),"\n",(0,i.jsx)(n.p,{children:"If you need further support integrating or using this extension please feel free to contact us."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Email: ",(0,i.jsx)(n.a,{href:"mailto:unityplugins@distriqt.com",children:"unityplugins@distriqt.com"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"We have been supporting developers for over 10 years and always happy to help."}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:s(89764).A+"",width:"350",height:"122"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://distriqt.com",children:"https://distriqt.com"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"http://universalextensions.com",children:"more native extensions"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},89764:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/distriqt-8a12c7d5668fa470c2792eff60114604.png"}}]);
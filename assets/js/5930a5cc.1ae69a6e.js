"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[17056],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>m});var a=n(67294);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,l=function(e,t){if(null==e)return{};var n,a,l={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var s=a.createContext({}),u=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=u(e.components);return a.createElement(s.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},h=a.forwardRef((function(e,t){var n=e.components,l=e.mdxType,r=e.originalType,s=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),p=u(n),h=l,m=p["".concat(s,".").concat(h)]||p[h]||d[h]||r;return n?a.createElement(m,i(i({ref:t},c),{},{components:n})):a.createElement(m,i({ref:t},c))}));function m(e,t){var n=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var r=n.length,i=new Array(r);i[0]=h;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[p]="string"==typeof e?e:l,i[1]=o;for(var u=2;u<r;u++)i[u]=n[u];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}h.displayName="MDXCreateElement"},85162:(e,t,n)=>{n.d(t,{Z:()=>i});var a=n(67294),l=n(86010);const r={tabItem:"tabItem_Ymn6"};function i(e){let{children:t,hidden:n,className:i}=e;return a.createElement("div",{role:"tabpanel",className:(0,l.Z)(r.tabItem,i),hidden:n},t)}},74866:(e,t,n)=>{n.d(t,{Z:()=>N});var a=n(87462),l=n(67294),r=n(86010),i=n(12466),o=n(16550),s=n(91980),u=n(67392),c=n(50012);function p(e){return function(e){var t,n;return null!=(t=null==(n=l.Children.map(e,(e=>{if(!e||(0,l.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})))?void 0:n.filter(Boolean))?t:[]}(e).map((e=>{let{props:{value:t,label:n,attributes:a,default:l}}=e;return{value:t,label:n,attributes:a,default:l}}))}function d(e){const{values:t,children:n}=e;return(0,l.useMemo)((()=>{const e=null!=t?t:p(n);return function(e){const t=(0,u.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error('Docusaurus error: Duplicate values "'+t.map((e=>e.value)).join(", ")+'" found in <Tabs>. Every value needs to be unique.')}(e),e}),[t,n])}function h(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function m(e){let{queryString:t=!1,groupId:n}=e;const a=(0,o.k6)(),r=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=n?n:null}({queryString:t,groupId:n});return[(0,s._X)(r),(0,l.useCallback)((e=>{if(!r)return;const t=new URLSearchParams(a.location.search);t.set(r,e),a.replace({...a.location,search:t.toString()})}),[r,a])]}function f(e){const{defaultValue:t,queryString:n=!1,groupId:a}=e,r=d(e),[i,o]=(0,l.useState)((()=>function(e){var t;let{defaultValue:n,tabValues:a}=e;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!h({value:n,tabValues:a}))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+n+'" but none of its children has the corresponding value. Available values are: '+a.map((e=>e.value)).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");return n}const l=null!=(t=a.find((e=>e.default)))?t:a[0];if(!l)throw new Error("Unexpected error: 0 tabValues");return l.value}({defaultValue:t,tabValues:r}))),[s,u]=m({queryString:n,groupId:a}),[p,f]=function(e){let{groupId:t}=e;const n=function(e){return e?"docusaurus.tab."+e:null}(t),[a,r]=(0,c.Nk)(n);return[a,(0,l.useCallback)((e=>{n&&r.set(e)}),[n,r])]}({groupId:a}),v=(()=>{const e=null!=s?s:p;return h({value:e,tabValues:r})?e:null})();(0,l.useLayoutEffect)((()=>{v&&o(v)}),[v]);return{selectedValue:i,selectValue:(0,l.useCallback)((e=>{if(!h({value:e,tabValues:r}))throw new Error("Can't select invalid tab value="+e);o(e),u(e),f(e)}),[u,f,r]),tabValues:r}}var v=n(72389);const k={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function b(e){let{className:t,block:n,selectedValue:o,selectValue:s,tabValues:u}=e;const c=[],{blockElementScrollPositionUntilNextRender:p}=(0,i.o5)(),d=e=>{const t=e.currentTarget,n=c.indexOf(t),a=u[n].value;a!==o&&(p(t),s(a))},h=e=>{var t;let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{var a;const t=c.indexOf(e.currentTarget)+1;n=null!=(a=c[t])?a:c[0];break}case"ArrowLeft":{var l;const t=c.indexOf(e.currentTarget)-1;n=null!=(l=c[t])?l:c[c.length-1];break}}null==(t=n)||t.focus()};return l.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":n},t)},u.map((e=>{let{value:t,label:n,attributes:i}=e;return l.createElement("li",(0,a.Z)({role:"tab",tabIndex:o===t?0:-1,"aria-selected":o===t,key:t,ref:e=>c.push(e),onKeyDown:h,onClick:d},i,{className:(0,r.Z)("tabs__item",k.tabItem,null==i?void 0:i.className,{"tabs__item--active":o===t})}),null!=n?n:t)})))}function g(e){let{lazy:t,children:n,selectedValue:a}=e;const r=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=r.find((e=>e.props.value===a));return e?(0,l.cloneElement)(e,{className:"margin-top--md"}):null}return l.createElement("div",{className:"margin-top--md"},r.map(((e,t)=>(0,l.cloneElement)(e,{key:t,hidden:e.props.value!==a}))))}function y(e){const t=f(e);return l.createElement("div",{className:(0,r.Z)("tabs-container",k.tabList)},l.createElement(b,(0,a.Z)({},e,t)),l.createElement(g,(0,a.Z)({},e,t)))}function N(e){const t=(0,v.Z)();return l.createElement(y,(0,a.Z)({key:String(t)},e))}},43149:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>m,frontMatter:()=>o,metadata:()=>u,toc:()=>p});var a=n(87462),l=(n(67294),n(3905)),r=n(74866),i=n(85162);const o={title:"Setup",sidebar_label:"Setup"},s=void 0,u={unversionedId:"health/setup",id:"health/setup",title:"Setup",description:"Initialise",source:"@site/docs/health/setup.mdx",sourceDirName:"health",slug:"/health/setup",permalink:"/docs/health/setup",draft:!1,tags:[],version:"current",frontMatter:{title:"Setup",sidebar_label:"Setup"},sidebar:"health",previous:{title:"Unity",permalink:"/docs/health/add-the-plugin"},next:{title:"Availablility & Updates",permalink:"/docs/health/check-for-updates"}},c={},p=[{value:"Initialise",id:"initialise",level:2},{value:"Android Health Connect",id:"android-health-connect",level:2},{value:"Android 14",id:"android-14",level:3},{value:"Android 13 and lower",id:"android-13-and-lower",level:3},{value:"Open the Health Connect app",id:"open-the-health-connect-app",level:3},{value:"Google Fitness API",id:"google-fitness-api",level:2},{value:"Apple HealthKit",id:"apple-healthkit",level:2},{value:"Enable HealthKit",id:"enable-healthkit",level:3}],d={toc:p},h="wrapper";function m(e){let{components:t,...o}=e;return(0,l.kt)(h,(0,a.Z)({},d,o,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h2",{id:"initialise"},"Initialise"),(0,l.kt)("p",null,"In order to use the rest of this extensions functionality you must first initialise the extension, specifying the service type you wish to use in your application."),(0,l.kt)("p",null,"This allows us to provide the same API to various different services."),(0,l.kt)(r.Z,{groupId:"framework",defaultValue:"air",values:[{label:"AIR",value:"air"},{label:"Unity",value:"unity"}],mdxType:"Tabs"},(0,l.kt)(i.Z,{value:"air",mdxType:"TabItem"},(0,l.kt)("p",null,"To use the default service just call ",(0,l.kt)("inlineCode",{parentName:"p"},"initialise()")," with no parameters:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-actionscript"},"// Initialise the default service\nHealth.instance.initialise();\n")),(0,l.kt)("p",null,"To specify the service type, construct a ",(0,l.kt)("inlineCode",{parentName:"p"},"HealthService")," instance and pass it to the ",(0,l.kt)("inlineCode",{parentName:"p"},"initialise()")," method, eg to use the ",(0,l.kt)("inlineCode",{parentName:"p"},"HealthService.HEALTH_CONNECT")," service:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-actionscript"},"Health.instance.initialise(\n        new HealthService()\n                .setServiceType( HealthService.HEALTH_CONNECT )\n);\n"))),(0,l.kt)(i.Z,{value:"unity",mdxType:"TabItem"},(0,l.kt)("p",null,"To use the default service just call ",(0,l.kt)("inlineCode",{parentName:"p"},"Initialise()")," with no parameters:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-csharp"},"// Initialise the default service\nHealth.Instance.Initialise();\n")),(0,l.kt)("p",null,"To specify the service type, construct a ",(0,l.kt)("inlineCode",{parentName:"p"},"HealthService")," instance and pass it to the ",(0,l.kt)("inlineCode",{parentName:"p"},"Initialise()")," method, eg to use the ",(0,l.kt)("inlineCode",{parentName:"p"},"HealthService.HEALTH_CONNECT")," service:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-csharp"},"Health.Instance.Initialise(\n        new HealthService()\n                .SetServiceTypw( HealthService.HEALTH_CONNECT )\n);\n")))),(0,l.kt)("p",null,"You can check whether a service is supported via the following:"),(0,l.kt)(r.Z,{groupId:"framework",defaultValue:"air",values:[{label:"AIR",value:"air"},{label:"Unity",value:"unity"}],mdxType:"Tabs"},(0,l.kt)(i.Z,{value:"air",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-actionscript"},"if (Health.instance.isServiceSupported( HealthService.HEALTH_CONNECT ))\n{\n    // Health Connect is supported\n}\n"))),(0,l.kt)(i.Z,{value:"unity",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-csharp"},"if (Health.Instance.IsServiceSupported( HealthService.HEALTH_CONNECT ))\n{\n    // Health Connect is supported\n}\n")))),(0,l.kt)("p",null,"Services include: "),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"HealthService.APPLE"),": Apple's HealthKit;"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"HealthService.HEALTH_CONNECT"),": Android Health Connect;"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"HealthService.FIT"),": Google Fitness API;")),(0,l.kt)("p",null,"The default service on iOS is HealthKit, and on Android is Health Connect. "),(0,l.kt)("h2",{id:"android-health-connect"},"Android Health Connect"),(0,l.kt)("p",null,"Access to Health Connect depends on the Android version installed on the phone. The following sections outline how to handle several recent versions of Android."),(0,l.kt)("h3",{id:"android-14"},"Android 14"),(0,l.kt)("p",null,"Starting Android 14 (API Level 34), Health Connect is part of the Android Framework. This version of Health Connect is a framework module. With that, there's no setup necessary."),(0,l.kt)("h3",{id:"android-13-and-lower"},"Android 13 and lower"),(0,l.kt)("p",null,"On Android 13 (API Level 33) and lower versions, Health Connect is not part of the Android Framework. With that, you need to install the ",(0,l.kt)("a",{parentName:"p",href:"https://play.google.com/store/apps/details?id=com.google.android.apps.healthdata"},"Health Connect app")," from the Google Play Store."),(0,l.kt)("h3",{id:"open-the-health-connect-app"},"Open the Health Connect app"),(0,l.kt)("p",null,"Health Connect no longer appears on the Home screen by default. You can open Health Connect through Settings, though the path varies depending on the Android version:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"On Android 14 and higher"),": Go to ",(0,l.kt)("em",{parentName:"li"},"Settings > Security and Privacy > Privacy Controls > Health Connect"),", or search for ",(0,l.kt)("em",{parentName:"li"},"Health Connect")," in Settings."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"On Android 13 and lower"),": Go to ",(0,l.kt)("em",{parentName:"li"},"Settings > Apps > Health Connect"),", or add Health Connect to your Quick Settings menu.")),(0,l.kt)("admonition",{type:"note"},(0,l.kt)("p",{parentName:"admonition"},"The Health Connect SDK supports Android 8 (API level 26) or higher, while the Health Connect app is only compatible with Android 9 (API level 28) or higher. This means that third-party apps can support users with Android 8, but only users with Android 9 or higher can use Health Connect.")),(0,l.kt)("h2",{id:"google-fitness-api"},"Google Fitness API"),(0,l.kt)("admonition",{type:"warning"},(0,l.kt)("p",{parentName:"admonition"},"Please note that the Fitness API has been deprecated in favour of Health Connect. You should use Health Connect where possible.")),(0,l.kt)("p",null,"Follow Google's Guide to create an OAuth client ID for your application and add the Fitness API to your Google app console project."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://developers.google.com/fit/android/get-started"},"Guide"))),(0,l.kt)("admonition",{type:"note"},(0,l.kt)("p",{parentName:"admonition"},"You may need to submit your application for verification from Google. ")),(0,l.kt)("p",null,"You will need to setup and sign-in your users using the ",(0,l.kt)("a",{parentName:"p",href:"/docs/health/authorisation#users"},"Google Identity extension"),"."),(0,l.kt)("h2",{id:"apple-healthkit"},"Apple HealthKit"),(0,l.kt)("h3",{id:"enable-healthkit"},"Enable HealthKit"),(0,l.kt)("p",null,"Before you can use HealthKit, you must enable the HealthKit capabilities for your app."),(0,l.kt)("p",null,"Open your developer console and enable HealthKit for your application identifier:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Open the ",(0,l.kt)("a",{parentName:"li",href:"https://developer.apple.com/account/resources/identifiers"},"Developer Console")),(0,l.kt)("li",{parentName:"ul"},"Locate your application and click on it to edit;"),(0,l.kt)("li",{parentName:"ul"},"Under ",(0,l.kt)("strong",{parentName:"li"},"Capabilities"),", locate ",(0,l.kt)("strong",{parentName:"li"},"HealthKit")," and enable it:")),(0,l.kt)("p",null,(0,l.kt)("img",{src:n(28298).Z,width:"480",height:"177"})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Click ",(0,l.kt)("strong",{parentName:"li"},"Save"),";")),(0,l.kt)("p",null,"You will now need to regenerate your provisioning profiles and download them again:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Navigate to ",(0,l.kt)("a",{parentName:"li",href:"https://developer.apple.com/account/resources/profiles/list"},"Profiles")),(0,l.kt)("li",{parentName:"ul"},"Locate and ",(0,l.kt)("strong",{parentName:"li"},"Edit")," your profile;"),(0,l.kt)("li",{parentName:"ul"},"Click ",(0,l.kt)("strong",{parentName:"li"},"Save"),";"),(0,l.kt)("li",{parentName:"ul"},"Click ",(0,l.kt)("strong",{parentName:"li"},"Download")," to download the updated profile;")))}m.isMDXComponent=!0},28298:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/setup_ios_enable_healthkit-86dcfc1251f59f873eb72b0b64ea699f.png"}}]);
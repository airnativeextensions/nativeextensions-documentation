"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[2309],{3905:function(e,t,n){n.d(t,{Zo:function(){return s},kt:function(){return d}});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=r.createContext({}),u=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},s=function(e){var t=u(e.components);return r.createElement(c.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,c=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),h=u(n),d=a,f=h["".concat(c,".").concat(d)]||h[d]||p[d]||o;return n?r.createElement(f,i(i({ref:t},s),{},{components:n})):r.createElement(f,i({ref:t},s))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=h;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:a,i[1]=l;for(var u=2;u<o;u++)i[u]=n[u];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}h.displayName="MDXCreateElement"},90269:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return l},contentTitle:function(){return c},metadata:function(){return u},toc:function(){return s},default:function(){return h}});var r=n(87462),a=n(63366),o=(n(67294),n(3905)),i=["components"],l={title:"Adapter State",sidebar_label:"Adapter State"},c=void 0,u={unversionedId:"bluetoothle/adapter-state",id:"bluetoothle/adapter-state",title:"Adapter State",description:"Checking the adapter state",source:"@site/docs/bluetoothle/adapter-state.md",sourceDirName:"bluetoothle",slug:"/bluetoothle/adapter-state",permalink:"/docs/bluetoothle/adapter-state",tags:[],version:"current",frontMatter:{title:"Adapter State",sidebar_label:"Adapter State"},sidebar:"bluetoothle",previous:{title:"Request Authorisation",permalink:"/docs/bluetoothle/request-authorisation"},next:{title:"Centrals and Peripherals",permalink:"/docs/bluetoothle/centrals-and-peripherals"}},s=[{value:"Checking the adapter state",id:"checking-the-adapter-state",children:[],level:2}],p={toc:s};function h(e){var t=e.components,n=(0,a.Z)(e,i);return(0,o.kt)("wrapper",(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"checking-the-adapter-state"},"Checking the adapter state"),(0,o.kt)("p",null,"The next step is to check the state of the adapter, i.e. check whether the Bluetooth\nadapter is turned on and whether the user has granted your application permission.\nYou must also take into account that the user may turn off Bluetooth at any time so\nyou should listen for the ",(0,o.kt)("inlineCode",{parentName:"p"},"STATE_CHANGED")," event and react accordingly. Any scanning will\nbe stopped and you'll have to restart this once the adapter state changes again."),(0,o.kt)("p",null,"The values of the state property are defined in the ",(0,o.kt)("inlineCode",{parentName:"p"},"BluetoothLEState")," class."),(0,o.kt)("p",null,"On iOS we cannot turn the adapter through code, instead you have to prompt the user,\nrequesting they turn on Bluetooth."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-actionscript"},'BluetoothLE.service.addEventListener( BluetoothLEEvent.STATE_CHANGED, stateChangedHandler );\n\nswitch (BluetoothLE.service.state)\n{\n    case BluetoothLEState.STATE_ON: \n        // We can use the Bluetooth LE functions\n        break;\n        \n    case BluetoothLEState.STATE_OFF:\n    case BluetoothLEState.STATE_RESETTING:  \n    case BluetoothLEState.STATE_UNAUTHORISED:   \n    case BluetoothLEState.STATE_UNSUPPORTED:    \n    case BluetoothLEState.STATE_UNKNOWN:\n        // All of these indicate the Bluetooth LE is not available\n}\n\n\nfunction stateChangedHandler( event:BluetoothLEEvent ):void\n{\n    trace( "stateChangedHandler(): "+BluetoothLE.service.state );\n}\n')))}h.isMDXComponent=!0}}]);
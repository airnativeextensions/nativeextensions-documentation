"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[81802],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return h}});var a=n(67294);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,l=function(e,t){if(null==e)return{};var n,a,l={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var u=a.createContext({}),s=function(e){var t=a.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=s(e.components);return a.createElement(u.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,l=e.mdxType,r=e.originalType,u=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),d=s(n),h=l,m=d["".concat(u,".").concat(h)]||d[h]||c[h]||r;return n?a.createElement(m,i(i({ref:t},p),{},{components:n})):a.createElement(m,i({ref:t},p))}));function h(e,t){var n=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var r=n.length,i=new Array(r);i[0]=d;var o={};for(var u in t)hasOwnProperty.call(t,u)&&(o[u]=t[u]);o.originalType=e,o.mdxType="string"==typeof e?e:l,i[1]=o;for(var s=2;s<r;s++)i[s]=n[s];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},32195:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return o},contentTitle:function(){return u},metadata:function(){return s},toc:function(){return p},default:function(){return d}});var a=n(87462),l=n(63366),r=(n(67294),n(3905)),i=["components"],o={title:"Unity",sidebar_label:"Unity"},u=void 0,s={unversionedId:"cloudstorage/unity",id:"cloudstorage/unity",title:"Unity",description:"- Overview",source:"@site/docs/cloudstorage/unity.md",sourceDirName:"cloudstorage",slug:"/cloudstorage/unity",permalink:"/docs/cloudstorage/unity",tags:[],version:"current",frontMatter:{title:"Unity",sidebar_label:"Unity"}},p=[{value:"Asset Store",id:"asset-store",children:[],level:2},{value:"Manual Installation",id:"manual-installation",children:[],level:2},{value:"Import the Plugin",id:"import-the-plugin",children:[],level:2},{value:"iOS / tvOS",id:"ios--tvos",children:[],level:2},{value:"Checking for Support",id:"checking-for-support",children:[],level:2},{value:"Key-Value Storage",id:"key-value-storage",children:[{value:"Set Values",id:"set-values",children:[],level:3},{value:"Get Values",id:"get-values",children:[],level:3},{value:"Remove Value",id:"remove-value",children:[],level:3},{value:"Events",id:"events",children:[],level:3},{value:"Example",id:"example",children:[],level:3}],level:2}],c={toc:p};function d(e){var t=e.components,o=(0,l.Z)(e,i);return(0,r.kt)("wrapper",(0,a.Z)({},c,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(68383).Z,width:"1200",height:"630"})),(0,r.kt)("h1",{id:"contents"},"Contents"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#overview"},"Overview")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#features"},"Features")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#add-the-plugin"},"Add the Plugin"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#asset-store"},"Asset Store")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#manual-installation"},"Manual Installation")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#import-the-plugin"},"Import the Plugin")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#usage"},"Usage"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#checking-for-support"},"Checking for Support"),"   "),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#key-value-storage"},"Key-Value Storage"),"   ",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#set-values"},"Set Values"),"   "),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#get-values"},"Get Values"),"   "),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#events"},"Events"),"   "),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#example"},"Example"),"   "))))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#support"},"Support"))),(0,r.kt)("h1",{id:"overview"},"Overview"),(0,r.kt)("p",null,"The ",(0,r.kt)("a",{parentName:"p",href:"https://universalextensions.com/extension/com.distriqt.CloudStorage"},"Cloud Storage")," plugin provides the ability to save data to cloud storage services, such as iCloud."),(0,r.kt)("p",null,"The simple API allows you to quickly integrate saving data to the cloud using the native cloud services on a user's device. The key-value storage allows you to store discrete values in the cloud for app preferences, app configuration, or app state. Key-value storage is similar to the local user defaults database; but values that you place in key-value storage are available to every instance of your app on all of a user\u2019s various devices. If one instance of your app changes a value, the other instances see that change and can use it to update their configuration."),(0,r.kt)("p",null,"We provide complete guides to get you up and running with cloud storage quickly and easily."),(0,r.kt)("p",null,"It supports both Unity and Adobe AIR frameworks on ",(0,r.kt)("strong",{parentName:"p"},"iOS"),", ",(0,r.kt)("strong",{parentName:"p"},"tvOS")," and ",(0,r.kt)("strong",{parentName:"p"},"macOS"),", allowing you to use the same functionality on all frameworks and platforms."),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(90894).Z,width:"600",height:"450"})),(0,r.kt)("h1",{id:"features"},"Features"),(0,r.kt)("p",null,"Save key/value pairs to iCloud on: "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"iOS;"),(0,r.kt)("li",{parentName:"ul"},"tvOS; and, "),(0,r.kt)("li",{parentName:"ul"},"macOS")),(0,r.kt)("p",null,"As with all our extensions you get access to a year of support and updates as we are continually improving and updating the extensions for OS updates and feature requests."),(0,r.kt)("h1",{id:"add-the-plugin"},"Add the Plugin"),(0,r.kt)("p",null,"First step is always to add the plugin to your development environment. "),(0,r.kt)("h2",{id:"asset-store"},"Asset Store"),(0,r.kt)("p",null,"Open the Asset Store in your browser and add the CloudStorage plugin to your assets."),(0,r.kt)("p",null,'Open the Package Manager (Window > Package Manager) in the Unity Editor and select the "My Assets" section. Select the CloudStorage plugin, and click Import in the bottom right.'),(0,r.kt)("h2",{id:"manual-installation"},"Manual Installation"),(0,r.kt)("p",null,"In unity you import the package by selecting ",(0,r.kt)("inlineCode",{parentName:"p"},"Assets / Import Package / Custom Package ...")," and then browsing to the unity plugin package file: ",(0,r.kt)("inlineCode",{parentName:"p"},"com.distriqt.CloudStorage.unitypackage"),"."),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(36458).Z,width:"408",height:"268"})),(0,r.kt)("p",null,"You can manually download the extension from our repository:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/distriqt/ANE-CloudStorage"},"https://github.com/distriqt/ANE-CloudStorage"))),(0,r.kt)("h2",{id:"import-the-plugin"},"Import the Plugin"),(0,r.kt)("p",null,"This will present the import dialog and display all the files for the plugin, make sure all the files are selected."),(0,r.kt)("p",null,"The plugin will be added to your project and you can now use the plugins functionality in your application."),(0,r.kt)("h2",{id:"ios--tvos"},"iOS / tvOS"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"Capabilities")," editor script should automatically enable iCloud key-value store for your Xcode project, which should add the appropriate value for the ",(0,r.kt)("inlineCode",{parentName:"p"},"com.apple.developer.ubiquity-kvstore-identifier")," key in your entitlements."),(0,r.kt)("p",null,"We suggest you ensure the value is correct and that cloud kit has been enabled in the capabilities section of your Xcode project."),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(25032).Z,width:"685",height:"133"})),(0,r.kt)("h1",{id:"usage"},"Usage"),(0,r.kt)("h2",{id:"checking-for-support"},"Checking for Support"),(0,r.kt)("p",null,"You can use the ",(0,r.kt)("inlineCode",{parentName:"p"},"isSupported")," flag to determine if this extension is supported on the current platform and device."),(0,r.kt)("p",null,"This allows you to react to whether the functionality is available on the device and provide an alternative solution if not."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"if (CloudStorage.isSupported)\n{\n    // Functionality here\n}\n")),(0,r.kt)("h2",{id:"key-value-storage"},"Key-Value Storage"),(0,r.kt)("p",null,"The key-value storage system can be broken down into several main concepts:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"setting a value;"),(0,r.kt)("li",{parentName:"ul"},"getting a value;"),(0,r.kt)("li",{parentName:"ul"},"listen for changes;")),(0,r.kt)("p",null,"This represents the majority functionality you will need to implement to be able to successfully store values in the cloud. "),(0,r.kt)("h3",{id:"set-values"},"Set Values"),(0,r.kt)("p",null,"Firstly to set a value, you call ",(0,r.kt)("inlineCode",{parentName:"p"},"SetString"),", which takes a ",(0,r.kt)("inlineCode",{parentName:"p"},"key")," and a ",(0,r.kt)("inlineCode",{parentName:"p"},"value")," as parameters. "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},'CloudStorage.Instance.SetString("userId", "some_value");\n')),(0,r.kt)("p",null,"or to set an integer value:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},'CloudStorage.Instance.SetInt("userId", 5);\n')),(0,r.kt)("h3",{id:"get-values"},"Get Values"),(0,r.kt)("p",null,"You can then retrieve the value using ",(0,r.kt)("inlineCode",{parentName:"p"},"GetString")," providing the same ",(0,r.kt)("inlineCode",{parentName:"p"},"key")," as\na parameter which will then return the value set previously."),(0,r.kt)("p",null,"For example: "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},'var userId = CloudStorage.Instance.GetString("userId");\n')),(0,r.kt)("h3",{id:"remove-value"},"Remove Value"),(0,r.kt)("p",null,"To remove a value that you have previously set you can use the ",(0,r.kt)("inlineCode",{parentName:"p"},"Remove")," function:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},'CloudStorage.Instance.Remove("userId");\n')),(0,r.kt)("h3",{id:"events"},"Events"),(0,r.kt)("p",null,"The extension will dispatch events when the values are changed (on another device) and when\nother system events occur:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Changed: Indicates a value has changed and the event will contain an array of keys that changed",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"OnChanged")," event"))),(0,r.kt)("li",{parentName:"ul"},"Over Quota: Your app's key-value store has exceeded its space quota on the server",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"OnOverQuota")," event"))),(0,r.kt)("li",{parentName:"ul"},"Account Changed: The user's account was changed",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"OnAccountChanged")," event"))),(0,r.kt)("li",{parentName:"ul"},"Initial Sync: The initial data synchronisation from the server was received",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"OnInitialSync")," event")))),(0,r.kt)("h3",{id:"example"},"Example"),(0,r.kt)("p",null,"The following example shows the core concepts, setting then retrieving a value and listening\nto the ",(0,r.kt)("inlineCode",{parentName:"p"},"OnChanged")," event."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},'CloudStorage.Instance.OnChanged += Instance_OnChanged;\nCloudStorage.Instance.Synchronise();\n\n// Set a value\nCloudStorage.Instance.SetString( "KEY_FOR_VALUE", "some_value" );\n\n// Retrieve the value\nstring value = CloudStorage.Instance.GetString( "KEY_FOR_VALUE" )\n\n\nprivate void Instance_OnChanged(KeyValueStoreEvent e)\n{\n    Debug.Log("OnChanged");\n    // e.changedKeys contains an array of changed keys\n    foreach (string key in e.changedKeys)\n    {\n        Debug.Log("OnChanged: " + key);\n    }\n}\n')),(0,r.kt)("h1",{id:"support"},"Support"),(0,r.kt)("p",null,"If you need further support integrating or using this extension please feel free to contact us."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Email: ",(0,r.kt)("a",{parentName:"li",href:"mailto:unityplugins@distriqt.com"},"unityplugins@distriqt.com"))),(0,r.kt)("p",null,"We have been supporting developers for over 10 years and always happy to help."),(0,r.kt)("br",null),(0,r.kt)("br",null),(0,r.kt)("br",null),(0,r.kt)("br",null),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(88351).Z,width:"350",height:"122"})),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://distriqt.com"},"https://distriqt.com")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"http://universalextensions.com"},"more native extensions"))))}d.isMDXComponent=!0},25032:function(e,t,n){t.Z=n.p+"assets/images/capabilities-ee41ff9aa914004463e84bb64988dbb9.png"},90894:function(e,t,n){t.Z=n.p+"assets/images/cloudstorage-08e063e687d032e566bca33467e841af.png"},88351:function(e,t,n){t.Z=n.p+"assets/images/distriqt-8a12c7d5668fa470c2792eff60114604.png"},68383:function(e,t,n){t.Z=n.p+"assets/images/header-95a1d2786a16bbdd47f62f35b26282ee.png"},36458:function(e,t,n){t.Z=n.p+"assets/images/unity-import-package-b85c051a845ff354a7a93475c2d8e06a.png"}}]);
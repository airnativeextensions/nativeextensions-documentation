"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[71163],{3905:function(e,n,t){t.d(n,{Zo:function(){return u},kt:function(){return f}});var i=t(67294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n){if(null==e)return{};var t,i,o=function(e,n){if(null==e)return{};var t,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)t=a[i],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)t=a[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var s=i.createContext({}),l=function(e){var n=i.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):r(r({},n),e)),t},u=function(e){var n=l(e.components);return i.createElement(s.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return i.createElement(i.Fragment,{},n)}},d=i.forwardRef((function(e,n){var t=e.components,o=e.mdxType,a=e.originalType,s=e.parentName,u=c(e,["components","mdxType","originalType","parentName"]),d=l(t),f=o,h=d["".concat(s,".").concat(f)]||d[f]||p[f]||a;return t?i.createElement(h,r(r({ref:n},u),{},{components:t})):i.createElement(h,r({ref:n},u))}));function f(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var a=t.length,r=new Array(a);r[0]=d;var c={};for(var s in n)hasOwnProperty.call(n,s)&&(c[s]=n[s]);c.originalType=e,c.mdxType="string"==typeof e?e:o,r[1]=c;for(var l=2;l<a;l++)r[l]=t[l];return i.createElement.apply(null,r)}return i.createElement.apply(null,t)}d.displayName="MDXCreateElement"},92970:function(e,n,t){t.r(n),t.d(n,{assets:function(){return u},contentTitle:function(){return s},default:function(){return f},frontMatter:function(){return c},metadata:function(){return l},toc:function(){return p}});var i=t(83117),o=t(80102),a=(t(67294),t(3905)),r=["components"],c={title:"Setup your Service",sidebar_label:"Setup your Service"},s=void 0,l={unversionedId:"notifications/setup-your-service",id:"notifications/setup-your-service",title:"Setup your Service",description:"When you are setting up your Service there are a few additional options you can set to use some of the",source:"@site/docs/notifications/setup-your-service.md",sourceDirName:"notifications",slug:"/notifications/setup-your-service",permalink:"/docs/notifications/setup-your-service",draft:!1,tags:[],version:"current",frontMatter:{title:"Setup your Service",sidebar_label:"Setup your Service"},sidebar:"notifications",previous:{title:"Request Authorisation",permalink:"/docs/notifications/request-authorisation"},next:{title:"Register for notifications",permalink:"/docs/notifications/register-for-notifications"}},u={},p=[{value:"Categories and Actions",id:"categories-and-actions",level:3},{value:"Actions",id:"actions",level:3},{value:"Notifications When Active",id:"notifications-when-active",level:3},{value:"Channels",id:"channels",level:3},{value:"Creating Channels",id:"creating-channels",level:4}],d={toc:p};function f(e){var n=e.components,c=(0,o.Z)(e,r);return(0,a.kt)("wrapper",(0,i.Z)({},d,c,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"When you are setting up your Service there are a few additional options you can set to use some of the\nadvanced features of the services."),(0,a.kt)("h3",{id:"categories-and-actions"},"Categories and Actions"),(0,a.kt)("p",null,"The main feature you will probably want to configure here are your notification categories and actions.\nThese represent the quick actions that a user can take on a notification."),(0,a.kt)("p",null,"A notification can be given a category. The system will then apply that category to the notification.\nA category contains a series of actions which will be displayed when the notification is interacted with.\nEach category and action must be given a unique identifier so you can process them accordingly in your code.\nAdditionally each action must be given a title."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-actionscript"},'var service:Service = new Service();\n\nservice.categories.push( \n    new CategoryBuilder()\n        .setIdentifier( "INVITE_CATEGORY" )\n        .addAction( \n            new ActionBuilder()\n                .setTitle( "Accept" )\n                .setIdentifier( "ACCEPT_IDENTIFIER" )\n                .setIcon( "ic_stat_distriqt_default" )\n                .build()\n        )\n        .addAction( \n            new ActionBuilder()\n                .setTitle( "Delete" )\n                .setDestructive( true )\n                .setIdentifier( "DELETE_IDENTIFIER" )\n                .build()\n        )\n        .build()\n);\n\nNotifications.service.setup( service );\n')),(0,a.kt)("admonition",{type:"note"},(0,a.kt)("p",{parentName:"admonition"},(0,a.kt)("inlineCode",{parentName:"p"},"setDestructive()")," is only supported on some platforms. ")),(0,a.kt)("h3",{id:"actions"},"Actions"),(0,a.kt)("p",null,"On Android you have two additional options that you can use to control in more detail\nthe operation when the user interacts with an action."),(0,a.kt)("p",null,"If you wish to launch your application when an action is clicked you can use\n",(0,a.kt)("inlineCode",{parentName:"p"},"setWillLaunchApplication")," and set it to ",(0,a.kt)("inlineCode",{parentName:"p"},"true"),"."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-actionscript"},'...\n            new ActionBuilder()\n                .setTitle( "Accept" )\n                .setIdentifier( "ACCEPT_IDENTIFIER" )\n                .setWillLaunchApplication( true )\n                .build()\n...\n')),(0,a.kt)("p",null,"When a user clicks this action, it will launch your application and bring it to the foreground."),(0,a.kt)("p",null,"If you wish for your notification to be cancelled (i.e. removed from the notification center)\nyou can use ",(0,a.kt)("inlineCode",{parentName:"p"},"setShouldCancelOnAction")," and pass ",(0,a.kt)("inlineCode",{parentName:"p"},"true"),"."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-actionscript"},'...\n            new ActionBuilder()\n                .setTitle( "Accept" )\n                .setIdentifier( "ACCEPT_IDENTIFIER" )\n                .setShouldCancelOnAction( true )\n                .build()\n...\n')),(0,a.kt)("p",null,"When a user clicks this action, the notification will be cancelled and removed from the notification area."),(0,a.kt)("h3",{id:"notifications-when-active"},"Notifications When Active"),(0,a.kt)("p",null,"On Android and on iOS v10+ you can enable notifications while your application is active.\nThis will show a notification to the user, even if they are currently using the application."),(0,a.kt)("p",null,"The default is ",(0,a.kt)("inlineCode",{parentName:"p"},"false"),", i.e. not show a notification and your application would only receive\nthe notification event."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-actionscript"},"service.enableNotificationsWhenActive = true;\n")),(0,a.kt)("h3",{id:"channels"},"Channels"),(0,a.kt)("p",null,"New to Android ",(0,a.kt)("inlineCode",{parentName:"p"},"8.0")," (API level 26) is the concept of a notification channel. "),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"Notification channels provide a unified system to help users manage notifications. When you target Android 8.0 (API level 26), you must implement one or more notification channels to display notifications to your users. If you don't target Android 8.0 (API level 26) but your app is used on devices running Android 8.0 (API level 26), your app behaves the same as it would on devices running Android 7.1 (API level 25) or lower.")),(0,a.kt)("admonition",{type:"note"},(0,a.kt)("p",{parentName:"admonition"},"The user interface refers to notification channels as notification categories.")),(0,a.kt)("p",null,"You can create an instance of a ",(0,a.kt)("inlineCode",{parentName:"p"},"Channel")," for each distinct type of notification you need to send. You can also create notification channels to reflect choices made by users of your app. For example, you may set up separate notification channels for each conversation group created by a user in a messaging app."),(0,a.kt)("p",null,"Users can manage most of the settings associated with notifications using a consistent system UI. All notifications posted to the same notification channel have the same behaviour. When a user modifies the behaviour for any of the following characteristics, it applies to the notification channel:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Importance"),(0,a.kt)("li",{parentName:"ul"},"Sound"),(0,a.kt)("li",{parentName:"ul"},"Lights"),(0,a.kt)("li",{parentName:"ul"},"Vibration"),(0,a.kt)("li",{parentName:"ul"},"Show on lockscreen"),(0,a.kt)("li",{parentName:"ul"},"Override do not disturb")),(0,a.kt)("p",null,(0,a.kt)("img",{src:t(63662).Z,width:"400",height:"711"})),(0,a.kt)("p",null,"Users can visit Settings, or long-press a notification to change these behaviors, or even block a notification channel at any time. You can't programmatically modify the behaviour of a notification channel after it's created and submitted to the notification manager; the user is in charge of those settings after creation. You can however rename a notification channel or update its description after creation."),(0,a.kt)("h4",{id:"creating-channels"},"Creating Channels"),(0,a.kt)("p",null,"To create channels you add them to your ",(0,a.kt)("inlineCode",{parentName:"p"},"Service")," definition. A ",(0,a.kt)("inlineCode",{parentName:"p"},"Service.channels")," is an array of ",(0,a.kt)("inlineCode",{parentName:"p"},"Channel")," objects that you should create when passing your service to the ",(0,a.kt)("inlineCode",{parentName:"p"},"setup")," function."),(0,a.kt)("p",null,"You should use the ",(0,a.kt)("inlineCode",{parentName:"p"},"ChannelBuilder")," to create a ",(0,a.kt)("inlineCode",{parentName:"p"},"Channel")," object."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-actionscript"},'var service:Service = new Service();\n\n// Setup other service related properties\n\nservice.channels.push(\n    new ChannelBuilder()\n        .setId( "example_channel" )\n        .setName( "Example Channel" )\n        .build()\n);\n')),(0,a.kt)("admonition",{type:"caution"},(0,a.kt)("p",{parentName:"admonition"},"You must add at least one channel.")))}f.isMDXComponent=!0},63662:function(e,n,t){n.Z=t.p+"assets/images/android-channels-settings-37c9e04e9eea1b7866b3da4a6362cf6a.png"}}]);
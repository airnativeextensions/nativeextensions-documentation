(window.webpackJsonp=window.webpackJsonp||[]).push([[371],{428:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return o})),t.d(n,"metadata",(function(){return c})),t.d(n,"rightToc",(function(){return s})),t.d(n,"default",(function(){return u}));var r=t(2),i=t(6),a=(t(0),t(886)),o={title:"OneSignal - Migrating to v7.5",sidebar_label:"Migrating to v7.5"},c={unversionedId:"pushnotifications/onesignal/migrating-to-v7.5",id:"pushnotifications/onesignal/migrating-to-v7.5",isDocsHomePage:!1,title:"OneSignal - Migrating to v7.5",description:"Migrating",source:"@site/docs/pushnotifications/onesignal/migrating-to-v7.5.md",slug:"/pushnotifications/onesignal/migrating-to-v7.5",permalink:"/docs/pushnotifications/onesignal/migrating-to-v7.5",version:"current",sidebar_label:"Migrating to v7.5"},s=[{value:"Migrating",id:"migrating",children:[]},{value:"User Consent",id:"user-consent",children:[]},{value:"Firebase Cloud Messaging",id:"firebase-cloud-messaging",children:[]}],l={rightToc:s};function u(e){var n=e.components,t=Object(i.a)(e,["components"]);return Object(a.b)("wrapper",Object(r.a)({},l,t,{components:n,mdxType:"MDXLayout"}),Object(a.b)("h2",{id:"migrating"},"Migrating"),Object(a.b)("p",null,"v7.5 brings a few changes to OneSignal:"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"Addition of GDPR user consent"),Object(a.b)("li",{parentName:"ul"},"Android migration to Firebase Cloud Messaging (FCM)")),Object(a.b)("h2",{id:"user-consent"},"User Consent"),Object(a.b)("p",null,"See the documentation on ",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"../user-consent"}),"user consent")),Object(a.b)("h2",{id:"firebase-cloud-messaging"},"Firebase Cloud Messaging"),Object(a.b)("p",null,"v3.9.1 of the OneSignal SDK utilises FCM on Android. "),Object(a.b)("p",null,"This means you will need to add the Firebase dependencies to your application and remove the Play Services GCM ANE."),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"Add the Firebase core ANE: ",Object(a.b)("a",Object(r.a)({parentName:"li"},{href:"https://github.com/distriqt/ANE-GooglePlayServices/raw/master/lib/com.google.firebase.core.ane"}),"com.google.firebase.core.ane")),Object(a.b)("li",{parentName:"ul"},"Add the Firebase core ",Object(a.b)("a",Object(r.a)({parentName:"li"},{href:"onesignal#manifest-additions"}),"manifest additions")," "),Object(a.b)("li",{parentName:"ul"},"Ensure you are using a Firebase server key in your OneSignal configuration: ",Object(a.b)("a",Object(r.a)({parentName:"li"},{href:"https://documentation.onesignal.com/docs/firebase-cloud-messaging-fcm"}),"https://documentation.onesignal.com/docs/firebase-cloud-messaging-fcm"))),Object(a.b)("blockquote",null,Object(a.b)("p",{parentName:"blockquote"},"iOS still uses APNS directly so no changes are required if you only use iOS")))}u.isMDXComponent=!0},886:function(e,n,t){"use strict";t.d(n,"a",(function(){return b})),t.d(n,"b",(function(){return d}));var r=t(0),i=t.n(r);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var l=i.a.createContext({}),u=function(e){var n=i.a.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):c(c({},n),e)),t},b=function(e){var n=u(e.components);return i.a.createElement(l.Provider,{value:n},e.children)},g={inlineCode:"code",wrapper:function(e){var n=e.children;return i.a.createElement(i.a.Fragment,{},n)}},p=i.a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,a=e.originalType,o=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),b=u(t),p=r,d=b["".concat(o,".").concat(p)]||b[p]||g[p]||a;return t?i.a.createElement(d,c(c({ref:n},l),{},{components:t})):i.a.createElement(d,c({ref:n},l))}));function d(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var a=t.length,o=new Array(a);o[0]=p;var c={};for(var s in n)hasOwnProperty.call(n,s)&&(c[s]=n[s]);c.originalType=e,c.mdxType="string"==typeof e?e:r,o[1]=c;for(var l=2;l<a;l++)o[l]=t[l];return i.a.createElement.apply(null,o)}return i.a.createElement.apply(null,t)}p.displayName="MDXCreateElement"}}]);
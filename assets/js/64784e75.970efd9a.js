"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[75217],{28453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>s});var l=r(96540);const i={},t=l.createContext(i);function a(e){const n=l.useContext(t);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),l.createElement(t.Provider,{value:n},e.children)}},57953:(e,n,r)=>{r.d(n,{A:()=>l});const l=r.p+"assets/images/offerwall-50ffe5377411818cd63fe63ff55d76b1.png"},97113:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>s,default:()=>h,frontMatter:()=>a,metadata:()=>l,toc:()=>c});const l=JSON.parse('{"id":"ironsource/offerwall","title":"Offerwall","description":"ironSource no longer provide the offerwall functionality. Since they acquired Tapjoy they are now directing developers to use Tapjoy\'s offerwall.","source":"@site/docs/ironsource/offerwall.md","sourceDirName":"ironsource","slug":"/ironsource/offerwall","permalink":"/docs/ironsource/offerwall","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Offerwall","sidebar_label":"Offerwall"},"sidebar":"ironsource","previous":{"title":"Banner Ads","permalink":"/docs/ironsource/banner-ads"},"next":{"title":"Errors","permalink":"/docs/ironsource/errors"}}');var i=r(74848),t=r(28453);const a={title:"Offerwall",sidebar_label:"Offerwall"},s=void 0,o={},c=[{value:"Availability",id:"availability",level:2},{value:"Present the Offerwall",id:"present-the-offerwall",level:2},{value:"Reward the User",id:"reward-the-user",level:2},{value:"Client side",id:"client-side",level:3},{value:"Proactive polling",id:"proactive-polling",level:4},{value:"Automatic Events",id:"automatic-events",level:4},{value:"Server side",id:"server-side",level:3},{value:"Errors",id:"errors",level:2}];function d(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.admonition,{title:"Deprecated",type:"danger",children:[(0,i.jsx)(n.p,{children:"ironSource no longer provide the offerwall functionality. Since they acquired Tapjoy they are now directing developers to use Tapjoy's offerwall."}),(0,i.jsx)(n.p,{children:"The following documentation is deprecated and will be removed in an upcoming release."})]}),"\n",(0,i.jsx)(n.p,{children:"The offerwall is an in-app advertising unit that app developers use to monetize their apps. It acts like a mini-store in an app, listing multiple \u201coffers\u201d that users can complete in exchange for receiving an in-app reward. For example, users can receive extra in-app coins if they choose to register a username, get to level 25 on a game, make an in-app purchase, and more on the offerwall."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:r(57953).A+"",width:"676",height:"600"})}),"\n",(0,i.jsx)(n.h2,{id:"availability",children:"Availability"}),"\n",(0,i.jsxs)(n.p,{children:["You can check whether the offerwall is currently available at any time by checking the ",(0,i.jsx)(n.code,{children:"isOfferwallAvailable()"})," method:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-actionscript",children:"if (IronSource.instance.isOfferwallAvailable())\n{\n    // Offerwall is available\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["You can also listen for the ",(0,i.jsx)(n.code,{children:"OfferwallEvent.AVAILABLE"})," to respond to changes in the availability of the offerwall."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-actionscript",children:"IronSource.instance.addEventListener( OfferwallEvent.AVAILABLE, offerwallAvailabilityHandler );\n\nfunction offerwallAvailabilityHandler( event:OfferwallEvent ):void\n{\n    // Offerwall availability has changed\n\n    if (IronSource.instance.isOfferwallAvailable())\n    {\n        // Offerwall is available\n    }\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"present-the-offerwall",children:"Present the Offerwall"}),"\n",(0,i.jsxs)(n.p,{children:["Once the Offerwall is available you can call ",(0,i.jsx)(n.code,{children:"showOfferwall()"})," to present the offerwall to your user (typically done after a user clicks on some in-app button)."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-actionscript",children:"IronSource.instance.showOfferwall();\n"})}),"\n",(0,i.jsx)(n.p,{children:"You should always check if the offerwall is available before showing and react accordingly:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-actionscript",children:"if (IronSource.instance.isOfferwallAvailable())\n{\n    IronSource.instance.showOfferwall();\n}\nelse\n{\n    // Inform user feature not available currently\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:"There are several events associated with the display of the offerwall:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"OfferwallEvent.OPENED"}),": Dispatched when the Offerwall is opened;"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"OfferwallEvent.CLOSED"}),": Dispatched when the Offerwall is closed;"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"OfferwallEvent.SHOW_FAILED"}),": Dispatched if the Offerwall failed to show;"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-actionscript",children:"IronSource.instance.addEventListener( OfferwallEvent.OPENED, openedHandler );\nIronSource.instance.addEventListener( OfferwallEvent.CLOSED, closedHandler );\nIronSource.instance.addEventListener( OfferwallEvent.SHOW_FAILED, errorHandler );\n\nif (IronSource.instance.isOfferwallAvailable())\n{\n    IronSource.instance.showOfferwall();\n}\n\n\nfunction openedHandler( event:OfferwallEvent ):void\n{\n    // Offerwall opened\n}\n\nfunction closedHandler( event:OfferwallEvent ):void\n{\n    // Offerwall closed\n}\n\nfunction errorHandler( event:OfferwallEvent ):void\n{\n    // Check event details for error information\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"reward-the-user",children:"Reward the User"}),"\n",(0,i.jsx)(n.p,{children:"There are 2 methods of rewarding your user, using:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Client side callbacks;"}),"\n",(0,i.jsx)(n.li,{children:"Server side callbacks;"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"client-side",children:"Client side"}),"\n",(0,i.jsx)(n.h4,{id:"proactive-polling",children:"Proactive polling"}),"\n",(0,i.jsx)(n.p,{children:"You can poll at any time to retrieve the user's total credits and any new credits."}),"\n",(0,i.jsxs)(n.p,{children:["To do this call the ",(0,i.jsx)(n.code,{children:"getOfferwallCredits()"})," function and await the following events:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"OfferwallEvent.AD_CREDITED"}),": Dispatched when the call completes successfully, the event will contain the current user credits;"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"OfferwallEvent.GETOFFERWALLCREDITS_FAILED"}),": Dispatched if there was an error retrieving the user's credits;"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-actionscript",children:'IronSource.instance.addEventListener( OfferwallEvent.AD_CREDITED, adCreditedHandler );\nIronSource.instance.addEventListener( OfferwallEvent.GETOFFERWALLCREDITS_FAILED, errorHandler );\n\nIronSource.instance.getOfferwallCredits();\n\n\nfunction adCreditedHandler( event:OfferwallEvent ):void\n{\n    trace( "  credits=" + event.credits );\n    trace( "  totalCredits=" + event.totalCredits );\n    trace( "  totalCreditsFlag=" + event.totalCreditsFlag );\n}\n\nfunction errorHandler( event:OfferwallEvent ):void\n{\n    // Check event details for error information\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:"The details retrieved in the event are:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"credits"})," : The number of credits the user has earned since the last ",(0,i.jsx)(n.code,{children:"OfferwallEvent.AD_CREDITED"})," event. Note that the ",(0,i.jsx)(n.code,{children:"credits"})," may represent multiple completions;"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"totalCredits"})," : The total number of credits ever earned by the user;"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"totalCreditsFlag"})," : In some cases, we won\u2019t be able to provide the exact amount of credits since the last event (specifically if the user clears the app\u2019s data). In this case the ",(0,i.jsx)(n.code,{children:"credits"})," will be equal to the ",(0,i.jsx)(n.code,{children:"totalCredits"}),", and this flag will be ",(0,i.jsx)(n.code,{children:"true"}),";"]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"automatic-events",children:"Automatic Events"}),"\n",(0,i.jsxs)(n.p,{children:["You can also enable automatic client side events by calling ",(0,i.jsx)(n.code,{children:"setIronSourceClientSideCallbacks( true )"})," before you initialise the IronSource SDK."]}),"\n",(0,i.jsx)(n.p,{children:"Setting automatic client-side callbacks will make sure that you\u2019re notified about the user\u2019s credit status at specific points in the Offerwall\u2019s lifecycle."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-actionscript",children:"IronSource.instance.setIronSourceClientSideCallbacks(true);\n\nIronSource.instance.init( ... );\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Important! This code MUST be implemented before calling the init."})}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Using this method the ",(0,i.jsx)(n.code,{children:"OfferwallEvent.AD_CREDITED"})," will be dispatched automatically as part of the offerwall lifecycle."]}),"\n",(0,i.jsx)(n.h3,{id:"server-side",children:"Server side"}),"\n",(0,i.jsx)(n.p,{children:"See the ironSource documentation for details on server side callbacks and rewarding users."}),"\n",(0,i.jsx)(n.p,{children:"If you turn on server-to-server callbacks in addition to the client-side callbacks, remember not to reward the user more than once for the same completion. ironSource will fire both the client-side callback and the server-to-server callback. You will get two notifications for each completion."}),"\n",(0,i.jsx)(n.h2,{id:"errors",children:"Errors"}),"\n",(0,i.jsxs)(n.p,{children:["See the complete description of the ironSource errors ",(0,i.jsx)(n.a,{href:"/docs/ironsource/errors",children:"here"}),"."]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);
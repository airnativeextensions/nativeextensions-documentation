"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[9564],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return m}});var a=n(67294);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,s=function(e,t){if(null==e)return{};var n,a,s={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var l=a.createContext({}),d=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=d(e.components);return a.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var n=e.components,s=e.mdxType,r=e.originalType,l=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),p=d(n),m=s,h=p["".concat(l,".").concat(m)]||p[m]||u[m]||r;return n?a.createElement(h,o(o({ref:t},c),{},{components:n})):a.createElement(h,o({ref:t},c))}));function m(e,t){var n=arguments,s=t&&t.mdxType;if("string"==typeof e||s){var r=n.length,o=new Array(r);o[0]=p;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:s,o[1]=i;for(var d=2;d<r;d++)o[d]=n[d];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},92268:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return o},contentTitle:function(){return i},metadata:function(){return l},toc:function(){return d},default:function(){return u}});var a=n(87462),s=n(63366),r=(n(67294),n(3905)),o={title:"Loading an Asset",sidebar_label:"Loading an Asset"},i=void 0,l={unversionedId:"camerarollextended/loading-an-asset",id:"camerarollextended/loading-an-asset",isDocsHomePage:!1,title:"Loading an Asset",description:"To load an image asset use the loadAsset() function passing an Asset reference and a constructed AssetRequest.",source:"@site/docs/camerarollextended/loading-an-asset.md",sourceDirName:"camerarollextended",slug:"/camerarollextended/loading-an-asset",permalink:"/docs/camerarollextended/loading-an-asset",tags:[],version:"current",frontMatter:{title:"Loading an Asset",sidebar_label:"Loading an Asset"},sidebar:"camerarollextended",previous:{title:"Browse for an Asset",permalink:"/docs/camerarollextended/browse-for-an-asset"},next:{title:"File Access",permalink:"/docs/camerarollextended/file-access"}},d=[{value:"Preset Requests",id:"preset-requests",children:[]},{value:"Deprecated API",id:"deprecated-api",children:[]}],c={toc:d};function u(e){var t=e.components,n=(0,s.Z)(e,["components"]);return(0,r.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"To load an image asset use the ",(0,r.kt)("inlineCode",{parentName:"p"},"loadAsset()")," function passing an ",(0,r.kt)("inlineCode",{parentName:"p"},"Asset")," reference and a constructed ",(0,r.kt)("inlineCode",{parentName:"p"},"AssetRequest"),"."),(0,r.kt)("p",null,"To load an asset you firstly need to have retrieved an ",(0,r.kt)("inlineCode",{parentName:"p"},"Asset")," reference from the extension. "),(0,r.kt)("p",null,"Once you have a reference to the asset you wish to load, you will construct an ",(0,r.kt)("inlineCode",{parentName:"p"},"AssetRequest")," to specify the version of the asset to retrieve. This allows you to load a version of the asset that suits your usage specifying the width and height of the loaded data. This is so you don't have to allocate memory to accomodate the entire image and additionally this ensures that the loading and resizing of the image data is done as quickly as possible, reducing the load on the cpu of the device."),(0,r.kt)("p",null,"To construct an ",(0,r.kt)("inlineCode",{parentName:"p"},"AssetRequest")," use the properties on the ",(0,r.kt)("inlineCode",{parentName:"p"},"AssetRequest")," class. You must at least set a width and height to be used."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},"var request:AssetRequest = new AssetRequest()\n        .setResizeMethod( AssetRequest.RESIZE_FILL )\n        .setWidth( 400 )\n        .setHeight( 400 );\n")),(0,r.kt)("p",null,"or "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},"var request:AssetRequest = new AssetRequest( 400, 400, AssetRequest.RESIZE_FILL );\n")),(0,r.kt)("p",null,"Once you have your ",(0,r.kt)("inlineCode",{parentName:"p"},"Asset")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"AssetRequest")," you can initiate the load:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},"var success:Boolean = CameraRollExtended.service.assets.loadAsset( asset, request );\n")),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"loadAsset()")," call when initiated successfully will dispatch an event when complete:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"AssetEvent.ASSET_LOADED"),": If the load was successfully completed;"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"AssetEvent.ASSET_ERROR"),": If an error occurred during the load")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},'CameraRollExtended.service.assets.addEventListener( AssetEvent.ASSET_LOADED, assetLoadedHandler );\nCameraRollExtended.service.assets.addEventListener( AssetEvent.ASSET_ERROR, assetErrorHandler );\n\nCameraRollExtended.service.assets.loadAsset( asset, request );\n\n\nfunction assetLoadedHandler( event:AssetEvent ):void\n{\n    // event.image will contain the bitmap data loaded\n    updateImage( event.image );\n}\n\n\nfunction assetErrorHandler( event:AssetEvent ):void\n{\n    trace( "load asset error: " + event.message );\n}\n')),(0,r.kt)("h2",{id:"preset-requests"},"Preset Requests"),(0,r.kt)("p",null,"To simplify creating requests there are some common preset requests that you may wish to use."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"THUMBNAIL"),": Returns a thumbnail representation of the asset. The size of the thumbnail is the appropriate size for the platform, and in the correct orientation."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"ASPECT_RATIO_THUMBNAIL"),": This representation contains an image with an aspect ratio thumbnail of the asset. The size of the thumbnail is the appropriate size for the platform, and in the correct orientation."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"FULL_RESOLUTION"),": This representation contains the biggest, best representation available. ",(0,r.kt)("strong",{parentName:"li"},"Use this mode sparingly as it will require a significant amount of memory.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"DISPLAY_RESOLUTION"),": This request will load an image that is big enough to cover the entire device screen.")),(0,r.kt)("p",null,"To use these presets simply pass the preset to the ",(0,r.kt)("inlineCode",{parentName:"p"},"loadAsset()")," function instead of a constructed request:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},"CameraRollExtended.service.assets.loadAsset( asset, AssetRequest.ASPECT_RATIO_THUMBNAIL );\n")),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"deprecated-api"},"Deprecated API"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Historical reference only - DO NOT USE this functionality anymore")),(0,r.kt)("p",null,"Once your user has selected an asset you can then load the asset from the device.\nImage assets can be loaded into a ",(0,r.kt)("inlineCode",{parentName:"p"},"BitmapData")," structure using the ",(0,r.kt)("inlineCode",{parentName:"p"},"loadAssetByURL")," function."),(0,r.kt)("p",null,"The example below shows loading an image Asset using this method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-actionscript"},"var asset:Asset = ... ; // Asset retrieved via user selection (browseForAsset)\n\nif (asset.type == Asset.IMAGE)\n{\n    CameraRollExtended.service.addEventListener( CameraRollExtendedEvent.ASSET_LOADED, assetLoadedHandler );\n    CameraRollExtended.service.loadAssetByURL( asset.url, AssetRepresentation.THUMBNAIL );\n}\n\n...\n\nprivate function assetLoadedHandler( event:CameraRollExtendedEvent ):void\n{\n    var asset:Asset = event.assets[0];\n    var bitmap:Bitmap = new Bitmap( asset.bitmapData );\n    addChild( bitmap );\n}\n")))}u.isMDXComponent=!0}}]);
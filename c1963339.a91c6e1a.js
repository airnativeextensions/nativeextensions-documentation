(window.webpackJsonp=window.webpackJsonp||[]).push([[531],{585:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return r})),t.d(n,"metadata",(function(){return p})),t.d(n,"rightToc",(function(){return c})),t.d(n,"default",(function(){return s}));var i=t(2),o=t(6),a=(t(0),t(765)),r={title:"App Links - Incoming Links",sidebar_label:"App Links - Incoming Links"},p={unversionedId:"facebookapi/app-links---incoming-links",id:"facebookapi/app-links---incoming-links",isDocsHomePage:!1,title:"App Links - Incoming Links",description:"Support Incoming Links to Your App",source:"@site/docs/facebookapi/app-links---incoming-links.md",slug:"/facebookapi/app-links---incoming-links",permalink:"/docs/facebookapi/app-links---incoming-links",version:"current",sidebar_label:"App Links - Incoming Links",sidebar:"facebookapi",previous:{title:"App Links - Overview",permalink:"/docs/facebookapi/app-links---overview"},next:{title:"Games - Overview",permalink:"/docs/facebookapi/games---overview"}},c=[{value:"Support Incoming Links to Your App",id:"support-incoming-links-to-your-app",children:[{value:"iOS Info Additions",id:"ios-info-additions",children:[]},{value:"Android Manifest Additions",id:"android-manifest-additions",children:[]}]},{value:"Create an App Link",id:"create-an-app-link",children:[]},{value:"Listening for App Link Events",id:"listening-for-app-link-events",children:[]},{value:"Testing",id:"testing",children:[]},{value:"Testing Deferred Links",id:"testing-deferred-links",children:[]}],l={rightToc:c};function s(e){var n=e.components,t=Object(o.a)(e,["components"]);return Object(a.b)("wrapper",Object(i.a)({},l,t,{components:n,mdxType:"MDXLayout"}),Object(a.b)("h2",{id:"support-incoming-links-to-your-app"},"Support Incoming Links to Your App"),Object(a.b)("p",null,"When people tap the Open / Play button on the invite or the Is Ready installation notification,\nthey will be taken to your app. The URL defined in the App Link will be passed in. "),Object(a.b)("p",null,"In order to support incoming links you need to add some additions to your application descriptor,\nthat will "),Object(a.b)("h3",{id:"ios-info-additions"},"iOS Info Additions"),Object(a.b)("p",null,"You'll need to add a custom url that you will use to open your application. In the following\nyou would be able to open the application using the ",Object(a.b)("inlineCode",{parentName:"p"},"distriqtTestApp://")," url."),Object(a.b)("pre",null,Object(a.b)("code",Object(i.a)({parentName:"pre"},{className:"language-xml"}),"<key>CFBundleURLTypes</key>\n<array>\n    <dict>\n        <key>CFBundleURLSchemes</key>\n        <array>\n            <string>fbXXXXXXXXXX</string>\n            <string>distriqtTestApp</string>\n        </array>\n    </dict>\n</array>\n")),Object(a.b)("p",null,"This should be added to the ",Object(a.b)("inlineCode",{parentName:"p"},"InfoAdditions")," node in your application descriptor."),Object(a.b)("h3",{id:"android-manifest-additions"},"Android Manifest Additions"),Object(a.b)("p",null,"To respond to opening links for your custom URL scheme, add an intent-filter for that specific URL."),Object(a.b)("pre",null,Object(a.b)("code",Object(i.a)({parentName:"pre"},{className:"language-xml"}),'<intent-filter>\n    <action android:name="android.intent.action.VIEW" />\n    <category android:name="android.intent.category.DEFAULT" />\n    <category android:name="android.intent.category.BROWSABLE" />\n    \x3c!-- Accepts URIs "distriqtTestApp://" --\x3e\n    <data android:scheme="distriqtTestApp" />\n</intent-filter>\n')),Object(a.b)("p",null,"This should be added within the ",Object(a.b)("inlineCode",{parentName:"p"},"application")," node of your manifest additions."),Object(a.b)("h2",{id:"create-an-app-link"},"Create an App Link"),Object(a.b)("p",null,"You can use Facebook to host an App Link for you."),Object(a.b)("p",null,"Go to the ",Object(a.b)("a",Object(i.a)({parentName:"p"},{href:"https://developers.facebook.com/quickstarts/?platform=app-links-host"}),"Quick Start"),'\nand fill out the "Enter App Data to Build Your App Link" section for iOS and Android. '),Object(a.b)("p",null,"It's important to use the url scheme you entered into your application descriptor here."),Object(a.b)("h2",{id:"listening-for-app-link-events"},"Listening for App Link Events"),Object(a.b)("p",null,"Your application will be notified of App Link openings using the ",Object(a.b)("inlineCode",{parentName:"p"},"AppLinkEvent"),". "),Object(a.b)("pre",null,Object(a.b)("code",Object(i.a)({parentName:"pre"},{className:"language-actionscript"}),"FacebookAPI.service.appLinks.addEventListener( AppLinkEvent.APP_LINK, appLinkHandler );\n")),Object(a.b)("p",null,"When this event is triggered it will contain details on the App Link in the event:"),Object(a.b)("pre",null,Object(a.b)("code",Object(i.a)({parentName:"pre"},{className:"language-actionscript"}),"private function appLinkHandler( event:AppLinkEvent ):void \n{\n    // event.appLink will contain the details on the App Link. If null the link could not be processed\n    if (event.appLink != null)\n    {\n        trace( \n            JSON.stringify( \n                event.appLink.data \n            ));\n    }\n}\n")),Object(a.b)("p",null,"If you wish to return to the application that referred your application you can call the\n",Object(a.b)("inlineCode",{parentName:"p"},"openReferer")," function and pass in the same App Link that was passed in the event:"),Object(a.b)("pre",null,Object(a.b)("code",Object(i.a)({parentName:"pre"},{className:"language-actionscript"}),"FacebookAPI.service.appLinks.openReferer( appLink );\n")),Object(a.b)("h2",{id:"testing"},"Testing"),Object(a.b)("p",null,'The easiest way to test, is to copy the url generated above and create a private "Group"\non Facebook with your testers. Post the link into the group and then access the group\nthrough the Facebook app on your device.'),Object(a.b)("p",null,"Clicking the link should open your application."),Object(a.b)("h2",{id:"testing-deferred-links"},"Testing Deferred Links"),Object(a.b)("p",null,'You can test a link by using the "Deep Link Tester" in the ',Object(a.b)("a",Object(i.a)({parentName:"p"},{href:"https://developers.facebook.com/tools/app-ads-helper/"}),"Facebook Ads Helper"),"."),Object(a.b)("p",null,'Select your application and go to the "Deep Link Tester" and click "Test Deep Link".\nEnter the url for your app eg ',Object(a.b)("inlineCode",{parentName:"p"},"distriqtTestApp://link")," and you'll get a notification in your\nFacebook application. "),Object(a.b)("p",null,"You must be logged into the Facebook app on your device with your developer account in\norder for this to work."))}s.isMDXComponent=!0},765:function(e,n,t){"use strict";t.d(n,"a",(function(){return d})),t.d(n,"b",(function(){return f}));var i=t(0),o=t.n(i);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n){if(null==e)return{};var t,i,o=function(e,n){if(null==e)return{};var t,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)t=a[i],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)t=a[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var l=o.a.createContext({}),s=function(e){var n=o.a.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):p(p({},n),e)),t},d=function(e){var n=s(e.components);return o.a.createElement(l.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return o.a.createElement(o.a.Fragment,{},n)}},b=o.a.forwardRef((function(e,n){var t=e.components,i=e.mdxType,a=e.originalType,r=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),d=s(t),b=i,f=d["".concat(r,".").concat(b)]||d[b]||u[b]||a;return t?o.a.createElement(f,p(p({ref:n},l),{},{components:t})):o.a.createElement(f,p({ref:n},l))}));function f(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var a=t.length,r=new Array(a);r[0]=b;var p={};for(var c in n)hasOwnProperty.call(n,c)&&(p[c]=n[c]);p.originalType=e,p.mdxType="string"==typeof e?e:i,r[1]=p;for(var l=2;l<a;l++)r[l]=t[l];return o.a.createElement.apply(null,r)}return o.a.createElement.apply(null,t)}b.displayName="MDXCreateElement"}}]);
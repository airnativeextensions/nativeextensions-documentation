"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[44509],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return y}});var a=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=a.createContext({}),p=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),u=p(n),y=i,m=u["".concat(l,".").concat(y)]||u[y]||d[y]||o;return n?a.createElement(m,r(r({ref:t},c),{},{components:n})):a.createElement(m,r({ref:t},c))}));function y(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,r=new Array(o);r[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:i,r[1]=s;for(var p=2;p<o;p++)r[p]=n[p];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},91633:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return l},default:function(){return y},frontMatter:function(){return s},metadata:function(){return p},toc:function(){return d}});var a=n(83117),i=n(80102),o=(n(67294),n(3905)),r=["components"],s={title:"Soft Keyboard",sidebar_label:"Soft Keyboard"},l=void 0,p={unversionedId:"application/display/soft-keyboard",id:"application/display/soft-keyboard",title:"Soft Keyboard",description:"Experimental",source:"@site/docs/application/display/soft-keyboard.md",sourceDirName:"application/display",slug:"/application/display/soft-keyboard",permalink:"/docs/application/display/soft-keyboard",draft:!1,tags:[],version:"current",frontMatter:{title:"Soft Keyboard",sidebar_label:"Soft Keyboard"},sidebar:"application",previous:{title:"Display Metrics",permalink:"/docs/application/display/display-metrics"},next:{title:"Alarm Manager",permalink:"/docs/application/alarm-manager"}},c={},d=[{value:"Keyboard Information",id:"keyboard-information",level:2},{value:"Keyboard Size",id:"keyboard-size",level:3},{value:"Activation events",id:"activation-events",level:3},{value:"Android IMMERSIVE mode considerations",id:"android-immersive-mode-considerations",level:3},{value:"Show",id:"show",level:2},{value:"Notes",id:"notes",level:3}],u={toc:d};function y(e){var t=e.components,n=(0,i.Z)(e,r);return(0,o.kt)("wrapper",(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},(0,o.kt)("strong",{parentName:"p"},"Experimental"))),(0,o.kt)("p",null,"This functionality is a native implementation for getting access to the keyboard size and activation events."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},(0,o.kt)("strong",{parentName:"p"},"In order to use this functionality on Android you must use this extension to set a ",(0,o.kt)("a",{parentName:"strong",href:"/docs/application/display/"},"display mode"),". If you don't set a display mode through this extension then the keyboard information may not be correct.")),(0,o.kt)("pre",{parentName:"blockquote"},(0,o.kt)("code",{parentName:"pre",className:"language-actionscript"},"Application.service.display.setDisplayMode( DisplayMode.FULLSCREEN );\n"))),(0,o.kt)("p",null,"The keyboard functionality is accessed through the ",(0,o.kt)("inlineCode",{parentName:"p"},"Keyboard")," interface, via ",(0,o.kt)("inlineCode",{parentName:"p"},"Application.service.keyboard"),"."),(0,o.kt)("p",null,"If you plan on using the keyboard functionality in your application, we suggest you call in the ",(0,o.kt)("inlineCode",{parentName:"p"},"init()")," function on the ",(0,o.kt)("inlineCode",{parentName:"p"},"Application.service.keyboard")," instance some time before attempting to access any of the functionality. This will initialise the internal listeners and ensure you have a valid initial state. "),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-actionscript"},"Application.service.keyboard.init();\n")),(0,o.kt)("p",null,"You can do this alongside your display mode, eg :"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-actionscript"},"Application.service.display.setDisplayMode( DisplayMode.FULLSCREEN );\nApplication.service.keyboard.init();\n")),(0,o.kt)("h2",{id:"keyboard-information"},"Keyboard Information"),(0,o.kt)("h3",{id:"keyboard-size"},"Keyboard Size"),(0,o.kt)("p",null,"You can access the position and size of the keyboard through the interface accessors:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-actionscript"},"var keyboardY:int = Application.service.keyboard.y;\nvar keyboardHeight:int = Application.service.keyboard.height;\n")),(0,o.kt)("p",null,"These values are in native pixel dimensions, so if you are using scaling you'll need to take that into account."),(0,o.kt)("h3",{id:"activation-events"},"Activation events"),(0,o.kt)("p",null,"You can get notified when the keyboard activates and deactivates through the ",(0,o.kt)("inlineCode",{parentName:"p"},"flash.events.SofyKeyboardEvent"),"s:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-actionscript"},"Application.service.keyboard.addEventListener( SoftKeyboardEvent.SOFT_KEYBOARD_ACTIVATE, keyboard_activateHandler );\nApplication.service.keyboard.addEventListener( SoftKeyboardEvent.SOFT_KEYBOARD_DEACTIVATE, keyboard_deactivateHandler );\n")),(0,o.kt)("p",null,"These are global events and will be dispatched independent of the method that triggered the keyboard."),(0,o.kt)("h3",{id:"android-immersive-mode-considerations"},"Android IMMERSIVE mode considerations"),(0,o.kt)("p",null,"If you are using Android's immersive mode, you may wish to display the navigation bar when the keyboard appears. By default the navigation bar is always hidden in immersive mode, which will hide the default navigation controls even when the keyboard is displayed. This can easily be overcome with the following code in your keyboard activate and deactivate handlers:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-actionscript"},"function keyboard_activateHandler( event:SoftKeyboardEvent ):void\n{\n    // Show the navigation bar\n    var visibility:int = Application.service.display.getSystemUiVisibility();\n    Application.service.display.setSystemUiVisibility(\n            visibility & ~AndroidSystemUiFlags.SYSTEM_UI_FLAG_HIDE_NAVIGATION\n    );\n}\n        \nfunction keyboard_deactivateHandler( event:SoftKeyboardEvent ):void\n{\n    // Return to previous display mode (will adjust navigation bar if required)\n    Application.service.display.setDisplayMode( DisplayMode.IMMERSIVE );\n}\n")),(0,o.kt)("h2",{id:"show"},"Show"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Android only")),(0,o.kt)("p",null,"On Android we can attempt to force show the keyboard. This can be useful in some scenarios where the keyboard fails to show in AIR, especially when changing focus between stage text input fields."),(0,o.kt)("p",null,"To show the keyboard, simply call ",(0,o.kt)("inlineCode",{parentName:"p"},"show()"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-actionscript"},"Application.service.keyboard.show();\n")),(0,o.kt)("h3",{id:"notes"},"Notes"),(0,o.kt)("p",null,'If you call this while the keyboard is being shown, this may cause the keyboard to be hidden. This is due to the nature of the native call being a "toggle" more than a force show, so if we fail to detect that the keyboard has been triggered from a different source we may inadvertently trigger a toggle to hide the keyboard.'),(0,o.kt)("p",null,"Related issues:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/BowlerHatLLC/feathersui-starling/issues/1505"},"https://github.com/BowlerHatLLC/feathersui-starling/issues/1505")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/Gamua/Adobe-Runtime-Support/issues/535"},"https://github.com/Gamua/Adobe-Runtime-Support/issues/535")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/Gamua/Adobe-Runtime-Support/issues/109"},"https://github.com/Gamua/Adobe-Runtime-Support/issues/109")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/Gamua/Adobe-Runtime-Support/issues/255"},"https://github.com/Gamua/Adobe-Runtime-Support/issues/255"))))}y.isMDXComponent=!0}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[463],{519:function(e,n,r){"use strict";r.r(n),r.d(n,"frontMatter",(function(){return a})),r.d(n,"metadata",(function(){return s})),r.d(n,"rightToc",(function(){return u})),r.d(n,"default",(function(){return l}));var t=r(2),o=r(6),c=(r(0),r(807)),a={title:"Consumables",sidebar_label:"Consumables"},s={unversionedId:"windowsstore/consumables",id:"windowsstore/consumables",isDocsHomePage:!1,title:"Consumables",description:"Consumable products can be consumed by the user and purchased again.",source:"@site/docs/windowsstore/consumables.md",slug:"/windowsstore/consumables",permalink:"/docs/windowsstore/consumables",version:"current",sidebar_label:"Consumables"},u=[],i={rightToc:u};function l(e){var n=e.components,r=Object(o.a)(e,["components"]);return Object(c.b)("wrapper",Object(t.a)({},i,r,{components:n,mdxType:"MDXLayout"}),Object(c.b)("p",null,"Consumable products can be consumed by the user and purchased again."),Object(c.b)("p",null,'Once purchased the user will receive an "Already Purchased" message until you inform the store of the consumption of the purchase.'),Object(c.b)("p",null,"For example, if your user can buy in game currency, then once the currency has been spent in your game you need to inform the store that the user can purchase currency again."),Object(c.b)("p",null,"To consume a purchase call the ",Object(c.b)("inlineCode",{parentName:"p"},"consumePurchase")," function and pass the product id you wish to consume."),Object(c.b)("pre",null,Object(c.b)("code",Object(t.a)({parentName:"pre"},{className:"language-actionscript"}),'WindowsStore.service.consumePurchase( "XXXXXXXXXXXX" );\n')),Object(c.b)("p",null,"The ",Object(c.b)("inlineCode",{parentName:"p"},"consumePurchase")," call will dispatch one of the following events:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"WindowsStoreEvent.CONSUME_PURCHASE_COMPLETE"),": Dispatched when the consume purchase completed successfully;"),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"WindowsStoreEvent.CONSUME_PURCHASE_ERROR"),": Dispatched when an error occurred. ")),Object(c.b)("pre",null,Object(c.b)("code",Object(t.a)({parentName:"pre"},{className:"language-actionscript"}),'WindowsStore.service.addEventListener( WindowsStoreEvent.CONSUME_PURCHASE_COMPLETE, consumePurchase_completeHandler );\nWindowsStore.service.addEventListener( WindowsStoreEvent.CONSUME_PURCHASE_ERROR, consumePurchase_errorHandler );\n\nWindowsStore.service.consumePurchase( "XXXXXXXXXXXX" );\n\n\nfunction consumePurchase_completeHandler( event:WindowsStoreEvent ):void\n{\n    // purchase was consumed - your user can now purchase the product again\n}\n\nfunction consumePurchase_errorHandler( event:WindowsStoreEvent ):void\n{\n    trace( "ERROR: ["+event.errorCode + "] :"+event.errorMessage );\n}\n')))}l.isMDXComponent=!0},807:function(e,n,r){"use strict";r.d(n,"a",(function(){return p})),r.d(n,"b",(function(){return m}));var t=r(0),o=r.n(t);function c(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function a(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function s(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?a(Object(r),!0).forEach((function(n){c(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function u(e,n){if(null==e)return{};var r,t,o=function(e,n){if(null==e)return{};var r,t,o={},c=Object.keys(e);for(t=0;t<c.length;t++)r=c[t],n.indexOf(r)>=0||(o[r]=e[r]);return o}(e,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(t=0;t<c.length;t++)r=c[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var i=o.a.createContext({}),l=function(e){var n=o.a.useContext(i),r=n;return e&&(r="function"==typeof e?e(n):s(s({},n),e)),r},p=function(e){var n=l(e.components);return o.a.createElement(i.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return o.a.createElement(o.a.Fragment,{},n)}},b=o.a.forwardRef((function(e,n){var r=e.components,t=e.mdxType,c=e.originalType,a=e.parentName,i=u(e,["components","mdxType","originalType","parentName"]),p=l(r),b=t,m=p["".concat(a,".").concat(b)]||p[b]||d[b]||c;return r?o.a.createElement(m,s(s({ref:n},i),{},{components:r})):o.a.createElement(m,s({ref:n},i))}));function m(e,n){var r=arguments,t=n&&n.mdxType;if("string"==typeof e||t){var c=r.length,a=new Array(c);a[0]=b;var s={};for(var u in n)hasOwnProperty.call(n,u)&&(s[u]=n[u]);s.originalType=e,s.mdxType="string"==typeof e?e:t,a[1]=s;for(var i=2;i<c;i++)a[i]=r[i];return o.a.createElement.apply(null,a)}return o.a.createElement.apply(null,r)}b.displayName="MDXCreateElement"}}]);
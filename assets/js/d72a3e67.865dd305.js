"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[97530],{28453:(e,a,t)=>{t.d(a,{R:()=>r,x:()=>s});var n=t(96540);const i={},o=n.createContext(i);function r(e){const a=n.useContext(o);return n.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function s(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),n.createElement(o.Provider,{value:a},e.children)}},74445:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>l,contentTitle:()=>s,default:()=>m,frontMatter:()=>r,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"image/saving-bitmapdata-to-the-camera-roll","title":"Saving BitmapData to the Camera Roll","description":"This functionality has been deprecated and will be removed in an upcoming release.","source":"@site/docs/image/saving-bitmapdata-to-the-camera-roll.md","sourceDirName":"image","slug":"/image/saving-bitmapdata-to-the-camera-roll","permalink":"/docs/image/saving-bitmapdata-to-the-camera-roll","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Saving BitmapData to the Camera Roll","sidebar_label":"Saving BitmapData to the Camera Roll"},"sidebar":"image","previous":{"title":"changelog","permalink":"/docs/image/changelog"},"next":{"title":"Authorisation","permalink":"/docs/image/request-authorisation"}}');var i=t(74848),o=t(28453);const r={title:"Saving BitmapData to the Camera Roll",sidebar_label:"Saving BitmapData to the Camera Roll"},s=void 0,l={},c=[{value:"Authorisation",id:"authorisation",level:2},{value:"Example",id:"example",level:2}];function d(e){const a={a:"a",admonition:"admonition",code:"code",h2:"h2",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(a.admonition,{type:"warning",children:[(0,i.jsx)(a.p,{children:"This functionality has been deprecated and will be removed in an upcoming release."}),(0,i.jsxs)(a.p,{children:["You should move to the ",(0,i.jsx)(a.a,{href:"/docs/camerarollextended/adding-files",children:"CameraRollExtended"})," extension for adding images to the Camera Roll."]}),(0,i.jsxs)(a.p,{children:["Migration should be relatively straight forward, just replace the ",(0,i.jsx)(a.code,{children:"Image.service.saveToCameraRoll()"})," with ",(0,i.jsx)(a.code,{children:"CameraRollExtended.service.addBitmapData()"}),"."]})]}),"\n",(0,i.jsxs)(a.p,{children:["Encoding bitmap data to a file can be a slow process when using AS3 operations.\nThis extension provides functionality to use the native encoders to save ",(0,i.jsx)(a.code,{children:"BitmapData"}),"\ndirectly to the user's Camera Roll allowing them to have access to this image\nthrough their gallery application (Photos, Gallery, etc)."]}),"\n",(0,i.jsx)(a.p,{children:"This operation is asynchronous. You will receive an event when the operation completes."}),"\n",(0,i.jsx)(a.h2,{id:"authorisation",children:"Authorisation"}),"\n",(0,i.jsx)(a.p,{children:'In order to save to the camera roll you should make sure that the user has granted\nyour application permission to save to the camera roll. On Android this is a "dangerous"\npermission and requires runtime permission. On iOS it should always be granted.'}),"\n",(0,i.jsxs)(a.p,{children:["Take a look at the ",(0,i.jsx)(a.a,{href:"/docs/image/request-authorisation",children:"Request Authorisation"})," section for more information."]}),"\n",(0,i.jsx)(a.h2,{id:"example",children:"Example"}),"\n",(0,i.jsxs)(a.p,{children:["This example uses an embedded image asset in the class ",(0,i.jsx)(a.code,{children:"SampleImage"}),"."]}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-actionscript",children:"var image:Bitmap = new SampleImage() as Bitmap;\n\t\nImage.service.addEventListener( ImageEvent.SAVE_TO_CAMERAROLL_COMPLETE, completeHandler );\nImage.service.addEventListener( ImageEvent.SAVE_TO_CAMERAROLL_ERROR, errorHandler );\nImage.service.saveToCameraRoll( image.bitmapData );\n"})}),"\n",(0,i.jsxs)(a.p,{children:["You will receive either an ",(0,i.jsx)(a.code,{children:"ImageEvent.SAVE_TO_CAMERAROLL_COMPLETE"})," event\nor an ",(0,i.jsx)(a.code,{children:"ImageEvent.SAVE_TO_CAMERAROLL_ERROR"})," event:"]}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-actionscript",children:'private function completeHandler( event:ImageEvent ):void\n{\n\ttrace( "saveToCameraRoll : complete" );\n}\n\nprivate function errorHandler( event:ImageEvent ):void\n{\n\ttrace( "saveToCameraRoll : error: "+event.error );\n}\n'})})]})}function m(e={}){const{wrapper:a}={...(0,o.R)(),...e.components};return a?(0,i.jsx)(a,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);
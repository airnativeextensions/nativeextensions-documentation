(window.webpackJsonp=window.webpackJsonp||[]).push([[397],{453:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return a})),n.d(t,"metadata",(function(){return c})),n.d(t,"rightToc",(function(){return l})),n.d(t,"default",(function(){return p}));var r=n(2),o=n(6),i=(n(0),n(807)),a={title:"Migrating from version 1",sidebar_label:"Migrating from version 1"},c={unversionedId:"googleidentity/migrating-from-version-1",id:"googleidentity/migrating-from-version-1",isDocsHomePage:!1,title:"Migrating from version 1",description:"Version 2 brings the latest Google Identity Sign In SDK and with it some changes to the API.",source:"@site/docs/googleidentity/migrating-from-version-1.md",slug:"/googleidentity/migrating-from-version-1",permalink:"/docs/googleidentity/migrating-from-version-1",version:"current",sidebar_label:"Migrating from version 1"},l=[{value:"Google Identity Options",id:"google-identity-options",children:[]},{value:"getToken",id:"gettoken",children:[]}],s={rightToc:l};function p(e){var t=e.components,n=Object(o.a)(e,["components"]);return Object(i.b)("wrapper",Object(r.a)({},s,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,"Version 2 brings the latest Google Identity Sign In SDK and with it some changes to the API. "),Object(i.b)("p",null,"These changes are mainly around the options passed to ",Object(i.b)("inlineCode",{parentName:"p"},"setup")," and ",Object(i.b)("inlineCode",{parentName:"p"},"getToken")," functionality. "),Object(i.b)("h2",{id:"google-identity-options"},"Google Identity Options"),Object(i.b)("p",null,"The options you supply to the setup function (",Object(i.b)("inlineCode",{parentName:"p"},"GoogleIdentityOptions"),") have been simplified and updated to better reflect the functionality available. "),Object(i.b)("p",null,'Firstly we have removed the "secret" references as these were misleading and we want to discourage their usage.'),Object(i.b)("p",null,"Additionally we have changed the references to Android and iOS so the ",Object(i.b)("inlineCode",{parentName:"p"},"GoogleIdentityOptions")," class more simply states the functionality currently in use."),Object(i.b)("p",null,"To help with setup we have introduced the ",Object(i.b)("inlineCode",{parentName:"p"},"GoogleIdentityOptionsBuilder"),". This class will help you construct the correct options instance irrespective of platform."),Object(i.b)("p",null,"To migrate, the following:"),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-actionscript"}),'var options:GoogleIdentityOptions = new GoogleIdentityOptions();\noptions.clientID_iOS = CLIENTID_IOS;\noptions.clientID_Android = CLIENTID_ANDROID;\noptions.requestIdToken = true;\noptions.requestServerAuthCode = true;\noptions.scopes.push( "profile" );\n')),Object(i.b)("p",null,"becomes:"),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-actionscript"}),'var options:GoogleIdentityOptions = new GoogleIdentityOptionsBuilder()\n        .requestServerAuthCode()\n        .requestIdToken()\n        .setIOSClientID( CLIENTID_IOS )\n        .setiOSServerClientID( SERVER_CLIENTID_IOS )\n        .setAndroidServerClientID( SERVER_CLIENTID_ANDROID )\n        .addScope( "profile" )\n        .build();\n')),Object(i.b)("p",null,"The ability to set the server client id has been added to specify it's difference from the application client ids. The ",Object(i.b)("inlineCode",{parentName:"p"},"SERVER_CLIENTID_ANDROID")," is the equivalent of the ",Object(i.b)("inlineCode",{parentName:"p"},"CLIENTID_ANDROID")," used in the past, we have just clarified it's naming, to not confuse it with the Android client id in the console."),Object(i.b)("h2",{id:"gettoken"},"getToken"),Object(i.b)("p",null,"The ",Object(i.b)("inlineCode",{parentName:"p"},"getToken")," functionality has been deprecated. "),Object(i.b)("p",null,"You should instead migrate to using the Server Auth Code and exchanging that code for your users' access token on your server to enable ",Object(i.b)("a",Object(r.a)({parentName:"p"},{href:"enabling-server-side-access"}),"Server-Side Access"),"\n."))}p.isMDXComponent=!0},807:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return g}));var r=n(0),o=n.n(r);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=o.a.createContext({}),p=function(e){var t=o.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},u=function(e){var t=p(e.components);return o.a.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},b=o.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,a=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),u=p(n),b=r,g=u["".concat(a,".").concat(b)]||u[b]||d[b]||i;return n?o.a.createElement(g,c(c({ref:t},s),{},{components:n})):o.a.createElement(g,c({ref:t},s))}));function g(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,a=new Array(i);a[0]=b;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c.mdxType="string"==typeof e?e:r,a[1]=c;for(var s=2;s<i;s++)a[s]=n[s];return o.a.createElement.apply(null,a)}return o.a.createElement.apply(null,n)}b.displayName="MDXCreateElement"}}]);
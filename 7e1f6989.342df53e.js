(window.webpackJsonp=window.webpackJsonp||[]).push([[390],{446:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return s})),n.d(t,"metadata",(function(){return o})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return u}));var r=n(2),a=n(6),i=(n(0),n(823)),s={title:"Auth - Manage Users",sidebar_label:"Manage Users"},o={unversionedId:"firebase/auth/manage-users",id:"firebase/auth/manage-users",isDocsHomePage:!1,title:"Auth - Manage Users",description:"If a user has signed in successfully you can get their account data",source:"@site/docs/firebase/auth/manage-users.md",slug:"/firebase/auth/manage-users",permalink:"/docs/firebase/auth/manage-users",version:"current",sidebar_label:"Manage Users",sidebar:"firebase",previous:{title:"Auth - Initialise",permalink:"/docs/firebase/auth/initialise"},next:{title:"Auth - Provider - Email",permalink:"/docs/firebase/auth/provider/email"}},c=[{value:"Provider specific profile information",id:"provider-specific-profile-information",children:[]},{value:"Update profile",id:"update-profile",children:[]},{value:"Update email",id:"update-email",children:[]},{value:"Verification email",id:"verification-email",children:[]},{value:"Update Password",id:"update-password",children:[]},{value:"Send a password reset email",id:"send-a-password-reset-email",children:[]},{value:"Delete a user",id:"delete-a-user",children:[]},{value:"Re-authenticate a user",id:"re-authenticate-a-user",children:[]},{value:"User Token",id:"user-token",children:[]}],l={rightToc:c};function u(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(i.b)("wrapper",Object(r.a)({},l,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,"If a user has signed in successfully you can get their account data\nat any point with the ",Object(i.b)("inlineCode",{parentName:"p"},"getCurrentUser")," method."),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-actionscript"}),'var user:FirebaseUser = FirebaseAuth.service.getCurrentUser();\nif (user != null)\n{\n    trace( "displayName: " + user.displayName );\n    trace( "email:       " + user.email );\n    trace( "photo Uri:   " + user.photoUri );\n\n    // The user\'s ID, unique to the Firebase project. Do NOT use this value to\n    // authenticate with your backend server, if you have one. Use\n    // FirebaseUser.getToken() instead.\n    trace( "identifier:  " + user.identifier );\n}\nelse \n{\n    trace( "Not signed in" );\n}\n')),Object(i.b)("h2",{id:"provider-specific-profile-information"},"Provider specific profile information"),Object(i.b)("p",null,"To get the profile information retrieved from the sign-in providers linked to a user,\nuse the Vector array of ",Object(i.b)("inlineCode",{parentName:"p"},"UserInfo")," objects."),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-actionscript"}),'var user:FirebaseUser = FirebaseAuth.service.getCurrentUser();\nif (user != null)\n{\n    for each (var info:UserInfo in user.providers)\n    {\n        trace( "provider:    " + info.providerId );\n        trace( "identifier:  " + info.identifier );\n        trace( "displayName: " + info.displayName );\n        trace( "email:       " + info.email );\n    }\n}\n')),Object(i.b)("h2",{id:"update-profile"},"Update profile"),Object(i.b)("p",null,"You can update a user's basic profile information\u2014the user's display name and profile\nphoto URL\u2014with the ",Object(i.b)("inlineCode",{parentName:"p"},"updateProfile")," method. For example:"),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-actionscript"}),'var request:UserProfileChangeRequest = new UserProfileChangeRequestBuilder()\n        .setDisplayName( "Jane Q. User" )\n        .setPhotoUri( "https://example.com/jane-q-user/profile.jpg" )\n        .build();\n\nFirebaseAuth.service.getCurrentUser().addEventListener( \n    FirebaseUserEvent.UPDATE_PROFILE_COMPLETE,\n    updateProfile_completeHandler );\n\nFirebaseAuth.service.getCurrentUser().updateProfile( request );\n')),Object(i.b)("p",null,"You can use the ",Object(i.b)("inlineCode",{parentName:"p"},"FirebaseUserEvent.UPDATE_PROFILE_COMPLETE")," event to listen for the completion\nof the ",Object(i.b)("inlineCode",{parentName:"p"},"updateProfile")," method."),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-actionscript"}),'private function updateProfile_completeHandler( event:FirebaseUserEvent ):void\n{\n    trace( "updateProfile(): complete: "+event.success +"::"+event.message );\n    FirebaseAuth.service.getCurrentUser().removeEventListener( \n        FirebaseUserEvent.UPDATE_PROFILE_COMPLETE,\n        updateProfile_completeHandler );\n}\n')),Object(i.b)("h2",{id:"update-email"},"Update email"),Object(i.b)("p",null,"You can set a user's email address with the ",Object(i.b)("inlineCode",{parentName:"p"},"updateEmail")," method. For example:"),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-actionscript"}),'FirebaseAuth.service.getCurrentUser().addEventListener( \n    FirebaseUserEvent.UPDATE_EMAIL_COMPLETE,\n    updateEmail_completeHandler );\n\nFirebaseAuth.service.getCurrentUser().updateEmail( "user@example.com" );\n')),Object(i.b)("p",null,"You can use the ",Object(i.b)("inlineCode",{parentName:"p"},"FirebaseUserEvent.UPDATE_EMAIL_COMPLETE")," event to listen for the completion\nof the ",Object(i.b)("inlineCode",{parentName:"p"},"updateEmail")," method."),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-actionscript"}),'private function updateEmail_completeHandler( event:FirebaseUserEvent ):void\n{\n    trace( "updateEmail(): complete: "+event.success +"::"+event.message );\n    FirebaseAuth.service.getCurrentUser().removeEventListener( \n        FirebaseUserEvent.UPDATE_EMAIL_COMPLETE,\n        updateEmail_completeHandler );\n}\n')),Object(i.b)("blockquote",null,Object(i.b)("p",{parentName:"blockquote"},"Important: To set a user's email address, the user must have signed in recently.\nSee Re-authenticate a user.")),Object(i.b)("h2",{id:"verification-email"},"Verification email"),Object(i.b)("p",null,"You can send an address verification email to a user with the ",Object(i.b)("inlineCode",{parentName:"p"},"sendEmailVerification")," method. For example:"),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-actionscript"}),"FirebaseAuth.service.getCurrentUser().addEventListener(\n    FirebaseUserEvent.SEND_EMAIL_VERIFICATION_COMPLETE,\n    sendEmailVerification_completeHandler );\n\nFirebaseAuth.service.getCurrentUser().sendEmailVerification();\n")),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-actionscript"}),'private function sendEmailVerification_completeHandler( event:FirebaseUserEvent ):void\n{\n    log( "sendEmailVerification(): complete: " + event.success +"::"+event.message );\n    FirebaseAuth.service.getCurrentUser().removeEventListener(\n        FirebaseUserEvent.SEND_EMAIL_VERIFICATION_COMPLETE,\n        sendEmailVerification_completeHandler );\n}\n')),Object(i.b)("p",null,"You can customize the email template that is used in Authentication section of the\n",Object(i.b)("a",Object(r.a)({parentName:"p"},{href:"https://firebase.google.com/console/"}),"Firebase console"),", on the Email Templates page.\nSee ",Object(i.b)("a",Object(r.a)({parentName:"p"},{href:"https://support.google.com/firebase/answer/7000714"}),"Email Templates")," in Firebase Help Center."),Object(i.b)("h2",{id:"update-password"},"Update Password"),Object(i.b)("p",null,"You can set a user's password with the ",Object(i.b)("inlineCode",{parentName:"p"},"updatePassword")," method. For example:"),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-actionscript"}),'FirebaseAuth.service.getCurrentUser().addEventListener( \n    FirebaseUserEvent.UPDATE_PASSWORD_COMPLETE,\n    updatePassword_completeHandler );\n\nFirebaseAuth.service.getCurrentUser().updatePassword( "SOME-SECURE-PASSWORD" );\n')),Object(i.b)("p",null,"You can use the ",Object(i.b)("inlineCode",{parentName:"p"},"FirebaseUserEvent.UPDATE_PASSWORD_COMPLETE")," event to listen for the completion\nof the ",Object(i.b)("inlineCode",{parentName:"p"},"updatePassword")," method."),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-actionscript"}),'private function updatePassword_completeHandler( event:FirebaseUserEvent ):void\n{\n    trace( "updatePassword(): complete: "+event.success +"::"+event.message );\n    FirebaseAuth.service.getCurrentUser().removeEventListener( \n        FirebaseUserEvent.UPDATE_PASSWORD_COMPLETE,\n        updatePassword_completeHandler );\n}\n')),Object(i.b)("blockquote",null,Object(i.b)("p",{parentName:"blockquote"},"Important: To set a user's email address, the user must have signed in recently.\nSee Re-authenticate a user.")),Object(i.b)("h2",{id:"send-a-password-reset-email"},"Send a password reset email"),Object(i.b)("p",null,"You can send a password reset email to a user with the sendPasswordResetEmail method. For example:"),Object(i.b)("p",null,"You can customize the email template that is used in Authentication section of the\n",Object(i.b)("a",Object(r.a)({parentName:"p"},{href:"https://firebase.google.com/console/"}),"Firebase console"),", on the Email Templates page.\nSee ",Object(i.b)("a",Object(r.a)({parentName:"p"},{href:"https://support.google.com/firebase/answer/7000714"}),"Email Templates")," in Firebase Help Center."),Object(i.b)("p",null,"You can also send password rest emails from the Firebase console."),Object(i.b)("h2",{id:"delete-a-user"},"Delete a user"),Object(i.b)("p",null,"You can delete a user account with the delete method. For example:"),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-actionscript"}),"FirebaseAuth.service.getCurrentUser().addEventListener( \n    FirebaseUserEvent.DELETE_USER_COMPLETE, \n    deleteUser_completeHandler );\n\nFirebaseAuth.service.getCurrentUser().deleteUser();\n")),Object(i.b)("p",null,"You can use the ",Object(i.b)("inlineCode",{parentName:"p"},"FirebaseUserEvent.DELETE_USER_COMPLETE")," event to listen for the completion of this method."),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-actionscript"}),'private function deleteUser_completeHandler( event:FirebaseUserEvent ):void\n{\n    trace( "deleteUser(): complete: " + event.success +"::"+event.message );\n}\n')),Object(i.b)("p",null,"Once deleted ",Object(i.b)("inlineCode",{parentName:"p"},"getCurrentUser()")," will return ",Object(i.b)("inlineCode",{parentName:"p"},"null")," and your user will be signed out. "),Object(i.b)("h2",{id:"re-authenticate-a-user"},"Re-authenticate a user"),Object(i.b)("p",null,"Some security-sensitive actions\u2014such as deleting an account, setting a primary email address,\nand changing a password\u2014require that the user has recently signed in.\nIf you perform one of these actions, and the user signed in too long ago,\nthe action fails (",Object(i.b)("inlineCode",{parentName:"p"},"event.success")," will be ",Object(i.b)("inlineCode",{parentName:"p"},"false"),")."),Object(i.b)("p",null,"When this happens, re-authenticate the user by getting new sign-in credentials\nfrom the user and passing the credentials to ",Object(i.b)("inlineCode",{parentName:"p"},"reauthenticate"),". "),Object(i.b)("p",null,"For example:"),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-actionscript"}),'var credential:AuthCredential = EmailAuthProvider.getEmailAuthCredential( "user@example.com", "password1234" );\n\nFirebaseAuth.service.getCurrentUser().addEventListener( \n    FirebaseUserEvent.REAUTHENTICATE_COMPLETE, \n    reauthenticate_completeHandler );\n\nFirebaseAuth.service.getCurrentUser().reauthenticate( credential );\n')),Object(i.b)("p",null,"You can use the ",Object(i.b)("inlineCode",{parentName:"p"},"FirebaseUserEvent.REAUTHENTICATE_COMPLETE")," event to listen for the completion of this method."),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-actionscript"}),"private function reauthenticate_completeHandler( event:FirebaseUserEvent ):void\n{\n    FirebaseAuth.service.getCurrentUser().removeEventListener( \n        FirebaseUserEvent.REAUTHENTICATE_COMPLETE, \n        reauthenticate_completeHandler );\n}\n")),Object(i.b)("h2",{id:"user-token"},"User Token"),Object(i.b)("p",null,"You may wish to authenticate a user on your server for actions in Firebase from your application.\nTo do this you'll need the users authentication token."),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-actionscript"}),"FirebaseAuth.service.getCurrentUser().addEventListener( \n    FirebaseUserEvent.GET_TOKEN_COMPLETE,\n    getToken_completeHandler );\n\nFirebaseAuth.service.getCurrentUser().getToken( true );\n")),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-actionscript"}),"private function getToken_completeHandler(event:FirebaseUserEvent ):void\n{\n    if (event.success)\n    {\n        // Success means the event has a valid token in event.data\n        trace( event.data );\n    }\n\n    FirebaseAuth.service.getCurrentUser().removeEventListener( \n        FirebaseUserEvent.GET_TOKEN_COMPLETE,\n        getToken_completeHandler );\n}\n")))}u.isMDXComponent=!0},823:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));var r=n(0),a=n.n(r);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=a.a.createContext({}),u=function(e){var t=a.a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=u(e.components);return a.a.createElement(l.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},d=a.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),p=u(n),d=r,m=p["".concat(s,".").concat(d)]||p[d]||b[d]||i;return n?a.a.createElement(m,o(o({ref:t},l),{},{components:n})):a.a.createElement(m,o({ref:t},l))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,s=new Array(i);s[0]=d;var o={};for(var c in t)hasOwnProperty.call(t,c)&&(o[c]=t[c]);o.originalType=e,o.mdxType="string"==typeof e?e:r,s[1]=o;for(var l=2;l<i;l++)s[l]=n[l];return a.a.createElement.apply(null,s)}return a.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"}}]);
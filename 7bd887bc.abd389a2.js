(window.webpackJsonp=window.webpackJsonp||[]).push([[382],{438:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return p})),n.d(t,"rightToc",(function(){return o})),n.d(t,"default",(function(){return c}));var a=n(2),r=n(6),l=(n(0),n(808)),i={title:"Usage",sidebar_label:"Usage"},p={unversionedId:"appgroupdefaults/usage",id:"appgroupdefaults/usage",isDocsHomePage:!1,title:"Usage",description:"Configuration",source:"@site/docs/appgroupdefaults/usage.md",slug:"/appgroupdefaults/usage",permalink:"/docs/appgroupdefaults/usage",version:"current",sidebar_label:"Usage",sidebar:"appgroupdefaults",previous:{title:"Android",permalink:"/docs/appgroupdefaults/android"},next:{title:"changelog",permalink:"/docs/appgroupdefaults/changelog"}},o=[{value:"Configuration",id:"configuration",children:[]},{value:"Get a value",id:"get-a-value",children:[]},{value:"Set a value",id:"set-a-value",children:[]},{value:"Listing Keys",id:"listing-keys",children:[]},{value:"Removing a Value",id:"removing-a-value",children:[]},{value:"Removing All Values",id:"removing-all-values",children:[]}],u={rightToc:o};function c(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(l.b)("wrapper",Object(a.a)({},u,n,{components:t,mdxType:"MDXLayout"}),Object(l.b)("h2",{id:"configuration"},"Configuration"),Object(l.b)("p",null,"To correctly configure the extension you will need to inform it about your group and a salt value to use for encryption."),Object(l.b)("p",null,"The salt value is only applicable to Android however the group is used on both.\nThe salt can be any string you require and is used to setup the file encryption algorithm. "),Object(l.b)("p",null,"For the group, you should use the identifier of your AppGroup setup in the iOS member center.\nThis is used to identify the correct group to use on iOS and similarly on Android it's used as the\nname of the file containing the preferences."),Object(l.b)("p",null,"AIR:"),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-actionscript"}),'AppGroupDefaults.service.setup( \n    "12345678", \n    "group.application.group.identifier", \n    AppGroupDefaults.TYPE_CONTENTPROVIDER \n);\n')),Object(l.b)("p",null,"Unity: "),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-csharp"}),'AppGroupDefaults.Instance.Setup( \n    "12345678", \n    "group.application.group.identifier", \n    AppGroupDefaults.TYPE_CONTENTPROVIDER \n);\n')),Object(l.b)("p",null,"The setup call can take a short amount of time to initialise the encryption algorithms so you should\nwait for the initialised event before attempting to read or write values."),Object(l.b)("p",null,"With AIR you listen for the ",Object(l.b)("inlineCode",{parentName:"p"},"AppGroupDefaultsEvent.INITIALISED")," event and with Unity add a listener to the ",Object(l.b)("inlineCode",{parentName:"p"},"OnInitialised")," event."),Object(l.b)("p",null,"AIR: "),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-actionscript"}),'AppGroupDefaults.service.addEventListener( AppGroupDefaultsEvent.INITIALISED, initialisedHandler );\nAppGroupDefaults.service.setup( \n    "12345678", \n    "group.com.distriqt.test",\n    AppGroupDefaults.TYPE_FILE \n);\n                    \nfunction initialisedHandler( event:AppGroupDefaultsEvent ):void\n{\n    // Access data here\n}\n')),Object(l.b)("p",null,"Unity:"),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-csharp"}),'AppGroupDefaults.Instance.OnInitialised += Instance_OnInitialised;\nAppGroupDefaults.Instance.Setup(\n    "12345678", // salt\n    "group.com.distriqt.test", // app group identifier\n    AppGroupDefaults.TYPE_FILE // Android type\n);\n\nvoid Instance_OnInitialised(distriqt.plugins.appgroupdefaults.events.AppGroupDefaultsEvent e)\n{\n    // Access data here\n}\n')),Object(l.b)("h2",{id:"get-a-value"},"Get a value"),Object(l.b)("p",null,"Retrieving a value is as simple as calling ",Object(l.b)("inlineCode",{parentName:"p"},"getValue()")," with the key of interest."),Object(l.b)("p",null,"AIR:"),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-actionscript"}),'trace( "value = " + AppGroupDefaults.service.getValue( "some_key" ) );\n')),Object(l.b)("p",null,"Unity:"),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-csharp"}),'Debug.Log("value = " + AppGroupDefaults.Instance.GetValue( "some_key" ));\n')),Object(l.b)("p",null,"This will return ",Object(l.b)("inlineCode",{parentName:"p"},"null")," if the key hasn't been set before or if you haven't called ",Object(l.b)("inlineCode",{parentName:"p"},"setup")," beforehand."),Object(l.b)("h2",{id:"set-a-value"},"Set a value"),Object(l.b)("p",null,"Setting a value is likewise as simple, calling the ",Object(l.b)("inlineCode",{parentName:"p"},"setValue")," function."),Object(l.b)("p",null,"AIR:"),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-actionscript"}),'var success:Boolean = AppGroupDefaults.service.setValue( "some_key", "some_value" );\n')),Object(l.b)("p",null,"Unity:"),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-csharp"}),'bool success = AppGroupDefaults.Instance.SetValue("some_key", "some_value");\n')),Object(l.b)("p",null,"This will return ",Object(l.b)("inlineCode",{parentName:"p"},"true")," if the value was set correctly and ",Object(l.b)("inlineCode",{parentName:"p"},"false")," if there was an issue, most likely\nthat the ",Object(l.b)("inlineCode",{parentName:"p"},"setup")," function hasn't been called, or if the ",Object(l.b)("inlineCode",{parentName:"p"},"isSupported")," flag is ",Object(l.b)("inlineCode",{parentName:"p"},"false"),"."),Object(l.b)("h2",{id:"listing-keys"},"Listing Keys"),Object(l.b)("p",null,"You can use the ",Object(l.b)("inlineCode",{parentName:"p"},"getKeys")," function to retrieve an Array of all the current keys\nset in the defaults. "),Object(l.b)("p",null,"This allows you to list all settings currently stored in the defaults."),Object(l.b)("p",null,"AIR: "),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-actionscript"}),'var keys:Array = AppGroupDefaults.service.getKeys();\nfor each (var key:String in keys)\n{\n    var value:String = AppGroupDefaults.service.getValue( key );\n    trace( key + " = " + value );\n}\n')),Object(l.b)("p",null,"Unity:"),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-csharp"}),'string[] keys = AppGroupDefaults.Instance.GetKeys();\nforeach (string key in keys)\n{\n    string value = AppGroupDefaults.Instance.GetValue(key);\n    Debug.Log(key + " = " + value);\n}\n')),Object(l.b)("h2",{id:"removing-a-value"},"Removing a Value"),Object(l.b)("p",null,"If you wish to clear a value and remove it from the defaults, simply call the ",Object(l.b)("inlineCode",{parentName:"p"},"remove")," function with the key of interest."),Object(l.b)("p",null,"AIR: "),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-actionscript"}),'AppGroupDefaults.service.remove( "some_key" );\n')),Object(l.b)("p",null,"Unity:"),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-csharp"}),'AppGroupDefaults.Instance.Remove("some_key");\n')),Object(l.b)("h2",{id:"removing-all-values"},"Removing All Values"),Object(l.b)("p",null,"If you wish to remove all values from the defaults, simply call the ",Object(l.b)("inlineCode",{parentName:"p"},"removeAll")," function:"),Object(l.b)("p",null,"AIR:"),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-actionscript"}),"AppGroupDefaults.service.removeAll();\n")),Object(l.b)("p",null,"Unity: "),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-csharp"}),"AppGroupDefaults.Instance.RemoveAll();\n")))}c.isMDXComponent=!0},808:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return f}));var a=n(0),r=n.n(a);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var u=r.a.createContext({}),c=function(e){var t=r.a.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):p(p({},t),e)),n},s=function(e){var t=c(e.components);return r.a.createElement(u.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},d=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,l=e.originalType,i=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),s=c(n),d=a,f=s["".concat(i,".").concat(d)]||s[d]||b[d]||l;return n?r.a.createElement(f,p(p({ref:t},u),{},{components:n})):r.a.createElement(f,p({ref:t},u))}));function f(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var l=n.length,i=new Array(l);i[0]=d;var p={};for(var o in t)hasOwnProperty.call(t,o)&&(p[o]=t[o]);p.originalType=e,p.mdxType="string"==typeof e?e:a,i[1]=p;for(var u=2;u<l;u++)i[u]=n[u];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"}}]);
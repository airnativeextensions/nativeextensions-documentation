"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[75536],{28453:(t,e,n)=>{n.d(e,{R:()=>r,x:()=>i});var a=n(96540);const o={},s=a.createContext(o);function r(t){const e=a.useContext(s);return a.useMemo(function(){return"function"==typeof t?t(e):{...e,...t}},[e,t])}function i(t){let e;return e=t.disableParentContext?"function"==typeof t.components?t.components(o):t.components||o:r(t.components),a.createElement(s.Provider,{value:e},t.children)}},51534:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>r,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"bluetoothle/adapter-state","title":"Adapter State","description":"Checking the adapter state","source":"@site/docs/bluetoothle/adapter-state.md","sourceDirName":"bluetoothle","slug":"/bluetoothle/adapter-state","permalink":"/docs/bluetoothle/adapter-state","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Adapter State","sidebar_label":"Adapter State"},"sidebar":"bluetoothle","previous":{"title":"Request Authorisation","permalink":"/docs/bluetoothle/request-authorisation"},"next":{"title":"Centrals and Peripherals","permalink":"/docs/bluetoothle/centrals-and-peripherals"}}');var o=n(74848),s=n(28453);const r={title:"Adapter State",sidebar_label:"Adapter State"},i=void 0,l={},c=[{value:"Checking the adapter state",id:"checking-the-adapter-state",level:2}];function h(t){const e={code:"code",h2:"h2",p:"p",pre:"pre",...(0,s.R)(),...t.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e.h2,{id:"checking-the-adapter-state",children:"Checking the adapter state"}),"\n",(0,o.jsxs)(e.p,{children:["The next step is to check the state of the adapter, i.e. check whether the Bluetooth\nadapter is turned on and whether the user has granted your application permission.\nYou must also take into account that the user may turn off Bluetooth at any time so\nyou should listen for the ",(0,o.jsx)(e.code,{children:"STATE_CHANGED"})," event and react accordingly. Any scanning will\nbe stopped and you'll have to restart this once the adapter state changes again."]}),"\n",(0,o.jsxs)(e.p,{children:["The values of the state property are defined in the ",(0,o.jsx)(e.code,{children:"BluetoothLEState"})," class."]}),"\n",(0,o.jsx)(e.p,{children:"On iOS we cannot turn the adapter through code, instead you have to prompt the user,\nrequesting they turn on Bluetooth."}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-actionscript",children:'BluetoothLE.service.addEventListener( BluetoothLEEvent.STATE_CHANGED, stateChangedHandler );\n\nswitch (BluetoothLE.service.state)\n{\n\tcase BluetoothLEState.STATE_ON:\t\n\t\t// We can use the Bluetooth LE functions\n\t\tbreak;\n\t\t\n\tcase BluetoothLEState.STATE_OFF:\n\tcase BluetoothLEState.STATE_RESETTING:\t\n\tcase BluetoothLEState.STATE_UNAUTHORISED:\t\n\tcase BluetoothLEState.STATE_UNSUPPORTED:\t\n\tcase BluetoothLEState.STATE_UNKNOWN:\n\t\t// All of these indicate the Bluetooth LE is not available\n}\n\n\nfunction stateChangedHandler( event:BluetoothLEEvent ):void\n{\n\ttrace( "stateChangedHandler(): "+BluetoothLE.service.state );\n}\n'})})]})}function d(t={}){const{wrapper:e}={...(0,s.R)(),...t.components};return e?(0,o.jsx)(e,{...t,children:(0,o.jsx)(h,{...t})}):h(t)}}}]);
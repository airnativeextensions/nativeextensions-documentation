"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[85333],{3843:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>a,contentTitle:()=>c,default:()=>p,frontMatter:()=>r,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"permissions/file-folder-access","title":"File and Folder Access","description":"Android has placed additional permissions on files outside of your application sandbox and now requires you to request user access to these directories (eg the camera storage on the sdcard: /sdcard/DCIM ).","source":"@site/docs/permissions/file-folder-access.md","sourceDirName":"permissions","slug":"/permissions/file-folder-access","permalink":"/docs/permissions/file-folder-access","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"File and Folder Access","sidebar_label":"File and Folder Access"},"sidebar":"permissions","previous":{"title":"Requesting Access","permalink":"/docs/permissions/requesting-access"},"next":{"title":"System Settings","permalink":"/docs/permissions/system-settings"}}');var i=n(74848),o=n(28453);const r={title:"File and Folder Access",sidebar_label:"File and Folder Access"},c=void 0,a={},d=[];function l(e){const s={a:"a",admonition:"admonition",code:"code",img:"img",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(s.p,{children:["Android has placed additional permissions on files outside of your application sandbox and now requires you to request user access to these directories (eg the camera storage on the sdcard: ",(0,i.jsx)(s.code,{children:"/sdcard/DCIM"})," )."]}),"\n",(0,i.jsxs)(s.p,{children:["To gain access to these folders call the ",(0,i.jsx)(s.code,{children:"openDirectory()"})," method with the required path:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-actionscript",children:'var f:File = new File( "/sdcard/DCIM" );\nPermissions.instance.openDirectory( f.nativePath );\n'})}),"\n",(0,i.jsxs)(s.p,{children:["This process uses the ",(0,i.jsx)(s.code,{children:"ACTION_OPEN_DOCUMENT_TREE"})," intent to allow the user to pick a directory subtree. Once complete your application will be able to fully manage documents within the returned directory. There are some ",(0,i.jsx)(s.a,{href:"https://developer.android.com/training/data-storage/shared/documents-files#document-tree-access-restrictions",children:"exceptions"})," starting in Android 11 (API 30)"]}),"\n",(0,i.jsx)(s.p,{children:'This will display a "browse" dialog for the user to select a directory and grant your application access to this location:'}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:n(3970).A+"",width:"400",height:"867"})}),"\n",(0,i.jsxs)(s.p,{children:["Once complete this will dispatch a ",(0,i.jsx)(s.code,{children:"PermissionsEvent.OPEN_DIRECTORY"})," event with the selected path."]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-as3",children:"Permissions.instance.addEventListener( \n    PermissionsEvent.OPEN_DOCUMENT, \n    function ( event:PermissionsEvent ):void\n    {\n        trace( event.path );\n    } \n);\n"})}),"\n",(0,i.jsxs)(s.admonition,{title:"Path",type:"note",children:[(0,i.jsx)(s.p,{children:"Please note the path will likely be an Android content uri and not a file path, for example:"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"content://com.android.externalstorage.documents/tree/primary%3ADCIM\n"})})]})]})}function p(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},3970:(e,s,n)=>{n.d(s,{A:()=>t});const t=n.p+"assets/images/open-directory-e1212796ffdac39a41ad3a12e7a0f27f.png"},28453:(e,s,n)=>{n.d(s,{R:()=>r,x:()=>c});var t=n(96540);const i={},o=t.createContext(i);function r(e){const s=t.useContext(o);return t.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),t.createElement(o.Provider,{value:s},e.children)}}}]);
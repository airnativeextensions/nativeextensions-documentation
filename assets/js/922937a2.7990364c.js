"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[3421],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>f});var n=a(67294);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var i=n.createContext({}),o=function(e){var t=n.useContext(i),a=t;return e&&(a="function"==typeof e?e(t):u(u({},t),e)),a},p=function(e){var t=o(e.components);return n.createElement(i.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,l=e.mdxType,r=e.originalType,i=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),c=o(a),m=l,f=c["".concat(i,".").concat(m)]||c[m]||d[m]||r;return a?n.createElement(f,u(u({ref:t},p),{},{components:a})):n.createElement(f,u({ref:t},p))}));function f(e,t){var a=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var r=a.length,u=new Array(r);u[0]=m;var s={};for(var i in t)hasOwnProperty.call(t,i)&&(s[i]=t[i]);s.originalType=e,s[c]="string"==typeof e?e:l,u[1]=s;for(var o=2;o<r;o++)u[o]=a[o];return n.createElement.apply(null,u)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},85162:(e,t,a)=>{a.d(t,{Z:()=>u});var n=a(67294),l=a(86010);const r={tabItem:"tabItem_Ymn6"};function u(e){let{children:t,hidden:a,className:u}=e;return n.createElement("div",{role:"tabpanel",className:(0,l.Z)(r.tabItem,u),hidden:a},t)}},74866:(e,t,a)=>{a.d(t,{Z:()=>I});var n=a(87462),l=a(67294),r=a(86010),u=a(12466),s=a(16550),i=a(91980),o=a(67392),p=a(50012);function c(e){return function(e){var t,a;return null!=(t=null==(a=l.Children.map(e,(e=>{if(!e||(0,l.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})))?void 0:a.filter(Boolean))?t:[]}(e).map((e=>{let{props:{value:t,label:a,attributes:n,default:l}}=e;return{value:t,label:a,attributes:n,default:l}}))}function d(e){const{values:t,children:a}=e;return(0,l.useMemo)((()=>{const e=null!=t?t:c(a);return function(e){const t=(0,o.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error('Docusaurus error: Duplicate values "'+t.map((e=>e.value)).join(", ")+'" found in <Tabs>. Every value needs to be unique.')}(e),e}),[t,a])}function m(e){let{value:t,tabValues:a}=e;return a.some((e=>e.value===t))}function f(e){let{queryString:t=!1,groupId:a}=e;const n=(0,s.k6)(),r=function(e){let{queryString:t=!1,groupId:a}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!a)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=a?a:null}({queryString:t,groupId:a});return[(0,i._X)(r),(0,l.useCallback)((e=>{if(!r)return;const t=new URLSearchParams(n.location.search);t.set(r,e),n.replace({...n.location,search:t.toString()})}),[r,n])]}function v(e){const{defaultValue:t,queryString:a=!1,groupId:n}=e,r=d(e),[u,s]=(0,l.useState)((()=>function(e){var t;let{defaultValue:a,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(a){if(!m({value:a,tabValues:n}))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+a+'" but none of its children has the corresponding value. Available values are: '+n.map((e=>e.value)).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");return a}const l=null!=(t=n.find((e=>e.default)))?t:n[0];if(!l)throw new Error("Unexpected error: 0 tabValues");return l.value}({defaultValue:t,tabValues:r}))),[i,o]=f({queryString:a,groupId:n}),[c,v]=function(e){let{groupId:t}=e;const a=function(e){return e?"docusaurus.tab."+e:null}(t),[n,r]=(0,p.Nk)(a);return[n,(0,l.useCallback)((e=>{a&&r.set(e)}),[a,r])]}({groupId:n}),g=(()=>{const e=null!=i?i:c;return m({value:e,tabValues:r})?e:null})();(0,l.useLayoutEffect)((()=>{g&&s(g)}),[g]);return{selectedValue:u,selectValue:(0,l.useCallback)((e=>{if(!m({value:e,tabValues:r}))throw new Error("Can't select invalid tab value="+e);s(e),o(e),v(e)}),[o,v,r]),tabValues:r}}var g=a(72389);const y={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function k(e){let{className:t,block:a,selectedValue:s,selectValue:i,tabValues:o}=e;const p=[],{blockElementScrollPositionUntilNextRender:c}=(0,u.o5)(),d=e=>{const t=e.currentTarget,a=p.indexOf(t),n=o[a].value;n!==s&&(c(t),i(n))},m=e=>{var t;let a=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{var n;const t=p.indexOf(e.currentTarget)+1;a=null!=(n=p[t])?n:p[0];break}case"ArrowLeft":{var l;const t=p.indexOf(e.currentTarget)-1;a=null!=(l=p[t])?l:p[p.length-1];break}}null==(t=a)||t.focus()};return l.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":a},t)},o.map((e=>{let{value:t,label:a,attributes:u}=e;return l.createElement("li",(0,n.Z)({role:"tab",tabIndex:s===t?0:-1,"aria-selected":s===t,key:t,ref:e=>p.push(e),onKeyDown:m,onClick:d},u,{className:(0,r.Z)("tabs__item",y.tabItem,null==u?void 0:u.className,{"tabs__item--active":s===t})}),null!=a?a:t)})))}function h(e){let{lazy:t,children:a,selectedValue:n}=e;const r=(Array.isArray(a)?a:[a]).filter(Boolean);if(t){const e=r.find((e=>e.props.value===n));return e?(0,l.cloneElement)(e,{className:"margin-top--md"}):null}return l.createElement("div",{className:"margin-top--md"},r.map(((e,t)=>(0,l.cloneElement)(e,{key:t,hidden:e.props.value!==n}))))}function b(e){const t=v(e);return l.createElement("div",{className:(0,r.Z)("tabs-container",y.tabList)},l.createElement(k,(0,n.Z)({},e,t)),l.createElement(h,(0,n.Z)({},e,t)))}function I(e){const t=(0,g.Z)();return l.createElement(b,(0,n.Z)({key:String(t)},e))}},59416:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>i,default:()=>f,frontMatter:()=>s,metadata:()=>o,toc:()=>c});var n=a(87462),l=(a(67294),a(3905)),r=a(74866),u=a(85162);const s={title:"Usage",sidebar_label:"Usage"},i=void 0,o={unversionedId:"appgroupdefaults/usage",id:"appgroupdefaults/usage",title:"Usage",description:"Setup",source:"@site/docs/appgroupdefaults/usage.mdx",sourceDirName:"appgroupdefaults",slug:"/appgroupdefaults/usage",permalink:"/docs/appgroupdefaults/usage",draft:!1,tags:[],version:"current",frontMatter:{title:"Usage",sidebar_label:"Usage"},sidebar:"appgroupdefaults",previous:{title:"Unity",permalink:"/docs/appgroupdefaults/add-the-plugin"},next:{title:"changelog",permalink:"/docs/appgroupdefaults/changelog"}},p={},c=[{value:"Setup",id:"setup",level:2},{value:"Get Values",id:"get-values",level:2},{value:"Set Values",id:"set-values",level:2},{value:"Listing Keys",id:"listing-keys",level:2},{value:"Removing a Value",id:"removing-a-value",level:2},{value:"Removing All Values",id:"removing-all-values",level:2},{value:"Example",id:"example",level:2}],d={toc:c},m="wrapper";function f(e){let{components:t,...a}=e;return(0,l.kt)(m,(0,n.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h2",{id:"setup"},"Setup"),(0,l.kt)("p",null,"To correctly configure the extension you will need to inform it about your group and a salt value to use for encryption."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"The salt value is only applicable to Android however the group is used on both. "),(0,l.kt)("li",{parentName:"ul"},"The salt can be any string you require and is used to setup the file encryption algorithm. ")),(0,l.kt)("p",null,"For the group, you should use the identifier of your AppGroup setup in the iOS member center. (With Unity this is the same value as you entered into the ",(0,l.kt)("inlineCode",{parentName:"p"},"AppGroupDefaultsConfig")," file as the ",(0,l.kt)("inlineCode",{parentName:"p"},"groupIdentifier"),")."),(0,l.kt)("p",null,"This is used to identify the correct group to use on iOS and similarly on Android it's used as the name of the file containing the preferences."),(0,l.kt)(r.Z,{groupId:"framework",defaultValue:"air",values:[{label:"AIR",value:"air"},{label:"Unity",value:"unity"}],mdxType:"Tabs"},(0,l.kt)(u.Z,{value:"air",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-actionscript"},'AppGroupDefaults.service.setup( \n    "12345678", \n    "group.com.distriqt.test", \n    AppGroupDefaults.TYPE_CONTENTPROVIDER \n);\n'))),(0,l.kt)(u.Z,{value:"unity",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-csharp"},'AppGroupDefaults.Instance.Setup( \n    "12345678", \n    "group.com.distriqt.test", \n    AppGroupDefaults.TYPE_CONTENTPROVIDER \n);\n')))),(0,l.kt)("p",null,"The setup call can take a short amount of time to initialise the encryption algorithms so you should wait for the initialised event before attempting to read or write values."),(0,l.kt)("p",null,"With AIR you listen for the ",(0,l.kt)("inlineCode",{parentName:"p"},"AppGroupDefaultsEvent.INITIALISED")," event and with Unity add a listener to the ",(0,l.kt)("inlineCode",{parentName:"p"},"OnInitialised")," event."),(0,l.kt)(r.Z,{groupId:"framework",defaultValue:"air",values:[{label:"AIR",value:"air"},{label:"Unity",value:"unity"}],mdxType:"Tabs"},(0,l.kt)(u.Z,{value:"air",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-actionscript"},'AppGroupDefaults.service.addEventListener( AppGroupDefaultsEvent.INITIALISED, initialisedHandler );\nAppGroupDefaults.service.setup( \n    "12345678", \n    "group.com.distriqt.test",\n    AppGroupDefaults.TYPE_FILE \n);\n                    \nfunction initialisedHandler( event:AppGroupDefaultsEvent ):void\n{\n    // Access data here\n}\n'))),(0,l.kt)(u.Z,{value:"unity",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-csharp"},'AppGroupDefaults.Instance.OnInitialised += Instance_OnInitialised;\nAppGroupDefaults.Instance.Setup(\n    "12345678", // salt\n    "group.com.distriqt.test", // app group identifier\n    AppGroupDefaults.TYPE_CONTENTPROVIDER // Android type\n);\n\nvoid Instance_OnInitialised(distriqt.plugins.appgroupdefaults.events.AppGroupDefaultsEvent e)\n{\n    // Access data here\n}\n')))),(0,l.kt)("h2",{id:"get-values"},"Get Values"),(0,l.kt)("p",null,"Retrieving a value is as simple as calling ",(0,l.kt)("inlineCode",{parentName:"p"},"getValue()")," with the key of interest."),(0,l.kt)(r.Z,{groupId:"framework",defaultValue:"air",values:[{label:"AIR",value:"air"},{label:"Unity",value:"unity"}],mdxType:"Tabs"},(0,l.kt)(u.Z,{value:"air",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-actionscript"},'trace( "value = " + AppGroupDefaults.service.getValue( "some_key" ) );\n'))),(0,l.kt)(u.Z,{value:"unity",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-csharp"},'Debug.Log("value = " + AppGroupDefaults.Instance.GetValue( "some_key" ));\n')))),(0,l.kt)("p",null,"This will return ",(0,l.kt)("inlineCode",{parentName:"p"},"null")," if the key hasn't been set before or if you haven't called ",(0,l.kt)("inlineCode",{parentName:"p"},"setup")," beforehand."),(0,l.kt)("h2",{id:"set-values"},"Set Values"),(0,l.kt)("p",null,"Setting a value is likewise as simple, calling the ",(0,l.kt)("inlineCode",{parentName:"p"},"setValue")," function."),(0,l.kt)(r.Z,{groupId:"framework",defaultValue:"air",values:[{label:"AIR",value:"air"},{label:"Unity",value:"unity"}],mdxType:"Tabs"},(0,l.kt)(u.Z,{value:"air",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-actionscript"},'var success:Boolean = AppGroupDefaults.service.setValue( "some_key", "some_value" );\n'))),(0,l.kt)(u.Z,{value:"unity",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-csharp"},'bool success = AppGroupDefaults.Instance.SetValue("some_key", "some_value");\n')))),(0,l.kt)("p",null,"This will return ",(0,l.kt)("inlineCode",{parentName:"p"},"true")," if the value was set correctly and ",(0,l.kt)("inlineCode",{parentName:"p"},"false")," if there was an issue, most likely\nthat the ",(0,l.kt)("inlineCode",{parentName:"p"},"setup")," function hasn't been called, or if the ",(0,l.kt)("inlineCode",{parentName:"p"},"isSupported")," flag is ",(0,l.kt)("inlineCode",{parentName:"p"},"false"),"."),(0,l.kt)("h2",{id:"listing-keys"},"Listing Keys"),(0,l.kt)("p",null,"You can use the ",(0,l.kt)("inlineCode",{parentName:"p"},"getKeys")," function to retrieve an Array of all the current keys\nset in the defaults. "),(0,l.kt)("p",null,"This allows you to list all settings currently stored in the defaults."),(0,l.kt)(r.Z,{groupId:"framework",defaultValue:"air",values:[{label:"AIR",value:"air"},{label:"Unity",value:"unity"}],mdxType:"Tabs"},(0,l.kt)(u.Z,{value:"air",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-actionscript"},'var keys:Array = AppGroupDefaults.service.getKeys();\nfor each (var key:String in keys)\n{\n    var value:String = AppGroupDefaults.service.getValue( key );\n    trace( key + " = " + value );\n}\n'))),(0,l.kt)(u.Z,{value:"unity",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-csharp"},'string[] keys = AppGroupDefaults.Instance.GetKeys();\nforeach (string key in keys)\n{\n    string value = AppGroupDefaults.Instance.GetValue(key);\n    Debug.Log(key + " = " + value);\n}\n')))),(0,l.kt)("h2",{id:"removing-a-value"},"Removing a Value"),(0,l.kt)("p",null,"If you wish to clear a value and remove it from the defaults, simply call the ",(0,l.kt)("inlineCode",{parentName:"p"},"remove")," function with the key of interest."),(0,l.kt)(r.Z,{groupId:"framework",defaultValue:"air",values:[{label:"AIR",value:"air"},{label:"Unity",value:"unity"}],mdxType:"Tabs"},(0,l.kt)(u.Z,{value:"air",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-actionscript"},'AppGroupDefaults.service.remove( "some_key" );\n'))),(0,l.kt)(u.Z,{value:"unity",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-csharp"},'AppGroupDefaults.Instance.Remove("some_key");\n')))),(0,l.kt)("h2",{id:"removing-all-values"},"Removing All Values"),(0,l.kt)("p",null,"If you wish to remove all values from the defaults, simply call the ",(0,l.kt)("inlineCode",{parentName:"p"},"removeAll")," function:"),(0,l.kt)(r.Z,{groupId:"framework",defaultValue:"air",values:[{label:"AIR",value:"air"},{label:"Unity",value:"unity"}],mdxType:"Tabs"},(0,l.kt)(u.Z,{value:"air",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-actionscript"},"AppGroupDefaults.service.removeAll();\n"))),(0,l.kt)(u.Z,{value:"unity",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-csharp"},"AppGroupDefaults.Instance.RemoveAll();\n")))),(0,l.kt)("h2",{id:"example"},"Example"),(0,l.kt)(r.Z,{groupId:"framework",defaultValue:"air",values:[{label:"AIR",value:"air"},{label:"Unity",value:"unity"}],mdxType:"Tabs"},(0,l.kt)(u.Z,{value:"air",mdxType:"TabItem"},(0,l.kt)("p",null,"The following example shows the core concepts, i.e. the setup process, listening to the ",(0,l.kt)("inlineCode",{parentName:"p"},"AppGroupDefaultsEvent.INITIALISED")," event,\nand getting and setting values."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-actionscript"},'if (AppGroupDefaults.isSupported)\n{\n    AppGroupDefaults.service.addEventListener( AppGroupDefaultsEvent.INITIALISED, initialisedHandler );\n    AppGroupDefaults.service.setup( \n        "12345678", \n        "group.com.distriqt.test",\n        AppGroupDefaults.TYPE_FILE \n    );\n                        \n\n}\n\nfunction initialisedHandler( event:AppGroupDefaultsEvent ):void\n{\n    var someValue:String = AppGroupDefaults.service.getValue( "some_key" );\n\n    AppGroupDefaults.service.setValue("anotherKey", "Sample text from AIR!");\n}\n'))),(0,l.kt)(u.Z,{value:"unity",mdxType:"TabItem"},(0,l.kt)("p",null,"The following example shows the core concepts, i.e. the setup process, listening to the ",(0,l.kt)("inlineCode",{parentName:"p"},"OnInitialised")," event,\nand getting and setting values."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-csharp"},'if (AppGroupDefaults.isSupported)\n{\n    AppGroupDefaults.Instance.OnInitialised += Instance_OnInitialised;\n\n    AppGroupDefaults.Instance.Setup(\n        "12345678", // salt\n        "group.com.distriqt.test", // app group identifier\n        AppGroupDefaults.TYPE_CONTENTPROVIDER // Android type\n    );\n}\n\n\nprivate void Instance_OnInitialised(AppGroupDefaultsEvent e)\n{\n    Debug.Log("OnInitialised");\n\n    string someValue = AppGroupDefaults.Instance.GetValue("someKey");\n\n    AppGroupDefaults.Instance.SetValue("anotherKey", "Sample text from Unity!");\n\n}\n')))))}f.isMDXComponent=!0}}]);
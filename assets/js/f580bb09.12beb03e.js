"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[57097],{3905:function(e,t,r){r.d(t,{Zo:function(){return p},kt:function(){return u}});var a=r(67294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var c=a.createContext({}),l=function(e){var t=a.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},p=function(e){var t=l(e.components);return a.createElement(c.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,i=e.originalType,c=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),d=l(r),u=n,k=d["".concat(c,".").concat(u)]||d[u]||m[u]||i;return r?a.createElement(k,o(o({ref:t},p),{},{components:r})):a.createElement(k,o({ref:t},p))}));function u(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=r.length,o=new Array(i);o[0]=d;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:n,o[1]=s;for(var l=2;l<i;l++)o[l]=r[l];return a.createElement.apply(null,o)}return a.createElement.apply(null,r)}d.displayName="MDXCreateElement"},7995:function(e,t,r){r.r(t),r.d(t,{frontMatter:function(){return o},contentTitle:function(){return s},metadata:function(){return c},toc:function(){return l},default:function(){return m}});var a=r(87462),n=r(63366),i=(r(67294),r(3905)),o={title:"Overlays - Markers",sidebar_label:"Overlays - Markers"},s=void 0,c={unversionedId:"nativemaps/overlays---markers",id:"nativemaps/overlays---markers",isDocsHomePage:!1,title:"Overlays - Markers",description:"Markers are pins located at a single location. They can be used to identify places of interest.",source:"@site/docs/nativemaps/overlays---markers.md",sourceDirName:"nativemaps",slug:"/nativemaps/overlays---markers",permalink:"/docs/nativemaps/overlays---markers",tags:[],version:"current",frontMatter:{title:"Overlays - Markers",sidebar_label:"Overlays - Markers"},sidebar:"nativemaps",previous:{title:"Overlays",permalink:"/docs/nativemaps/overlays"},next:{title:"Overlays - Polylines",permalink:"/docs/nativemaps/overlays---polylines"}},l=[{value:"Adding a Marker",id:"adding-a-marker",children:[]},{value:"Z Order",id:"z-order",children:[{value:"MapKit iOS 11+",id:"mapkit-ios-11",children:[]}]},{value:"Custom Marker Icons",id:"custom-marker-icons",children:[{value:"Offsets",id:"offsets",children:[]},{value:"Interaction",id:"interaction",children:[]}]}],p={toc:l};function m(e){var t=e.components,r=(0,n.Z)(e,["components"]);return(0,i.kt)("wrapper",(0,a.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Markers are pins located at a single location. They can be used to identify places of interest."),(0,i.kt)("p",null,"A marker is represented by the ",(0,i.kt)("inlineCode",{parentName:"p"},"MapMarker")," class."),(0,i.kt)("h2",{id:"adding-a-marker"},"Adding a Marker"),(0,i.kt)("p",null,"To add a marker, create an instance of the ",(0,i.kt)("inlineCode",{parentName:"p"},"MapMarker")," class and then pass this object to the ",(0,i.kt)("inlineCode",{parentName:"p"},"addMarker")," function."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-actionscript"},'var marker:MapMarker = new MapMarker( "demo marker" )\n    .setPosition( new LatLng( 50, 3 ) );\n\nNativeMaps.service.addMarker( marker );\n')),(0,i.kt)("p",null,"This will added the marker to the map using the specified options. The marker will appear immediately at the specified position (animating in if selected)."),(0,i.kt)("h2",{id:"z-order"},"Z Order"),(0,i.kt)("p",null,"You can set the z-index of markers to ensure certain markers remain above others. The z-index specifies the stack order of this marker, relative to other markers on the map. A marker with a high z-index is drawn on top of markers with lower z-indexes. The default z-index value is 0."),(0,i.kt)("p",null,"To change the z-index simply set the ",(0,i.kt)("inlineCode",{parentName:"p"},"zIndex")," property of the ",(0,i.kt)("inlineCode",{parentName:"p"},"MapMarker"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-actionscript"},'var marker:MapMarker = new MapMarker( "demo marker" )\n    .setPosition( new LatLng( 50, 3 ) )\n    .setZIndex( 300 );\n')),(0,i.kt)("h3",{id:"mapkit-ios-11"},"MapKit iOS 11+"),(0,i.kt)("p",null,"With iOS 11 Apple have introduced some major changes as to how the z ordering of markers occurs. "),(0,i.kt)("p",null,'We can no longer apply a z index to simple "pin" markers, i.e. markers without a custom icon. The z-index of markers without a custom icon will be managed by the internal logic of MapKit. We have however been able to override this behaviour for markers with a custom icon. '),(0,i.kt)("h2",{id:"custom-marker-icons"},"Custom Marker Icons"),(0,i.kt)("p",null,"You can use your own imagery for markers, by loading or creating a BitmapData object and creating a ",(0,i.kt)("inlineCode",{parentName:"p"},"CustomMarkerIcon")," with a unique id. You then pass this icon to the extension through the ",(0,i.kt)("inlineCode",{parentName:"p"},"addCustomMarkerIcon")," function. Once you have added a custom marker icon to the extenion you can use the unique id to create markers using the custom icon."),(0,i.kt)("p",null,"For example, firstly create a marker icon from an embedded ",(0,i.kt)("inlineCode",{parentName:"p"},"Marker")," image asset:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-actionscript"},'var markerImage:Bitmap = new Marker() as Bitmap;\n                    \nvar markerIcon:CustomMarkerIcon = new CustomMarkerIcon( "UNIQUE_MARKER_ID" )\n        .setImage( markerImage.bitmapData )\n\nNativeMaps.service.addCustomMarkerIcon( markerIcon );\n')),(0,i.kt)("p",null,"Then create a marker using this icon:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-actionscript"},'var marker:MapMarker = new MapMarker()\n    .setPosition( new LatLng( 50, 3 ) )\n    .setCustomIconId( "UNIQUE_MARKER_ID" );\n\nNativeMaps.service.addMarker( marker );  \n')),(0,i.kt)("h3",{id:"offsets"},"Offsets"),(0,i.kt)("p",null,"You can set the offset to correctly place your icon at the position by specifying the ",(0,i.kt)("inlineCode",{parentName:"p"},"centerOffset")," point of the ",(0,i.kt)("inlineCode",{parentName:"p"},"CustomMarkerIcon"),". The ",(0,i.kt)("inlineCode",{parentName:"p"},"centerOffset")," point is the offset in pixels from the center of the marker image to the position that gets placed at the markers coordinate. Positive offset values move the icon down and to the right, while negative values move it up and to the left. "),(0,i.kt)("p",null,"By default, the center of the marker icon is placed over the coordinate of the marker. i.e. offsets of 0."),(0,i.kt)("p",null,"So to demonstrate, to use the bottom middle of the image as the anchor point you would set the x offset to be ",(0,i.kt)("inlineCode",{parentName:"p"},"0")," and the y offset to be ",(0,i.kt)("inlineCode",{parentName:"p"},"- imageHeight / 2"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-actionscript"},'var markerImage:Bitmap = new Marker() as Bitmap;\n\nvar markerIcon:CustomMarkerIcon = new CustomMarkerIcon( "MARKER_ID_1" )\n    .setImage( markerImage.bitmapData )\n    .setCenterOffset( 0, -markerImage.height * 0.5 );\n')),(0,i.kt)("h3",{id:"interaction"},"Interaction"),(0,i.kt)("h4",{id:"touch-events"},"Touch Events"),(0,i.kt)("p",null,"You can listen for a touch events on markers by listening for the ",(0,i.kt)("inlineCode",{parentName:"p"},"NativeMapEvent.MARKER_TOUCHED")," event."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-actionscript"},"NativeMaps.service.addEventListener( NativeMapEvent.MARKER_TOUCHED, marker_touchHandler );\n")),(0,i.kt)("p",null,"This event will contain the identifier of the marker that was touched, which can be retrieved using the ",(0,i.kt)("inlineCode",{parentName:"p"},"getMarker")," function. For example:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-actionscript"},"function marker_touchHandler( event:NativeMapEvent ):void\n{\n    var selectedMarker:MapMarker = NativeMaps.service.getMarker( event.markerId );\n\n    // Change marker as required\n\n    NativeMaps.service.updateMarker( selectedMarker );\n}       \n")),(0,i.kt)("h4",{id:"drag-events"},"Drag Events"),(0,i.kt)("p",null,"If you have made a marker draggable (see ",(0,i.kt)("inlineCode",{parentName:"p"},"MapMarker.setDraggable()"),") then you can listen for the ",(0,i.kt)("inlineCode",{parentName:"p"},"NativeMapEvent.MARKER_DRAG_START")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"NativeMapEvent.MARKER_DRAG_END")," events to handle drag start and stop events."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-actionscript"},'NativeMaps.service.addEventListener( NativeMapEvent.MARKER_DRAG_START, marker_dragStartHandler );\nNativeMaps.service.addEventListener( NativeMapEvent.MARKER_DRAG_END, marker_dragEndHandler );\n\nfunction marker_dragStartHandler( event:NativeMapEvent ):void \n{\n    trace( "drag start for marker id: " + event.markerId );\n}\n\nfunction marker_dragEndHandler( event:NativeMapEvent ):void \n{\n    trace( "drag end for marker id: " + event.markerId );\n}\n')))}m.isMDXComponent=!0}}]);
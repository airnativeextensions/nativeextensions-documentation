(window.webpackJsonp=window.webpackJsonp||[]).push([[402],{1117:function(e,n,t){"use strict";t.r(n),n.default=t.p+"assets/images/onesignal_servicevalues-221558fe3e07c28f607665372574714c.png"},458:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return a})),t.d(n,"metadata",(function(){return c})),t.d(n,"rightToc",(function(){return s})),t.d(n,"default",(function(){return l}));var i=t(2),o=t(6),r=(t(0),t(823)),a={title:"Setup your Service - OneSignal",sidebar_label:"OneSignal"},c={unversionedId:"pushnotifications/onesignal/setup-your-service",id:"pushnotifications/onesignal/setup-your-service",isDocsHomePage:!1,title:"Setup your Service - OneSignal",description:"OneSignal does most of the initialisation of your application from the server so you should",source:"@site/docs/pushnotifications/onesignal/setup-your-service.md",slug:"/pushnotifications/onesignal/setup-your-service",permalink:"/docs/pushnotifications/onesignal/setup-your-service",version:"current",sidebar_label:"OneSignal",sidebar:"pushnotifications",previous:{title:"Setup your Service - Azure",permalink:"/docs/pushnotifications/azure/setup-your-service"},next:{title:"Request Authorisation",permalink:"/docs/pushnotifications/request-authorisation"}},s=[{value:"Android notification sounds",id:"android-notification-sounds",children:[]}],u={rightToc:s};function l(e){var n=e.components,a=Object(o.a)(e,["components"]);return Object(r.b)("wrapper",Object(i.a)({},u,a,{components:n,mdxType:"MDXLayout"}),Object(r.b)("p",null,"OneSignal does most of the initialisation of your application from the server so you should\njust need to add your app id to the service and call ",Object(r.b)("inlineCode",{parentName:"p"},"setup"),"."),Object(r.b)("p",null,"The following shows how to configure the ",Object(r.b)("inlineCode",{parentName:"p"},"Service")," for usage with your One Signal app."),Object(r.b)("pre",null,Object(r.b)("code",Object(i.a)({parentName:"pre"},{className:"language-actionscript"}),"var service:Service = new Service( \n    Service.ONESIGNAL, \n    ONESIGNAL_APP_ID );\nservice.enableNotificationsWhenActive = true;\n    \nPushNotifications.service.setup( service );\n")),Object(r.b)("p",null,"The ",Object(r.b)("inlineCode",{parentName:"p"},"ONESIGNAL_APP_ID")," will be your OneSignal App ID which you can retrieve from your App Settings under ",Object(r.b)("strong",{parentName:"p"},"Keys & IDs"),"."),Object(r.b)("p",null,Object(r.b)("img",{src:t(1117).default})),Object(r.b)("h2",{id:"android-notification-sounds"},"Android notification sounds"),Object(r.b)("p",null,"As of Android O notification sounds now need to be specified on a Channel.\nSo in order to play a custom sound on a notification you need to setup a channel. "),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"Note you must have added the FileProvider correctly to your manifest additions for sounds to playback correctly.")),Object(r.b)("p",null,"OneSignal will do this automatically through the dashboard however it requires resources for the notification sounds. The easier method is to setup the channels in your application and then just use the existing notification channel id when sending notifications."),Object(r.b)("pre",null,Object(r.b)("code",Object(i.a)({parentName:"pre"},{className:"language-actionscript"}),'var service:Service = new Service( Service.ONESIGNAL, Config.oneSignalAppId )\n    .setNotificationsWhenActive( true )\n;\n                        \nservice.channels.push(\n    new ChannelBuilder()\n        .setId( "sound_channel" )\n        .setName( "Sound Channel" )\n        .setSound( "assets/notifications/sounds/notification.mp3" )\n        .setImportance( Channel.IMPORTANCE_HIGH )\n        .build()\n);\n                        \nPushNotifications.service.setup( service );\n')),Object(r.b)("p",null,"Then when sending your notification set the channel id to the id defined in your channel (",Object(r.b)("inlineCode",{parentName:"p"},"sound_channel")," in the above example):"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},'Using REST set the "existing_android_channel_id"'),Object(r.b)("li",{parentName:"ul"},'Using the dashboard set the Category to "(Created In App)" and set the Local Channel Id to your channel id.')))}l.isMDXComponent=!0},823:function(e,n,t){"use strict";t.d(n,"a",(function(){return p})),t.d(n,"b",(function(){return b}));var i=t(0),o=t.n(i);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,i,o=function(e,n){if(null==e)return{};var t,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)t=r[i],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)t=r[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var u=o.a.createContext({}),l=function(e){var n=o.a.useContext(u),t=n;return e&&(t="function"==typeof e?e(n):c(c({},n),e)),t},p=function(e){var n=l(e.components);return o.a.createElement(u.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return o.a.createElement(o.a.Fragment,{},n)}},f=o.a.forwardRef((function(e,n){var t=e.components,i=e.mdxType,r=e.originalType,a=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),p=l(t),f=i,b=p["".concat(a,".").concat(f)]||p[f]||d[f]||r;return t?o.a.createElement(b,c(c({ref:n},u),{},{components:t})):o.a.createElement(b,c({ref:n},u))}));function b(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var r=t.length,a=new Array(r);a[0]=f;var c={};for(var s in n)hasOwnProperty.call(n,s)&&(c[s]=n[s]);c.originalType=e,c.mdxType="string"==typeof e?e:i,a[1]=c;for(var u=2;u<r;u++)a[u]=t[u];return o.a.createElement.apply(null,a)}return o.a.createElement.apply(null,t)}f.displayName="MDXCreateElement"}}]);
"use strict";(self.webpackChunknativeextensions_documentation=self.webpackChunknativeextensions_documentation||[]).push([[6181],{14911:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/ane-tutorial-add-flashdevelop-4-6760857db7e3a5e93de5f956096ee557.png"},28453:(e,n,t)=>{t.d(n,{R:()=>d,x:()=>r});var i=t(96540);const s={},o=i.createContext(s);function d(e){const n=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),i.createElement(o.Provider,{value:n},e.children)}},65169:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>r,default:()=>h,frontMatter:()=>d,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"tutorials/getting-started-flashdevelop","title":"Flash Develop","description":"This tutorial will guide you the process of adding an ANE to your AIR application project in FlashDevelop.","source":"@site/docs/tutorials/getting-started-flashdevelop.md","sourceDirName":"tutorials","slug":"/tutorials/getting-started-flashdevelop","permalink":"/docs/tutorials/getting-started-flashdevelop","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Flash Develop","sidebar_label":"Flash Develop"},"sidebar":"tutorials","previous":{"title":"Flash Builder 4.5","permalink":"/docs/tutorials/getting-started-flashbuilder4.5"},"next":{"title":"Animate","permalink":"/docs/tutorials/getting-started-animate"}}');var s=t(74848),o=t(28453);const d={title:"Flash Develop",sidebar_label:"Flash Develop"},r=void 0,a={},l=[{value:"Adding the Extension",id:"adding-the-extension",level:2},{value:"Adding the Extension ID",id:"adding-the-extension-id",level:2},{value:"Determining the Extension ID",id:"determining-the-extension-id",level:3},{value:"Modify Build Scripts",id:"modify-build-scripts",level:2},{value:"<code>Packager.bat</code>",id:"packagerbat",level:3},{value:"<code>Run.bat</code>",id:"runbat",level:3},{value:"Official Links",id:"official-links",level:2}];function c(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"This tutorial will guide you the process of adding an ANE to your AIR application project in FlashDevelop."}),"\n",(0,s.jsxs)(n.p,{children:["An AIR Native Extension (ANE) is a single file with the extension ",(0,s.jsx)(n.code,{children:"ane"}),". This file contains all of the native and actionscript libraries that are implemented by this extension. You don\u2019t need access to a separate SWC file or to the source code to be able to use the ANE."]}),"\n",(0,s.jsx)(n.h2,{id:"adding-the-extension",children:"Adding the Extension"}),"\n",(0,s.jsxs)(n.p,{children:["For the purposes of this example we are going to create directories named ",(0,s.jsx)(n.code,{children:"extensions"})," and ",(0,s.jsx)(n.code,{children:"extensions-extracted"}),". You can name the directories as you require, and they can be the same directory if you wish, however we will keep them separated here to demonstrate the usage of each."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Copy the ANE to the ",(0,s.jsx)(n.code,{children:"extensions"})," directory;"]}),"\n",(0,s.jsxs)(n.li,{children:["In FlashDevelop, right click on the ANE file and select ",(0,s.jsx)(n.strong,{children:"Add To Library"})]}),"\n",(0,s.jsxs)(n.li,{children:["Unzip the ANE to a folder named ",(0,s.jsx)(n.code,{children:"extension_id.ane"}),", in the ",(0,s.jsx)(n.code,{children:"extensions-extracted"})," directory","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"the extension id is not neccessarily the same as the name of the ANE file however with nearly all distriqt's ANEs it will be, see below to determine howto get the extension id from an ANE;"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["An ANE is simply a zip container so you can directly unzip it, or if you need to, rename it to have the ",(0,s.jsx)(n.code,{children:".zip"})," extension and open it in your zip software."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"For example with the Battery ANE, you should have the following:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"extensions/com.distriqt.Battery.ane\n\nextensions-extracted/com.distriqt.Battery.ane/mimetype\nextensions-extracted/com.distriqt.Battery.ane/catalog.xml\nextensions-extracted/com.distriqt.Battery.ane/library.swf\nextensions-extracted/com.distriqt.Battery.ane/META-INF/ANE/extension.xml\nextensions-extracted/com.distriqt.Battery.ane/META-INF/ANE/Android-ARM/library.swf\nextensions-extracted/com.distriqt.Battery.ane/META-INF/ANE/Android-ARM/distriqt.extension.battery.android.jar\n...\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Unzipping the extension to the extracted directory is used by Flash Develop for debug launches. ",(0,s.jsx)(n.strong,{children:"You should ensure every time you update an ANE that you update the extracted folder as well."})]}),"\n",(0,s.jsx)(n.h2,{id:"adding-the-extension-id",children:"Adding the Extension ID"}),"\n",(0,s.jsx)(n.p,{children:"FlashDevelop requires that you manually add the extension id to your application descriptor."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:t(14911).A+"",width:"401",height:"108"})}),"\n",(0,s.jsx)(n.p,{children:"The extension id is a string that is used to identify the ANE and correctly package and create the extension. The extension id should be provided by the developer of the ANE."}),"\n",(0,s.jsxs)(n.p,{children:["To add the extension id, open up your application descriptor and add the extension id to the ",(0,s.jsx)(n.code,{children:"extensions"})," node as below:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0" encoding="utf-8" ?>\n<application xmlns="http://ns.adobe.com/air/application/26.0">\n\n    \x3c!-- OTHER DESCRIPTOR INFORMATION --\x3e\n\n    <extensions>\n        <extensionID>com.distriqt.Battery</extensionID>\n    </extensions>\n\n</application>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"determining-the-extension-id",children:"Determining the Extension ID"}),"\n",(0,s.jsx)(n.p,{children:"The native extension ID is not necessarily the name of the ANE file. If you are unsure of the extension id it can be determined from the extracted contents of the ANE."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Unzip the ANE;"}),"\n",(0,s.jsxs)(n.li,{children:["Open ",(0,s.jsx)(n.code,{children:"META-INF/ANE/extension.xml"}),";"]}),"\n",(0,s.jsxs)(n.li,{children:["Find the ",(0,s.jsx)(n.code,{children:"<id>"})," tag, this will contain the extension id;"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"For example for the Battery ANE:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<extension xmlns="http://ns.adobe.com/air/extension/4.0">\n\t<id>com.distriqt.Battery</id>\n\t<versionNumber>1.0.0</versionNumber>\n\t<platforms>\n    ...\n'})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["With the distriqt extensions the extension id is the name of the ANE file, eg for the Battery ANE the file is ",(0,s.jsx)(n.code,{children:"com.distriqt.Battery.ane"})," and the extension id is ",(0,s.jsx)(n.code,{children:"com.distriqt.Battery"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"Extensions that have multiple versions, eg PushNotifications, where there are multiple files:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"com.distriqt.PushNotifications.ane"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"com.distriqt.PushNotifications.AllServices.ane"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"com.distriqt.PushNotifications.Azure.ane"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"com.distriqt.PushNotifications.FCM.ane"})}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["the extension id is the first part of the filename without the variant: i.e. ",(0,s.jsx)(n.code,{children:"com.distriqt.PushNotifications"})]}),"\n",(0,s.jsx)(n.p,{children:"If you have any concerns drop a question in github and we will clear up any confusion."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"modify-build-scripts",children:"Modify Build Scripts"}),"\n",(0,s.jsx)(n.p,{children:"FlashDevelop uses a series of scripts to package and run your application. We have to modify these scripts to be able to correctly specify the location of the extensions."}),"\n",(0,s.jsx)(n.h3,{id:"packagerbat",children:(0,s.jsx)(n.code,{children:"Packager.bat"})}),"\n",(0,s.jsxs)(n.p,{children:["The packager script is used to package your application. You will need to find the ",(0,s.jsx)(n.code,{children:"adt"})," line and add the ",(0,s.jsx)(n.code,{children:"-extdir"})," option specifying the directory containing the extensions as follows:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"call adt -package %OPTIONS% %SIGNING_OPTIONS% -target native %AIR_TARGET% %APP_XML% %FILE_OR_DIR% -extdir extensions/\n"})}),"\n",(0,s.jsx)(n.h3,{id:"runbat",children:(0,s.jsx)(n.code,{children:"Run.bat"})}),"\n",(0,s.jsxs)(n.p,{children:["The run script is used for debugging your content. We need to find the ",(0,s.jsx)(n.code,{children:"adl"})," line which is the debug launcher and add the ",(0,s.jsx)(n.code,{children:"-extdir"})," option as follows:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'adl "%APP_XML%" "%APP_DIR%" -extdir extensions-extracted/\n'})}),"\n",(0,s.jsx)(n.p,{children:"You will now be able to package and use the extension in your application."}),"\n",(0,s.jsx)(n.h2,{id:"official-links",children:"Official Links"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"http://www.flashdevelop.org/wikidocs/index.php?title=F.A.Q#What_needs_to_be_done_to_use_an_.ANE_.28Adobe_Native_Extension.29_with_FD.3F",children:"Flash Develop FAQ"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}}}]);